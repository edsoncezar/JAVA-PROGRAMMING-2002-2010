<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Telling JAWS about your tables</title><link rel="stylesheet" href="styles.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets Vimages/callouts/"><link rel="home" href="index.html" title="JBoss 3.0 Documentation"><link rel="up" href="ch06.html" title="Chapter 6. Customizing JAWS"><link rel="previous" href="ch06s03.html" title="JAWS Options"><link rel="next" href="ch06s07.html" title="Declaring finders"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><table border="0" cellpadding="0" cellspacing="0" height="65"><tr height="65"><td rowspan="2"><img src="images\jboss.gif" border="0"></td><td rowspan="2" background="images\gbar.gif" width="100%" align="right" valign="top"><a href="index.html"><img src="images\doc.gif" border="0"></a><a href="ch06.html"><img src="images\toc.gif" border="0"></a><a href="ch06s03.html"><img src="images\prev.gif" border="0"></a><a href="ch06s07.html"><img src="images\next.gif" border="0"></a></td></tr><tr></tr></table><div class="section"><a name="d0e2184"></a><div class="titlepage"><div><h2 class="title" style="clear: both"><a name="d0e2184"></a>Telling JAWS about your tables</h2></div></div><p>JAWS will use one different table for each of your CMP entity beans. The table 
for one entity bean will contain one column for each of the
CMP fields of this entity.</p><p>By default, JAWS will create the tables for you. The name of the table will be 
the ejb-name of the bean, and the name of the columns will be
the names of the CMP fields. The jdbc type and the sql type will be the ones 
given by the type-mapping. (see how the jdbc and sql type work
in <a href="ch06s13.html" title="Defining a type mapping">the section called &#8220;Defining a type mapping&#8221;</a>)</p><p>However, you may want to override this behavior and tell JAWS which 
names/types to use. For example, you may want JAWS to use an
already existing table. To do this, you must set these parameters in the  &lt;enterprise-beans&gt;  section of you jaws.xml file.
</p><div class="section"><a name="d0e2195"></a><div class="titlepage"><div><h3 class="title"><a name="d0e2195"></a>Example 1</h3></div></div><p>You create an entity bean that will represent a class. You 
already have the table in your database, it was created using the
following SQL statement:</p><p>CREATE TABLE CLASS (ID INTEGER, TEACHER VARCHAR(100), STUDENTNBR INTEGER);</p><p>This is how the your xml file will look like:</p><pre class="programlisting">
&lt;jaws&gt;
	&lt;enterprise-beans&gt;
		&lt;entity&gt;
			&lt;ejb-name&gt;ClassBean&lt;/ejb-name&gt;
			&lt;table-name&gt;CLASS&lt;/table-name&gt;
			&lt;create-table&gt;false&lt;/create-table&gt;
			&lt;cmp-field&gt;
				&lt;field-name&gt;classId&lt;/field-name&gt;
				&lt;column-name&gt;ID&lt;/column-name&gt;
			&lt;/cmp-field&gt;
			&lt;cmp-field&gt;
				&lt;field-name&gt;teacherName&lt;/field-name&gt;
				&lt;column-name&gt;TEACHER&lt;/column-name&gt;
			&lt;/cmp-field&gt;
			&lt;cmp-field&gt;
				&lt;field-name&gt;studentCount&lt;/field-name&gt;
				&lt;column-name&gt;STUDENTNBR&lt;/column-name&gt;
			&lt;/cmp-field&gt;
		&lt;/entity&gt;
	&lt;/enterprise-beans&gt;
&lt;/jaws&gt; 
 </pre></div><div class="section"><a name="d0e2206"></a><div class="titlepage"><div><h3 class="title"><a name="d0e2206"></a>Example 2</h3></div></div><p>Your Class bean has a String field to hold the Teacher name. 
         You don't want to use the default mapping for a String
(VARCHAR(256)) since a name is not that long. Your xml file will 
look like this:</p><pre class="programlisting">
&lt;jaws&gt;
	&lt;enterprise-beans&gt;
		&lt;entity&gt;
			&lt;ejb-name&gt;ClassBean&lt;/ejb-name&gt;
			...
			&lt;cmp-field&gt;
				&lt;field-name&gt;teacherName&lt;/field-name&gt;
				&lt;column-name&gt;TEACHER&lt;/column-name&gt;
				&lt;jdbc-type&gt;VARCHAR&lt;/jdbc-type&gt;
				&lt;sql-type&gt;VARCHAR(100)&lt;/sql-type&gt;
			&lt;/cmp-field&gt;
			...
		&lt;/entity&gt;
	&lt;/enterprise-beans&gt;
&lt;/jaws&gt; 
 </pre><p>Note that the contents of the  &lt;ejb-name&gt; tag and of all the 
 &lt;field-name&gt;  tags must match the ones declared in 
ejb-jar.xml.</p></div></div><table border="0" cellpadding="0" cellspacing="0" height="65"><tr height="65"><td rowspan="2"><img src="images\gbar.gif" width="432" height="79"></td><td rowspan="2" background="images\gbar.gif" width="100%" align="right" valign="top"><a href="index.html"><img src="images\doc.gif" border="0"></a><a href="ch06.html"><img src="images\toc.gif" border="0"></a><a href="ch06s03.html"><img src="images\prev.gif" border="0"></a><a href="ch06s07.html"><img src="images\next.gif" border="0"></a></td></tr><tr></tr></table></body></html>