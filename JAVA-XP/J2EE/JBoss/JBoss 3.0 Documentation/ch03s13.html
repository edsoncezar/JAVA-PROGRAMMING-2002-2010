<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Migration from older jboss versions</title><link rel="stylesheet" href="styles.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets Vimages/callouts/"><link rel="home" href="index.html" title="JBoss 3.0 Documentation"><link rel="up" href="ch03.html" title="Chapter 3. Using Databases and other Enterprise Resources"><link rel="previous" href="ch03s12.html" title="Examples for specific databases"><link rel="next" href="ch04.html" title="Chapter 4. Feature Matrix: JBossCX (JBoss version 3.0)"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><table border="0" cellpadding="0" cellspacing="0" height="65"><tr height="65"><td rowspan="2"><img src="images\jboss.gif" border="0"></td><td rowspan="2" background="images\gbar.gif" width="100%" align="right" valign="top"><a href="index.html"><img src="images\doc.gif" border="0"></a><a href="ch03.html"><img src="images\toc.gif" border="0"></a><a href="ch03s12.html"><img src="images\prev.gif" border="0"></a><a href="ch04.html"><img src="images\next.gif" border="0"></a></td></tr><tr></tr></table><div class="section"><a name="resource-migration"></a><div class="titlepage"><div><h2 class="title" style="clear: both"><a name="resource-migration"></a>Migration from older jboss versions</h2></div></div><p>Previous versions of jboss provided database connectivity and connection pooling through the XADataSourceLoaderMBean.  This was normally used with the XADataSourceImpl, which provided an xa interface for a non-xa jdbc driver.  Of course, since the underlying driver did not support xa transactions, neither did the XA wrapper.  These drivers can now be used with the Minerva JDBC LocalTransaction ResourceAdapter, which works with the transaction manager using local, non-xa transactions, eliminating the confusion of imitating but not implementing xa semantics.  If you have a true XADataSource implementation for your database, you can instead use the Minerva JDBC XATransaction ResourceAdapter, which provides full xa support.</p><p>Most of the parameters in an XADataSourceLoader configuration have direct parallels in a ConnectionFactoryLoader configuration.</p><p>Normally the easiest migration path is to select a configuration example for your database from the provided examples and to modify it until it works.  If you find errors or work out a configuration for a database for which there is no example, please contribute back to the JBoss community by supplying us with your configuration.  Questions on this subject should be asked in the Database and Persistence forum.</p><p>Migration results in the following conversions:
        <div class="orderedlist"><ol type="1"><li><p><a name="d0e1267"></a>An XADataSourceLoader using the XADataSourceImpl wrapper converts to the LocalTransaction resource adapter and the LocalTransaction pool.</p></li><li><p><a name="d0e1270"></a>An XADataSourceLoader using some other XADataSource class converts to the XATransaction resource adapter and the XATransaction pool.</p></li><li><p><a name="d0e1273"></a>A JDBCDataSourceLoader converts to the LocatlTransaction resource adapter and the NoTransaction pool.  Note that clients using connections from this connection factory are completely in charge of transactions, and must use the connection.commit/rollback methods since UserTransaction works through the Transaction Manager which has no communication with the connection.</p></li></ol></div>
    </p></div><table border="0" cellpadding="0" cellspacing="0" height="65"><tr height="65"><td rowspan="2"><img src="images\gbar.gif" width="432" height="79"></td><td rowspan="2" background="images\gbar.gif" width="100%" align="right" valign="top"><a href="index.html"><img src="images\doc.gif" border="0"></a><a href="ch03.html"><img src="images\toc.gif" border="0"></a><a href="ch03s12.html"><img src="images\prev.gif" border="0"></a><a href="ch04.html"><img src="images\next.gif" border="0"></a></td></tr><tr></tr></table></body></html>