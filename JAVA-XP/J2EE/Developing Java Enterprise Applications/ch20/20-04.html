<HTML>
<HEAD>


<TITLE>Developing Java Enterprise Applications:Programming with the Java Messaging Service</TITLE>





<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="20-03.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="20-05.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<P><BR></P>
<P>
</P>
<TABLE WIDTH="100%"><TR>
<TD CAPTION ALIGN="LEFT" COLSPAN="2"><B>Table 20.3</B> Session Methods
<TR>
<TD COLSPAN="2"><HR>
<TR>
<TH VALIGN="TOP" WIDTH="25%" ALIGN="LEFT">METHOD
<TH VALIGN="TOP" ALIGN="LEFT">DESCRIPTION
<TR>
<TD COLSPAN="2"><HR>
<TR>
<TD VALIGN="TOP" ALIGN="LEFT"><SMALL>public BytesMessage createBytesMessage() throws JMSException</SMALL>
<TD VALIGN="TOP" ALIGN="LEFT">Creates a message that represents a collection of bytes. This type of message is often used to &#147;talk&#148; to systems using non-JMS messaging code.
<TR>
<TD COLSPAN="2"><HR>
<TR>
<TD VALIGN="TOP" ALIGN="LEFT"><SMALL>public MapMessage createMapMessage() JMSException</SMALL>
<TD VALIGN="TOP" ALIGN="LEFT">Creates a message that stores key-value throws pairs.
<TR>
<TD COLSPAN="2"><HR>
<TR>
<TD VALIGN="TOP" ALIGN="LEFT"><SMALL>public Message createMessage() throws JMSException</SMALL>
<TD VALIGN="TOP" ALIGN="LEFT">Creates a default message that contains no body information.
<TR>
<TD COLSPAN="2"><HR>
<TR>
<TD VALIGN="TOP" ALIGN="LEFT"><SMALL>public ObjectMessage createObjectMessage() JMSException</SMALL>
<TD VALIGN="TOP" ALIGN="LEFT">Creates a message containing a single, throws serializable object.
<TR>
<TD COLSPAN="2"><HR>
<TR>
<TD VALIGN="TOP" ALIGN="LEFT"><SMALL>public ObjectMessage createObjectMessage(Serializable object) throws JMSException</SMALL>
<TD VALIGN="TOP" ALIGN="LEFT">Creates a message containing a single, serializable object and specifies the object.
<TR>
<TD COLSPAN="2"><HR>
<TR>
<TD VALIGN="TOP" ALIGN="LEFT"><SMALL>public StreamMessage createStreamMessage() throws JMSException</SMALL>
<TD VALIGN="TOP" ALIGN="LEFT">Creates a message that contains a stream of self-defining data. Like the BytesMessage, this type of message is often used to interact with non-JMS clients.
<TR>
<TD COLSPAN="2"><HR>
<TR>
<TD VALIGN="TOP" ALIGN="LEFT"><SMALL>public TextMessage createTextMessage() throws JMSException</SMALL>
<TD VALIGN="TOP" ALIGN="LEFT">Creates a message containing a string.
<TR>
<TD COLSPAN="2"><HR>
<TR>
<TD VALIGN="TOP" ALIGN="LEFT"><SMALL>public TextMessage createTextMessage(StringBuffer stringBuffer) throws JMSException</SMALL>
<TD VALIGN="TOP" ALIGN="LEFT">Creates a message containing a string and defines the string.
<TR>
<TD COLSPAN="2"><HR>
<TR>
<TD VALIGN="TOP" ALIGN="LEFT"><SMALL>public boolean getTransacted() throws JMSException</SMALL>
<TD VALIGN="TOP" ALIGN="LEFT">Returns true if the session is transacted; returns false if the session is not using transactions.
<TR>
<TD COLSPAN="2"><HR>
<TR>
<TD VALIGN="TOP" ALIGN="LEFT"><SMALL>public void commit() throws JMSException</SMALL>
<TD VALIGN="TOP" ALIGN="LEFT">If the session is transacted, commit sends any waiting messages and acknowledges receipt of any received messages.
<TR>
<TD COLSPAN="2"><HR>
<TR>
<TD VALIGN="TOP" ALIGN="LEFT"><SMALL>public void rollback() throws JMSException</SMALL>
<TD VALIGN="TOP" ALIGN="LEFT">If the session is transacted, rollback removes any messages that were sent from being sent and will cause messages that were received to be redelivered.
<TR>
<TD COLSPAN="2"><HR>
<TR>
<TD VALIGN="TOP" ALIGN="LEFT"><SMALL>public void close() throws JMSException</SMALL>
<TD VALIGN="TOP" ALIGN="LEFT">Closes the session, freeing any resources that it used.
<TR>
<TD COLSPAN="2"><HR>
<TR>
<TD VALIGN="TOP" ALIGN="LEFT"><SMALL>public void recover() throws JMSException</SMALL>
<TD VALIGN="TOP" ALIGN="LEFT">Tells the session to redeliver unacknowledged messages, after marking them as such. New messages will continue to be delivered normally.
<TR>
<TD COLSPAN="2"><HR>
<TR>
<TD VALIGN="TOP" ALIGN="LEFT"><SMALL>public MessageListener getMessageListener() throws JMSException</SMALL>
<TD VALIGN="TOP" ALIGN="LEFT">Returns the session&#146;s message listener, if one is assigned.
<TR>
<TD COLSPAN="2"><HR>
<TR>
<TD VALIGN="TOP" ALIGN="LEFT"><SMALL>public void setMessageListener(MessageListener listener) throws JMSException</SMALL>
<TD VALIGN="TOP" ALIGN="LEFT">Assigns a message listener to the session.
<TR>
<TD COLSPAN="2"><HR>
</TABLE>
<P>When appropriate, the listener is sent this message with a real JMS message as the argument. The JMS specification makes two statements about these listeners. First, they will not have onMessage called by two threads at the same time. Second, onMessage should not throw any exceptions. Message listeners are discussed more in a moment.
</P><P><BR></P>
<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="20-03.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="20-05.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>





</BODY>
</HTML>

