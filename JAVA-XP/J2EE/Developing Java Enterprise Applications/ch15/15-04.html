<HTML>
<HEAD>


<TITLE>Developing Java Enterprise Applications:What Are Enterprise JavaBeans?</TITLE>





<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="15-03.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="..\ch16\16-01.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<P><BR></P>
<P>Entity beans also fall into two subcategories. <I>Container-managed entity beans</I> rely on their container to make them persistent. Writing container-managed beans allows the programmer to ignore persistence and the deployer to define and change persistence, without conflicts between them. <I>Bean-managed entity beans</I> are responsible for managing their own persistence. Although the bean may use JDBC to manage its state, this is up to the developer. Think of these beans as representing a row in a database. The server automatically keeps the row and object in sync. These beans are especially useful when the EJB host is a database. In this situation, the bean has direct access to its data, and the server can create beans as needed for each row in a table. At the same time, clients interact with objects, joyfully na&#239;ve to the database activities occurring on their behalf.</P>
<P>Some specific characteristics of entity beans:</P>
<DL>
<DD><B>Entity beans are transactional.</B> Changes to their persistent state occur inside a transaction scope, unless the deployer specifically turns this off.
<DD><B>Entity beans can be accessed by multiple users at the same time.</B> For example, a bean representing a customer account may be accessed by a sales person and the credit department simultaneously.
<DD><B>Entity beans are persistent.</B> A bean representing an American Express customer might indicate the person has been a member since 1990 or earlier. These beans should survive server crashes transparently to the client.
</DL>
<P>Both types of beans &#147;understand&#148; the concept of transactions. These transactions are distributed, not local, so the client that accesses a bean can start a transaction that propagates to the JDBC connections created by the bean. Distributed transaction support is a feature of the container, and should be provided transparently to the bean developer. Chapter 23, &#147;Using Transactions with Enterprise JavaBeans&#148; discusses how the developer can interact with transactions and how the deployer can define the transactional behavior for a bean.
</P>
<P>Deciding when to use Enterprise JavaBeans is really a part of the design process. Designing a distributed enterprise application requires you to break the problem into pieces that will be deployed on various computers. If you plan to install an entire application on one computer&#151;the client&#151;EJBs aren&#146;t really necessary. Where they become important is at the back end of a two-plus-tier application.</P>
<P>When defining these multitier applications, session beans should be used to offload processing from the client. The desire to move processing from the client can take a number of forms:</P>
<DL>
<DD><B>Improved performance.</B> Bigger computers are often used to improve performance for a simulation or complex data analysis.
<DD><B>Centralized business process definition.</B> An enterprise bean can encapsulate a business rule. Chapter 18, &#147;Enterprise JavaBean Business Rules Engine,&#148; contains an example of how a bean can be used to authorize a check request or perform some other business decision.
<DD><B>Protected application implementation.</B> Developers may want to protect some of their code by placing it on the server. This is especially true in Java, in which code can be easily decompiled if it is not obfuscated. Developers may want to hide key intellectual property from the user to protect it.
<DD><B>Centralized security.</B> EJBs allow the administrator to define access to them. This access and its implementation are centralized, protecting attacks that spoof the implementation in some way.
<DD><B>Legacy connectivity.</B> Many enterprise applications need to communicate with existing applications. EJBs can be used to encapsulate this connectivity so that if the legacy system is replaced, the client does not need to be updated. Also, only the EJB needs to have the software necessary to communicate with the legacy code; the clients do not.
</DL>
<P>Entity beans are really used to represent parts of an application. In situations in which an application accesses a database that supports EJB, the entity beans can be used to abstract the specifics of the database model. For example, a Customer object can be designed to provide access to its accounts. Accounts will also have a list of associated customers. For the Java programmer, it is much easier to interact with these two types of objects and their relationships as enumerations than to understand the database tables used to implement the many-to-many relationship. The entity bean, or even a session bean, also hides the database implementation from the client program. The database can change without the client being redesigned or reinstalled&#151;an overall maintenance win.
</P>
<H3><A NAME="Heading10"></A><FONT COLOR="#000077">EJB and CORBA</FONT></H3>
<P>The EJB specification does not dictate the protocol used to communicate with a bean. One particular mechanism that the specification expects to be supported by many servers is CORBA. This support can be obtained either by running RMI over IIOP or by straight CORBA support in the EJB server, as pictured in Figure 15.6.
</P>
<P>In order for this relationship to work, the specification states that the remote and home interfaces for EJBs can be mapped to IDL using the standard Java-to-IDL mapping. The transaction services defined in the Java Transaction frameworks are specifically designed to work with CORBA. Finally, enterprise beans do have support for a security identity that can be associated with security properties for CORBA or any other provider.</P>
<P><A NAME="Fig6"></A><A HREF="images\15-06.jpg"><IMG SRC="images\15-06t.jpg"></A>
<BR><A HREF="images\15-06.jpg"><FONT COLOR="#000077"><B>Figure 15.6</B></FONT></A>&nbsp;&nbsp;Server support for CORBA.</P>
<P>Using CORBA in Java is a big topic and the subject of several books. Therefore, we did not try to shortchange it here. Instead, we highly suggest <I>Client/Server Programming with Java and CORBA, Second Edition</I> by Bob Orfali and Dan Harkey (John Wiley &amp Sons Inc., 1998). Our other motivation for keeping this discussion minimal was based on the complexity of examples using RMI and a desire not to add to that complexity. If you try to run the examples from this book, especially the larger ones, you will see that they require a lot of setup and administration. This is a by-product of the subject matter and the desire to create real-world examples. We decided that CORBA would add an unnecessary layer of complexity on top of the already potentially confusing situation.</P>
<H3><A NAME="Heading11"></A><FONT COLOR="#000077">Future Enhancements</FONT></H3>
<P>Sun and its partners are already working on the next version of EJB as we write this book. Stay tuned to java.sun.com for updates. Also check with your server provider to see what its plans are. Keep in mind that the specification will lead the implementation by several months for most vendors. In general, EJB 2.0 should provide more features, refine the existing ones, fix any hiccups or bugs, and improve the services and portability that enterprise beans provide.
</P>
<H3><A NAME="Heading12"></A><FONT COLOR="#000077">Summary</FONT></H3>
<P>Enterprise JavaBeans are a powerful tool for designing, implementing, deploying, and managing enterprise level applications. The specification and technology have garnered rave reviews and are being adopted by numerous server vendors, from database vendors to application server vendors and transaction monitor vendors. The next chapter describes how to start programming with Enterprise JavaBeans. Other chapters in this book, including Chapters 18, &#147;Enterprise JavaBean Business Rules Engine,&#148; and Chapter 25, &#147;A Four-Tier Online Store,&#148; include larger examples that depend on enterprise beans for server processing and data management. Combined with servlets for supporting HTTP-style clients and JMS, Enterprise JavaBeans are perhaps the most important technology to consider when designing your applications over the next few years. By building on JNDI, JDBC, JTA, and other supporting technologies, Enterprise JavaBeans are a strong force in today&#146;s enterprise development environment.
</P><P><BR></P>
<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="15-03.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="..\ch16\16-01.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>





</BODY>
</HTML>

