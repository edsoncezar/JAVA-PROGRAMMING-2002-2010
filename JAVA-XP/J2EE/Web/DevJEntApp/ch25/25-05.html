<HTML>
<HEAD>
<META name=vscategory content="Enterprise Management Programming Languages">

<META name=vsisbn content="0471327565">
<META name=vstitle content="Developing Java Enterprise Applications">
<META name=vsauthor content="Stephen Asbury ; Scott R. Weiner">
<META name=searchdescription content="An in-depth, ground-floor introduction to the long-awaited Java Enterprise APIs. As Java rolls out its eagerly anticipated, eight-component battery of Java Enterprise APIs, this book is the ideal introduction for programmers and developers looking to quickly apply the technology's vast capabilities to real-world corporate programming. The authors discuss how to use the different APIs together and with other technologies such as CORBA, COM, Servlets, and Agents. The book also features invaluable information on building Servlet search engines, getting the most out of Java Server Pages, using Enterprise JavaBeans and JDBC to create N-Tier applications, and choosing the appropriate middleware to suit your particular needs. CD-ROM contains re-usable programs in Java and sample software.">
<META name=vsimprint  content="Wiley Computer Publishing ">
<META name=vspublisher content="John Wiley & Sons, Inc.">
<META name=vspubdate content="2/1/99">

<TITLE>Developing Java Enterprise Applications:A Four-Tier Online Store</TITLE>

<!-- HEADER -->

<STYLE type="text/css"> 
 <!--
 A:hover  {
 	color : Red;
 }
 -->
</STYLE>

<META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
<script>
<!--
function displayWindow(url, width, height) {
         var Win = window.open(url,"displayWindow",'width=' + width +',height=' + height + ',resizable=1,scrollbars=yes');
	if (Win) {
		Win.focus();
	}
}
//-->
</script>
<SCRIPT>
<!--
function popUp(url) {
        var Win = window.open(url,"displayWindow",'width=400,height=300,resizable=1,scrollbars=yes');
	if (Win) {
		Win.focus();
	}
}
//-->
</SCRIPT>

</HEAD>

<body background="/images/back.jpg" bgcolor="#FFFFFF" link="#003399" alink="#FF0000" vlink="#003399" topmargin=0 leftmargin=0 marginheight=0 marginwidth=0>

<table bgcolor="#003366" width="100%" border="0" cellpadding="0" cellspacing="0">
	<tr>
		<td colspan="3">
		
		<table>
			<tr valign="top">
				<td bgcolor="#003366">&nbsp;&nbsp;<a href="http://www.earthweb.com" target="resource window"><img src="/images/ew_logo.jpg" width="109" height="93" vspace="5" alt="EarthWeb" border="0"></a>&nbsp;&nbsp;&nbsp;</td>
				<td bgcolor="#003366"><!--INSERTADTHISPAGE 1 -->

<!--  Begin Ads ITK.BOOKS.ENTERPRISEMANAGEMENT //-->

<!--ACCIPITERADINSERT /site=itknowledge/area=itk.books.enterprisemanagement/aamsz=468x60 -->

<!-- ITK.BOOKS.ENTERPRISEMANAGEMENT End Ads //--></td>
				<td bgcolor="#003366"><!--INSERTADTHISPAGE 1 -->

<!--  Begin Ads ITKBAN.FRONT //-->

<!--ACCIPITERADINSERT /site=itknowledge/area=itk.books.enterprisemanagement/aamsz=160x60/position=top -->

<!-- ITKBAN.FRONT End Ads //--></td>
			</tr>
		</table>
		
		</td>
	</tr>
		
	<tr>
		<td height="1" colspan="3" bgcolor="#003366"><img src="/images/dotclear.gif" border=0 alt=""></td>
	</tr>
</table>

<!-- END HEADER -->


<!-- BEGIN SUB HEADER -->

<table bgcolor="#003366" cellpadding="0" cellspacing="0" border="0" width="100%">

<!-- ITK TOPNAV -->
	
	<tr>
		<td align="left" valign="top" nowrap><a href="/"><img src="/images/top_tabs/home_off.gif" alt="Home" border="0"></a><a href="/pick-account.html"><img src="/images/top_tabs/accountinfo.gif" alt="Account Info" border="0"></a><a href="/PSUser/usrreg.htm?AdminAction=InitAdd&Locale=en&URI=/"><img src="/images/top_tabs/subscribe.gif" alt="Subscribe" border="0"></a><a href="/PSUser/en/acl/psuser_t.htm"><img src="/images/top_tabs/login.gif" alt="Login" border="0"></a><a href="/search/"><img src="/images/top_tabs/search.gif" alt="Search" border="0"></a><a href="/PSUser/en/acl/psuser_t.htm"><img src="/images/top_tabs/my_itknowledge.gif" alt="My ITknowlege" border="0"></a><a href="/faq/faq.html"><img src="/images/top_tabs/faq.gif" alt="FAQ" border="0"></a><a href="/sitemap.html"><img src="/images/top_tabs/sitemap.gif" alt="Sitemap" border="0"></a><a href="/contactus.html"><img src="/images/top_tabs/contact_us.gif" alt="Contact Us" border="0"></a></td> 
	</tr>
	
<!-- END of ITK TOPNAV -->

<!-- ITK LOGO and newsletter sign up -->

</table>
	
<table cellpadding="0" cellspacing="0" border="0" width="100%">

	<tr>
		<td align="left" valign="top" nowrap><img src="/images/itk_logo_sm.jpg" alt="" border="0"></td>
		<td align="right"><font face="verdana, sans-serif" size="1">

<script language="JavaScript">
<!-- 

var days = new Array(8);
days[1] = "Sunday";
days[2] = "Monday";
days[3] = "Tuesday";
days[4] = "Wednesday";
days[5] = "Thursday";
days[6] = "Friday";
days[7] = "Saturday";

var months = new Array(13);
months[1] = "January";
months[2] = "February";
months[3] = "March";
months[4] = "April";
months[5] = "May";
months[6] = "June";
months[7] = "July";
months[8] = "August";
months[9] = "September";
months[10] = "October";
months[11] = "November";
months[12] = "December";

var dateObj = new Date()
var wday = days[dateObj.getDay() + 1]
var lmonth = months[dateObj.getMonth() + 1]
var date = dateObj.getDate()
var fyear = dateObj.getYear()
if (fyear <1000) fyear += 1900;
document.write(wday + ", " + lmonth + " " + date + ", " + fyear)
                
//-->
</script>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>
<br><br>

<form action="/cgi-bin/list.cgi" method=post>
<table border="0" cellspacing="0" cellpadding="0"><tr><td align="right">
<img src="/images/newsletter.gif" alt="ITKnowledge Insider" border=0><br>
</td></tr>
<tr><td align="right">
<input type="hidden" name="state" value="Subscribe">
<input type="hidden" name="listname" value="ITKNOWLEDGE-L">
<input type="hidden" name="name" value="Anonymous">
<input type="text" name="email" value="Enter e-mail" size="12">&nbsp;<input type="image" width=69 height=25 border=0 value="Signup" name="Submit" src="/images/sign_up.gif" align=absmiddle>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;<img src="/images/arrows.gif" alt="" border="0"><font face="Arial,helvetica" size="1">Read the <a href="/newsletters/current.html">current newsletter!</a></font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr></table>
		</form></td>
	</tr>
</table>

<!-- END ITK LOGO and newsletter sign up-->
	
<!-- begin of ITK left NAV -->

<!-- BEGIN LEFT NAVBAR -->

<!-- BEGIN LEFT NAVBAR -->

	<table border="0" cellpadding="0" cellspacing="0">
	
	
		<tr>
		<td width="145" valign="top" align="left" rowspan=8>
		
	<!-- KEYWORD SEARCH -->	
	
	<form name="keyword" method="POST" action="http://ewsearch.earthweb.com:80/jsp/k2search/ewkwk2search.jsp">
<img src="/images/keyword_searcha.gif" vspace="5" width="145" alt="" border="0">
<INPUT type="hidden" name="collection" value="itk">
<INPUT type="hidden" name="altcoll" value="booksitk">
<INPUT type="hidden" name="hl" value="off">
<INPUT name="sortspec" type=hidden value="score desc">
<INPUT name=fields type=hidden value="vdkvgwkey score vstitle vsauthor vsisbn vspublisher vspubdate">		
<INPUT name=imageprefix type=hidden value="http://www.itknowledge.com">
<INPUT name=ssiFolder type=hidden value="itk">
		
		<table width="145" border="0" cellpadding="0" cellspacing="0">
		<tr>
		<td width="145">&nbsp;&nbsp;<input type="text" name="query" value="" size="11">&nbsp;<input type="image" width=28 height=23 border=0 value="Go" name="Go" src="/images/go.gif" align=absmiddle><br>
			<font face="arial, helvetica" size="2">
			<img src="/images/dotclear.gif" width="1" height="5" alt="" border="0"><br>
			
			&nbsp;&nbsp;<a href="/search/search-tips.html"><img src="/images/arrows_blue.gif" alt="" border="0"><font size="1" color="#ffffff">Search Tips</font></a><br>
			&nbsp;&nbsp;<a href="/search/"><img src="/images/arrows_blue.gif" alt="" border="0"><font size="1" color="#ffffff">Advanced Search</font></a><br>
			
			</font>
			
		</td>
		<td width="5"><img src="/images/dotclear.gif" width=5 height=10 hspace="5" alt="" border="0"></td>
		</tr>
		</table>
	</form>
		
		
<!-- BROWSE BY TOPIC -->
		

<form name="meta" method="POST" action="http://ewsearch.earthweb.com:80/jsp/k2search/ewmetak2search.jsp">
<img src="/images/publication_searcha.gif" width="145" alt="" border="0">
<INPUT type="hidden" name="collection" value="booksitk">
<INPUT type="hidden" name="altcoll" value="itk">
<INPUT type="hidden" name="hl" value="off">
<INPUT name=sortspec type=hidden value="score desc">
<INPUT name=fields type=hidden value="vdkvgwkey score vstitle vsauthor vspublisher vspubdate">
<INPUT name=imageprefix type=hidden value="http://www.itknowledge.com">
<INPUT name=ssiFolder type=hidden value="itk">
		
<table width="145" border="0" cellpadding="0" cellspacing="0">
	
			<tr>
			<td valign="top">
			&nbsp;&nbsp;<input type="text" name="query" value="" size="11">&nbsp;<input type="image" width=28 height=23 border=0 value="Go" name="Go" src="/images/go.gif" align=absmiddle><br><font face="arial, helvetica" size="2">
			&nbsp;&nbsp;<SELECT NAME="metatags" style="font-size: 12; font-family: sans-serif;" size="1">
			<option value="vstitle" SELECTED>Title
			<option value="vsauthor">Author
			<option value="vspublisher">Publisher
			<option value="vsisbn">ISBN			
			</SELECT><br><br></font>
			</td>
			</tr>
</table>
</form>

<form action="" name="catlist">	
<table width="145" border="0" cellpadding="0" cellspacing="0">				
			<tr>
			<td valign="top">
			<img src="/images/jump_topica.gif" width="145" alt="" border="0">
			</td>
			</tr>
			<tr>
			<td width="145">
				
	        	<font face="Arial,helvetica" size="1">
				&nbsp;&nbsp;<SELECT NAME="cat" onChange='top.location.href=this.options[selectedIndex].value;' style="font-size: 10; font-family: sans-serif;">
                        <option value="" selected>Please Select
                        <option value="">-----------
                        <option value="/reference/dir.components.html">Components
                        <option value="/reference/dir.contentmanagement.html">Content Mgmt
                        <option value="/reference/dir.certification1.html">Certification
                        <option value="/reference/dir.databases.html">Databases
                        <option value="/reference/dir.enterprisemanagement1.html">Enterprise Mgmt
                        <option value="/reference/dir.funandgames1.html">Fun/Games
                        <option value="/reference/dir.groupwareandcollaboration1.html">Groupware
                        <option value="/reference/dir.hardware1.html">Hardware
                        <option value="/reference/dir.ibmredbooks1.html">IBM Redbooks
                        <option value="/reference/dir.intranetandextranetdevelopment1.html">Intranet Dev
                        <option value="/reference/dir.middleware.html">Middleware
                        <option value="/reference/dir.multimediaandgraphicdesign1.html">Multimedia
                        <option value="/reference/dir.networkservices1.html">Networks 
                        <option value="/reference/dir.operatingsystems.html">OS
                        <option value="/reference/dir.productivityapplications1.html">Productivity Apps
                        <option value="/reference/dir.programminglanguages.html">Programming Langs
                        <option value="/reference/dir.security1.html">Security  
                        <!-- <option value="/reference/dir.ewtraining1.html">Training Guides -->
                        <option value="/reference/dir.userinterfaces.html">UI
                        <option value="/reference/dir.webservices.html">Web Services
                        <option value="/reference/dir.webmasterskills1.html">Webmaster
                        <option value="/reference/dir.y2k1.html">Y2K
                        <option value="">-----------
                        			<option value="/reference/whatsnew.html">New Arrivals
                        <option value="">-----------
                        <option value="/reference/dir.archive1.html">Free Archive               
                        </SELECT>
			</font>
			
		</td>
		</tr>
	</table>
	</form>
	
<!-- LEFT NAV SEARCH END -->

	</td>
		

<!-- END LEFT NAVBAR -->


<!-- END LEFT NAVBAR -->
	
	<td width="15"><img src="/images/dotclear.gif" width="15" alt="" border="0"></td>

<!-- end of ITK left NAV -->

<!-- begin main content -->
	
	<td width="100%" valign="top" align="left">
		<br>

<!-- END SUB HEADER -->
<!-- Created by dB Page Builder.  http://www.pchelponline.com/bluestem -->

<!--Begin Content Column -->

<TABLE border=0 cellspacing=0 cellpadding=0>
<tr>
<td width=75 valign=top>
<img src="/images/sm_covers/0471327565.gif" width=60 height=73 alt="Developing Java Enterprise Applications" border="1">
</td>
<td align="left">
    <font face="arial, helvetica" size="-1" color="#336633"><b>Developing Java Enterprise Applications</b></font>
    <br>
    <font face="arial, helvetica" size="-1"><i>by Stephen Asbury ; Scott R. Weiner</i>
    <br>
    Wiley Computer Publishing,&nbsp;John Wiley & Sons, Inc.
    <br>
    <b>ISBN:</b>&nbsp;0471327565<b>&nbsp;&nbsp;&nbsp;Pub Date:</b>&nbsp;02/01/99</font>
    &nbsp;&nbsp;&nbsp;&nbsp;<a href="/PSUser/EWBookMarks.html?url=http://www.itknowledge.com/reference/standard/0471327565/ewtoc.html&isbn=0471327565"><img src="/images/bookmarkit.gif" border=0 alt="Bookmark It" width=97 height=23></a>
</td>
</tr>
</table>
<P>
<FORM name= "search2" method="POST" action="http://ewsearch.earthweb.com:80/jsp/k2search/ewintrak2search.jsp"
>
<INPUT type="hidden" name="collection" value="itk">
<INPUT type="hidden" name="altcoll" value="booksitk">
<INPUT type="hidden" name="hl" value="off">
<INPUT name="sortspec" type=hidden value="score desc">
<INPUT name="fields" type=hidden value="vdkvgwkey score vstitle vsisbn vsauthor vspublisher vspubdate">
<INPUT name="imageprefix" type=hidden value="http://www.itknowledge.com">
<INPUT name="ssiFolder" type=hidden value="itk">
<INPUT type="hidden" name="bookid" value="www.itknowledge.comreferencestandard0471327565">

<font face="arial, helvetica" size=2><b>Search this book:</b></font><br>
<INPUT NAME="query" size=25 VALUE="">&nbsp;<input type="image" width=28 height=23 border=0 value="Go" name="Go" src="/images/go.gif" align=absmiddle>

</form>


<!-- Empty Reference Subhead -->

<!--ISBN=0471327565//-->
<!--TITLE=Developing Java Enterprise Applications//-->
<!--AUTHOR=Stephen Asbury//-->
<!--AUTHOR=Scott R. Weiner//-->
<!--PUBLISHER=Wiley Computer Publishing//-->
<!--CHAPTER=25//-->
<!--PAGES=634-640//-->
<!--UNASSIGNED1//-->
<!--UNASSIGNED2//-->

<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="25-04.html">Previous</A></TD>
<TD><A HREF="../ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="25-06.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<P><BR></P>
<P>The servlet that displays a report of the INVENTORY table uses the ShoppingCartBean&#146;s getInventory method to get the list of available items. In a larger application with more reports, you might want to use separate EJBs for the reports rather than including them in an existing one. This is included in this example to simplify the learning process.
</P>
<P>The getInventory method, defined as follows, connects to the database and retrieves all of the available items. Information from each row in the database is used to create a ShoppingCartItem object. These objects are temporarily stored in a vector. Once all the items are read from the database, the vector is converted to an array, and the array is returned to the caller. Finally, the database connection is closed.</P>
<!-- CODE //-->
<PRE>
    public Object[] getInventory()
     {
        Vector items;
        Object[] retVal=null;
        ShoppingCartItem curItem;
        double price;
        int quantity;
        int sales;
        String desc;
        ResultSet rs=null;
        Statement statement=null;
        Connection conn=null;
        
        items = new Vector();
        
        try
        {
            conn = connectToDB();
            
            statement = conn.createStatement();
            rs = statement.executeQuery(&#147;select * from inventory&#148;);
            
            //Only take the first one
            while(rs.next())
            {
                price = rs.getDouble(&#147;PRICE&#148;);
                quantity = rs.getInt(&#147;QUANTITY&#148;);
                sales = rs.getInt(&#147;SALES&#148;);
                desc = rs.getString(&#147;ITEM_DESC&#148;);
                
                curItem = new ShoppingCartItem(desc,price,quantity);
                curItem.sales = sales;
                
                items.addElement(curItem);
            }
            
            retVal = new Object[items.size()];
            items.copyInto(retVal);
        }
        catch(Exception exp)
        {
            logToServer(exp.toString());
            retVal = null;
        }
        finally
        {
            try
            {
                if(rs!=null) rs.close();
                if(statement != null) statement.close();
                if(conn!=null) conn.close();
            }
            catch(Exception exp)
            {
                logToServer(exp.toString());
            }
        }
        
        return retVal;
    }
</PRE>
<!-- END CODE //-->
<P>For convenience, the ShoppingCartBean has a method called connectToDB that makes the database connection and returns it. The information for the connection is based on the configuration parameters. Remember that in an Application Server, this connection process is probably loaded via an existing connection from a pool rather than by actually making a new connection to the database. The complete definition of connectToDB is included here:
</P>
<!-- CODE //-->
<PRE>
    protected Connection connectToDB()
     {
        Connection retVal = null;
        
        try
        {
            Class.forName(driver);
            
            retVal = DriverManager.getConnection(url,user,password);
        }
        catch(Exception exp)
        {
            retVal = null;
            logToServer(exp.toString());
        }
        
        return retVal;
    }
}

</PRE>
<!-- END CODE //-->
<P>As you can see, the ShoppingCartBean provides a great deal of functionality and integrates the JDBC interfaces with Enterprise JavaBeans.
</P>
<BLOCKQUOTE>
<P><FONT SIZE="-1"><HR><B>NOTE:&nbsp;&nbsp;</B>When using BEA WebLogic and possibly other servers, you are not able to use file system persistence for Entity beans while using JDBC calls in the same beans due to a problem with processing in the transactional models. Check the documentation on your EJB host for details.</FONT><HR>
</BLOCKQUOTE>
<H3><A NAME="Heading7"></A><FONT COLOR="#000077">JavaServer Pages and HTML</FONT></H3>
<P>The online store contains two types of JavaServer Pages and one type of regular HTML page. The first type of JSP is the site&#146;s home page. The second type is the category page. All of the product pages are static HTML. The decision to use JSP or HTML is based on the resource usage. An online store might feature hundreds of products, and to have hundreds of JSP-generated servlets might take up too many server resources. Static pages do not use the same resources and don&#146;t take any server resources, beyond caches, when just sitting on disk. As a result, regular HTML is a low resource and, it turns out, a fast solution for pages, so we have maximized its usage. In a site with hundreds of categories, you might want to use static pages for the categories as well.
</P>
<P>The other architecture that many sites use in this situation is a single JSP, servlet, or CGI script that retrieves data from the database and dynamically creates all of the pages. In some respects, this is the most flexible mechanism, but it does require the most processing per page.</P>
<P>The static page and completely dynamic design can also be combined by creating a program that generates pages from the database and stores them on disk. The site administrator could run this program nightly so that the site is static throughout the day but can change on a daily basis. This compromise reduces the processing per page and reduces the up-to-the-second nature of the pages, while still maintaining some of the advantages of dynamic pages.</P>
<P>The main page for the online store is implemented in a JHTML page called index.jhtml. The majority of the page is static HTML; only the list of available categories and the advertisement are updated with each request. The advertisement is handled by the AdLinkRotatorServlet, a discussion of which follows. When displayed, the index.jhtml page looks like the Web page pictured in Figure 25.8.</P>
<P>To find the available categories, this page looks at its current directory and assumes that all subdirectories represent categories. The name of the directory is treated as the category name. The highlighted code that follows contains the Java that reads the current directory and displays the list of categories. The list is initialized only once&#151;when the page is first loaded. The list of categories is stored in a vector called categories, defined in the &ltjava type=class&gt tag at the bottom of the JHTML file. One possible improvement to this model is to have the page recheck the directory for updates on a regular schedule.</P>
<P><A NAME="Fig8"></A><A HREF="javascript:displayWindow('images/25-08.jpg',626,689 )"><IMG SRC="images/25-08t.jpg"></A>
<BR><A HREF="javascript:displayWindow('images/25-08.jpg',626,689)"><FONT COLOR="#000077"><B>Figure 25.8</B></FONT></A>&nbsp;&nbsp;Index.jhtml.</P>
<!-- CODE //-->
<PRE>
&ltHTML&gt
 &ltHEAD&gt
&ltTITLE&gt
Stuff 4Sale OnLine
&lt/TITLE&gt
&lt/HEAD&gt
&ltBODY TEXT=&#147;#000000&#148; BGCOLOR=&#147;#FFFFFF&#148; LINK=&#147;#FF0000&#148; VLINK=&#147;#800080&#148;&gt
&ltCENTER&gt
&ltTABLE WIDTH=500 BORDER=0&gt
&ltTR&gt
&ltTD&gt

&ltCENTER&gt
&ltservlet
    code=&#147;shopcart.servlets.AdLinkRotatorServlet&#148; 
    imagedir=&#147;C:\\servers\\JavaWebServer1.1\\public_html\\shopcart\\ads&#148; 
    imageroot=&#147;/shopcart/ads&#148;
    logserver=&#147;192.168.0.172&#148;&gt
&lt/servlet&gt
&ltBR&gt
&ltH3&gtWelcome to Steve and Scott&#146;s&lt/H3&gt
&ltH1&gtStuff 4Sale OnLine&lt/H1&gt
&ltHR&gt
&lt/CENTER&gt

&ltH3&gtPlease choose a category to find available products.&lt/H3&gt
&ltUL&gt
<B>&ltjava&gt
    int i,max;
    String uri = request.getRequestURI();
    int ind;
    
    if(categories == null)
    {
        initCategories(request.getRealPath(uri));
    }
    
    max = categories.size();
        //Clean off the file name from the requestURI
    
    ind = uri.lastIndexOf(&#147;/&#148;);
    
    if(ind != (uri.length()-1))
    {
        uri = uri.substring(0,ind);
    }
    
    for(i=0;i&ltmax;i++)
    {
&lt/java&gt
    &ltLI&gt
    &ltA HREF=&#147;&#145;uri+&#148;/&#147;+categories.elementAt(i)+&#148;/index.jhtml&#147;&#145;&#148;&gt
    &ltjava type=print&gtcategories.elementAt(i)&lt/java&gt
    &lt/A&gt
    &ltBR&gt
&ltjava&gt
    }
&lt/java&gt</B>
&lt/UL&gt
&lt/TD&gt
&lt/TR&gt
&ltTR&gt
&ltTD&gt
&ltH3&gt... or search for a product by key word:&lt/H3&gt
&ltFORM METHOD=GET 
ACTION=&#147;/servlet/HTMLSearchServlet/shopcart/home&#148;&gt
&ltINPUT NAME=&#147;query&#148; VALUE=&#147;&#148; SIZE=25&gt
&ltSELECT NAME=&#147;maxhits&#148; SIZE=1&gt
&ltOPTION VALUE=&#147;25&#148;&gt25
&ltOPTION VALUE=&#147;50&#148;&gt50
&ltOPTION VALUE=&#147;100&#148;&gt100
&lt/SELECT&gt
&ltBR&gt&ltBR&gt
&ltINPUT TYPE=&#147;Submit&#148; NAME=&#147;submit&#148; VALUE=&#147;Search&#148;&gt
&ltINPUT TYPE=&#147;Submit&#148; NAME=&#147;submit&#148; VALUE=&#147;Help&#148;&gt
&lt/FORM&gt

&ltH3&gt... or view your existing shopping cart:&lt/H3&gt
&ltCENTER&gt
&ltH2&gt
&ltFORM ACTION=&#147;/servlet/ShoppingCartServlet&#148;&gt
&ltINPUT TYPE=&#147;HIDDEN&#148; NAME=&#147;action&#148; VALUE=&#147;view&#148;&gt
&ltINPUT TYPE=&#147;SUBMIT&#148; VALUE=&#147;View Cart&#148;&gt
&lt/FORM&gt
&lt/H2&gt
&lt/CENTER&gt
&lt/TD&gt
&lt/TR&gt
&lt/TABLE&gt
&lt/CENTER&gt
&lt/BODY&gt
&lt/HTML&gt

<B>&ltjava type=class&gt
    Vector categories;
    String docRoot;
        
    public void initCategories(String rt)
    {
        File rootDir=null;
        String[] files;
        int i,max;
        File curFile;
        
        docRoot = rt;
        
        categories = new Vector();
        
        try
        {
            rootDir = new File(docRoot);
        
            if(!rootDir.isDirectory())
                rootDir = new File(rootDir.getParent());
        
            if((rootDir!=null) &amp&amp rootDir.exists())
            {
                files = rootDir.list();
            
                max = files.length;
            
                for(i=0;i&ltmax;i++)
                {
                    curFile = new File(rootDir,files[i]);
                
                    if(curFile.exists() 
                                 &amp&amp curFile.isDirectory())
                    {
                        categories.addElement(files[i]);
                    }
                }
            }
        }
        catch(Exception exp)
        {
            categories.removeAllElements();
        }
    }
&lt/java&gt</B>
</PRE>
<!-- END CODE //-->
<P><BR></P>
<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="25-04.html">Previous</A></TD>
<TD><A HREF="../ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="25-06.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>


<!-- all of the reference materials (books) have the footer and subfoot reveresed -->
<!-- reference_subfoot = footer -->
<!-- reference_footer = subfoot -->

<!-- BEGIN SUB FOOTER -->
	<br>
	<img src="/images/dotclear.gif" width="5" height="7" border="0">
	</TD>
    </TR>
	</TABLE>
	
	<table width="100%" border=0 cellpadding=0 cellspacing=0>
	<tr>
		<td align="left" width="160"><img src="/images/bot_curve.jpg" width="160" alt="" border="0"></td>
		<td align="left" valign="top" nowrap><a href="/"><img src="/images/top_tabs/home_bot.gif" alt="Home" border="0"></a><a href="/pick-account.html"><img src="/images/top_tabs/account_info_bot.gif" alt="Account Info" border="0"></a><a href="/PSUser/usrreg.htm?AdminAction=InitAdd&Locale=en&URI=/"><img src="/images/top_tabs/subscribe_bot.gif" alt="Subscribe" border="0"></a><a href="/PSUser/en/acl/psuser_t.htm"><img src="/images/top_tabs/login_bot.gif" alt="Login" border="0"></a><a href="/search/"><img src="/images/top_tabs/search_bot.gif" alt="Search" border="0"></a><a href="/PSUser/en/acl/psuser_t.htm"><img src="/images/top_tabs/my_itknowledge_bot.gif" alt="My ITKnowledge" border="0"></a><a href="/faq/faq.html"><img src="/images/top_tabs/faq_bot.gif" alt="FAQ" border="0"></a><a href="/sitemap.html"><img src="/images/top_tabs/sitemap_bot.gif" alt="Sitemap" border="0"></a><a href="/contactus.html"><img src="/images/top_tabs/contact_us_bot.gif" alt="Contact Us" border="0"></a></td> 
	</tr>
	</table>
		
	<table width="100%" bgcolor="#003366" border=0 cellpadding=0 cellspacing=0>
	<tr>
		<td align="left" width=145><img src="/images/clear_pixel.gif" width=145 height="1" alt="" border="0"></td>
				
<!-- END SUB FOOTER -->

<!-- all of the books have the footer and subfoot reveresed -->
<!-- reference_subfoot = footer -->
<!-- reference_footer = subfoot -->

<!-- FOOTER -->
			
<td align="left" bgcolor="#003366">
<table border="0" cellspacing="10" cellpadding="5">
<tr>
<td align="center">
<font face="arial, helvetica" size="1" color="#cccccc"><b><a href="/products.html"><font color="#0099CC">Products</font></a>&nbsp;|&nbsp; <a href="/contactus.html"><font color="#0099CC">Contact Us</font></a>&nbsp;|&nbsp; <a href="/aboutus.html"><font color="#0099CC">About Us</font></a>&nbsp;|&nbsp; <a href="http://www.earthweb.com/about_us/privacy.html" target="resource window"><font color="#0099CC">Privacy</font></a> &nbsp;|&nbsp; <a href="http://www.itmarketer.com/" target="resource window"><font color="#0099CC">Ad Info</font></a> &nbsp;|&nbsp; <a href="/"><font color="#0099CC">Home</font></a></b>
<br><br>Use of this site is subject to certain <a href="/agreement.html"><font color="#0099CC">Terms &amp; Conditions</font></a>, <a href="/copyright.html"><font color="#0099CC">Copyright &copy; 1996-2000 EarthWeb Inc.</font></a> All rights reserved.  Reproduction whole or in part in any form or medium without express written <a href="http://www.earthweb.com/about_us/perm.html" target="resource window"><font color="#0099CC">permission</font></a> of EarthWeb is prohibited. Read EarthWeb's <A HREF="http://www.earthweb.com/about_us/privacy.html" target="resource window"><font color="#0099CC">privacy</font></A> statement.</font><br><br>
</td>
</tr>
</table>

<!-- netranger link to stop spiders -->

<a href="ITKN1a2b3c4d5e6f7g8h9idefcon4.html">
<img src="/images/dotclear.gif" border="0" height="1" width="1" align="left"></a>
</td>
		</tr>
</table>
</BODY>
</HTML>

<!-- END FOOTER -->

