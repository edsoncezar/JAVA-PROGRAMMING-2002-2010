<?xml version="1.0" encoding="ISO-8859-1" ?>

<!DOCTYPE struts-config PUBLIC
          "-//Apache Software Foundation//DTD Struts Configuration 1.0//EN"
          "http://jakarta.apache.org/struts/dtds/struts-config_1_0.dtd">


<struts-config>

  <!-- ========== Form Bean Definitions =================================== -->
  <form-beans>

    <!-- Registration form bean -->
    <form-bean name="registrationForm"
               type="com.wrox.pjsp2.struts.registration.RegistrationForm"/>
    <!-- Logon form bean -->
    <form-bean name="logonForm"
               type="com.wrox.pjsp2.struts.logon.LogonForm"/>

    <!-- Checkout form bean -->
    <form-bean name="checkoutForm"
               type="com.wrox.pjsp2.struts.shopping.CheckoutForm"/>

    <!-- order form bean -->
    <form-bean name="orderForm"
               type="com.wrox.pjsp2.struts.order.OrderForm"/>

  </form-beans>


  <!-- ========== Global Forward Definitions ============================== -->
   <global-forwards>
      <forward name="logon"      path="/logon.jsp"/>
      <forward name="success"    path="/mainMenu.jsp"/>
      <forward name="emptycart"  path="/showcategories.jsp"/>
      <forward name="cancel"     path="/index.jsp"/>
   </global-forwards>


  <!-- ========== Action Mapping Definitions ============================== -->
  <action-mappings>

    <!-- Edit user registration -->
    <action    path="/editRegistration"
               type="com.wrox.pjsp2.struts.registration.EditRegistrationAction"
               name="registrationForm"
              scope="request"
           validate="false">
      <forward name="success"              path="/registration.jsp"/>
    </action>

    <!-- Save user registration -->
    <action    path="/saveRegistration"
               type="com.wrox.pjsp2.struts.registration.SaveRegistrationAction"
               name="registrationForm"
              scope="request"
              input="/registration.jsp">
    </action>

    <!-- Process a user logon -->
    <action    path="/logon"
               type="com.wrox.pjsp2.struts.logon.LogonAction"
               name="logonForm"
              scope="request"
              input="/logon.jsp">
    </action>

    <!-- Process a user logoff -->
    <action    path="/logoff"
               type="com.wrox.pjsp2.struts.logoff.LogoffAction">
      <forward name="success"             path="/index.jsp"/>
    </action>
    
    <!-- Process showCategories request -->
    <action    path="/showCategories"
               type="com.wrox.pjsp2.struts.shopping.ShowCategoriesAction">
      <forward name="success"             path="/showcategories.jsp"/>
    </action>

    <!-- Process showCDs request -->
    <action    path="/showCDs"
               type="com.wrox.pjsp2.struts.shopping.ShowCDsAction">
      <forward name="success"             path="/showcds.jsp"/>
    </action>

    <!-- Process addToCart request -->
    <action    path="/addToCart"
               type="com.wrox.pjsp2.struts.shopping.AddToCartAction">
      <forward name="success"             path="/showcds.jsp"/>
    </action>

    <!-- Process checkout request -->
    <action    path="/checkout"
               type="com.wrox.pjsp2.struts.shopping.CheckoutAction"
               name="checkoutForm"
              scope="request"
           validate="false">
      <forward name="success"             path="/shoppingcart.jsp"/>
    </action>

    <!-- Process order request -->
    <action    path="/order"
               type="com.wrox.pjsp2.struts.order.OrderAction"
               name="orderForm"
              scope="session"
           validate="false"
              input="/order.jsp">
      <forward name="success"             path="/order.jsp"/>
      <forward name="thankyou"            path="/thankyou.jsp"/>
    </action>

  </action-mappings>

</struts-config>
