<html>

<head>
<meta http-equiv="Content-Type"
content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<title>Developing Servlet Clients to our EJBs by Gopalan Suresh Raj</title>
</head>

<body bgcolor="#FFFFFF" text="#000000">

<p align="center"><a
        href="http://www.execpc.com/~gopalan/index.html"><img
        src="..\resources\wc.gif"
        border="0" width="200" height="45"></a></p>

<p align="center"><font color="#000080" size="5" face="Arial"><strong>Developing
Servlet Clients to our Enterprise JavaBeans</strong></font><font
face="Verdana"><br>
</font><a href="http://www.execpc.com/~gopalan/personal/cv.html"><font
color="#000080" size="4" face="Verdana">Gopalan Suresh Raj</font></a></p>
<div align="center"><center>

<table border="2" width="97%">
    <tr>
        <td bgcolor="#808080"><font color="#FFCC00" size="4"
        face="Verdana">Note</font></td>
    </tr>
    <tr>
        <td bgcolor="#FFFFE6"><font size="3" face="Verdana"><strong>To
        work with any of these samples, you will need the
        following:</strong></font><font face="Verdana"><br>
        </font><font size="2" face="Verdana"><strong>.........................................</strong></font><a
        href="http://java.sun.com/"><font size="2" face="Verdana"><strong>JDK
        1.1.6 or higher (I use JDK 1.1.7A)</strong></font></a><font
        size="2" face="Verdana"><strong><br>
        .........................................</strong></font><a href="http://www.ejbhome.com/download/download.htm"><font size="2"
        face="Verdana"><strong>The EJBHome version0.5.1 (Scunthorpe)- a free EJB Server from
          http://www.ejbhome.com</strong></font></a><font size="2"
        face="Verdana"><strong><br>
        <br>
        </strong></font><font size="3" face="Verdana"><strong>To
        work with the EJB Servlet client, you will need</strong></font><font
        size="2" face="Verdana"><strong><br>
        .........................................</strong></font><a
        href="http://java.sun.com/products/servlet/index.html"><font
        size="2" face="Verdana"><strong>JSDK 2.0 or higher</strong></font></a><font
        face="Verdana"><br>
        </font></td>
    </tr>
</table>
</center></div>

<p align="left"><font color="#000000" size="4" face="Verdana">The
Steps involved in developing and deploying a Servlet client to
our Enterprise Beans are:</font></p>

<blockquote>
    <p align="left"><font face="Verdana">1. Develop the client
    code.<br>
    2. Define the servlet properties.<br>
    3. Startup the EJB Server and the servlet runner.<br>
    4. Connect to the servlet from any standard web browser<br>
    </font></p>
    <p align="center"><font color="#000000" size="4"
    face="Verdana">A four-tier Architecture for a Typical Bank</font></p>
    <p align="center"><img src="account4_tier.gif" width="656"
    height="470"></p>
    <p align="center"><font size="4"><em>Figure shows what we are
    trying to ultimately accomplish in these pages here.</em></font><font
    face="Verdana"><br>
    </font></p>
</blockquote>

<p><font face="Verdana"><strong>1. Develop the servlet client
code</strong></font></p>
<div align="center"><center>

<table border="2" width="97%">
    <tr>
        <td bgcolor="#004080"><font color="#FFCC00" size="4"
        face="Verdana">Accounts.java</font></td>
    </tr>
    <tr>
        <td bgcolor="#FFFFE6"><font size="2" face="Courier New">import
        java.io.*; <br>
        import java.util.*; <br>
        import javax.servlet.*; <br>
        import javax.servlet.http.*;import java.rmi.*; <br>
        import java.util.*; <br>
        import Bank.*; </font><p><font size="2"
        face="Courier New">public class <strong>Accounts</strong>
        extends <strong>HttpServlet</strong> { <br>
        &nbsp;<strong>TellerHome home = null; <br>
        &nbsp;Teller teller = null; </strong></font></p>
        <p><font size="2" face="Courier New">&nbsp;<strong>public
        void init()</strong> { <br>
        &nbsp; try{ <br>
        &nbsp;&nbsp; <strong>home =
        (TellerHome)Naming.lookup(&quot;Teller&quot;); </strong><br>
        &nbsp;&nbsp; if( home == null ) <br>
        &nbsp;&nbsp; { <br>
        &nbsp;&nbsp;&nbsp; System.out.println( &quot;null
        TellerHome returned...&quot; ); <br>
        &nbsp;&nbsp; } <br>
        &nbsp;&nbsp; else <br>
        &nbsp;&nbsp; { <br>
        &nbsp;&nbsp;&nbsp; <strong>teller = home.create();</strong>
        <br>
        &nbsp;&nbsp;&nbsp; System.out.println(
        &quot;Naming.lookup successful...&quot; ); <br>
        &nbsp;&nbsp;&nbsp; System.out.println( &quot;home.create
        successful...&quot; ); <br>
        &nbsp;&nbsp; } <br>
        &nbsp; } catch(Exception e){System.out.println( e );} <br>
        &nbsp;} </font></p>
        <p><font size="2" face="Courier New"><strong>&nbsp;public
        void doGet(HttpServletRequest req, HttpServletResponse
        res) <br>
        &nbsp; throws ServletException, IOException <br>
        </strong>&nbsp;{ <br>
        &nbsp; displayForm(res, &quot;Welcome&quot;); <br>
        &nbsp;} </font></p>
        <p><font size="2" face="Courier New"><strong>&nbsp;public
        void doPost(HttpServletRequest req, HttpServletResponse
        res) <br>
        &nbsp; throws ServletException, IOException <br>
        </strong>&nbsp;{ double initialBalance = 0,
        transferAmount = 0; <br>
        &nbsp;&nbsp; String customerName = null; <br>
        &nbsp;&nbsp; int fromAccount = 0, toAccount = 0; <br>
        &nbsp;&nbsp; boolean isCreate = false; <br>
        &nbsp;&nbsp; if
        (&quot;application/x-www-form-urlencoded&quot;.equals(req.getContentType()))
        { <br>
        &nbsp;&nbsp;&nbsp; Enumeration enum =
        req.getParameterNames(); <br>
        &nbsp;&nbsp;&nbsp; while (enum.hasMoreElements()) { <br>
        &nbsp;&nbsp;&nbsp;&nbsp; String name = (String)
        enum.nextElement(); System.out.println(&quot;name =
        &quot; + name); </font></p>
        <p><font size="2" face="Courier New">&nbsp;&nbsp;&nbsp;&nbsp;
        String values[] = req.getParameterValues(name); <br>
        &nbsp;&nbsp;&nbsp;&nbsp; if (values != null) { <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(
        name.equals(&quot;initialBalance&quot;) ) <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { initialBalance =
        (Double.valueOf(values[0])).doubleValue(); <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(
        name.equals(&quot;customerName&quot;) ) <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { customerName =
        values[0]; <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } if(
        name.equals(&quot;transferAmount&quot;) ) <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {
        transferAmount =
        (Double.valueOf(values[0])).doubleValue(); <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(
        name.equals(&quot;fromAccount&quot;) ) <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { fromAccount
        = Integer.parseInt( values[0]); <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(
        name.equals(&quot;toAccount&quot;) ) <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { toAccount =
        Integer.parseInt( values[0]); <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } if(
        name.equals(&quot;createButton&quot;) ) <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {
        isCreate = true; <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        if( name.equals(&quot;transferButton&quot;) ) <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {
        isCreate = false; <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } <br>
        &nbsp;&nbsp;&nbsp;&nbsp; } <br>
        &nbsp;&nbsp;&nbsp; } <br>
        &nbsp;&nbsp;&nbsp; System.out.println(&quot;
        initialBalance = &quot; + initialBalance + <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &quot; customerName = &quot; + customerName+ <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &quot; transferAmount = &quot; + transferAmount+ <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &quot; fromAccount = &quot; + fromAccount+ <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &quot; toAccount = &quot; + toAccount+ <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &quot; isCreate = &quot; + isCreate); <br>
        </font><font color="#008000" size="2" face="Courier New"><em>&nbsp;&nbsp;&nbsp;
        /** <br>
        &nbsp;&nbsp;&nbsp; * Talk to the bean here <br>
        &nbsp;&nbsp;&nbsp; */<br>
        </em></font><font size="2" face="Courier New">&nbsp;&nbsp;&nbsp;
        try{ <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if( ( home ==
        null ) || (teller == null) ) <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { <br>
        <strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        home = (TellerHome)Naming.lookup(&quot;Teller&quot;); <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; teller =
        home.create(); <br>
        &nbsp;&nbsp;&nbsp;&nbsp;</strong>&nbsp;&nbsp;&nbsp; } <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if( isCreate
        == true ) { <strong>teller.createCheckingsAccount(customerName,
        initialBalance); </strong><br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { <br>
        <strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        teller.TransferMoney( transferAmount, fromAccount,
        toAccount); <br>
        &nbsp;</strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } catch(Exception
        e){ System.out.println( e ); } <br>
        &nbsp;&nbsp; } <br>
        &nbsp;&nbsp; displayForm(res, &quot;Welcome&quot;); <br>
        &nbsp;} </font></p>
        <p><font size="2" face="Courier New">&nbsp;<strong>private
        void displayForm(HttpServletResponse response, String
        message) <br>
        &nbsp; throws IOException </strong><br>
        &nbsp;{ <br>
        &nbsp; if( ( home == null ) || (teller == null)) <br>
        &nbsp; { <br>
        &nbsp;&nbsp; try{ <br>
        &nbsp;&nbsp;&nbsp; home =
        (TellerHome)Naming.lookup(&quot;Teller&quot;); <br>
        &nbsp;&nbsp;&nbsp; teller = home.create(); <br>
        &nbsp;&nbsp; } catch(Exception e){ System.out.println( e
        ); } <br>
        &nbsp; } <br>
        &nbsp; response.setContentType(&quot;text/html&quot;); <br>
        &nbsp; PrintWriter out = response.getWriter(); <br>
        &nbsp; out.println(&quot;&lt;HTML&gt;&lt;BODY&gt;&quot;);
        <br>
        &nbsp; out.println(&quot;&lt;H1&gt; List of Checking
        Accounts... &lt;/H1&gt;&quot;); <br>
        &nbsp; out.println(&quot;&lt;body
        bgcolor=\&quot;#FFFFFF\&quot;&gt;&quot;); <br>
        &nbsp; out.println(&quot;&lt;table border=\&quot;2\&quot;
        width=\&quot;100%\&quot;&gt;&quot;); <br>
        &nbsp; out.println(&quot;&lt;tr&gt;&lt;td
        align=\&quot;center\&quot;
        bgcolor=\&quot;#C0C0C0\&quot;&gt;&lt;font
        size=\&quot;3\&quot;&quot;); <br>
        &nbsp;
        out.println(&quot;face=\&quot;Verdana\&quot;&gt;&lt;strong&gt;Teller
        Number&lt;/strong&gt;&lt;/font&gt;&lt;/td&gt;&quot;); <br>
        &nbsp; out.println(&quot;&lt;td
        align=\&quot;center\&quot;
        bgcolor=\&quot;#C0C0C0\&quot;&gt;&lt;font
        size=\&quot;3\&quot;&quot;); <br>
        &nbsp;
        out.println(&quot;face=\&quot;Verdana\&quot;&gt;&lt;strong&gt;Customer
        Name &lt;/strong&gt;&lt;/font&gt;&lt;/td&gt;&quot;); <br>
        &nbsp; out.println(&quot;&lt;td
        align=\&quot;center\&quot;
        bgcolor=\&quot;#C0C0C0\&quot;&gt;&lt;font
        size=\&quot;3\&quot;&quot;); <br>
        &nbsp;
        out.println(&quot;face=\&quot;Verdana\&quot;&gt;&lt;strong&gt;Teller
        Balance
        &lt;/strong&gt;&lt;/font&gt;&lt;/td&gt;&lt;/tr&gt;&quot;);
        <br>
        &nbsp; System.out.println( &quot;Checking List...&quot;
        ); <br>
        &nbsp; int i = 0; <br>
        &nbsp; Vector checkingList = null; <br>
        &nbsp; try{ <br>
        &nbsp;&nbsp; checkingList = teller.getCheckingsList(); <br>
        &nbsp; }catch(Exception e){ System.out.println(e);} <br>
        &nbsp; if(checkingList != null) <br>
        &nbsp;&nbsp; for(i = 0; i &lt; checkingList.size(); i++) <br>
        &nbsp;&nbsp; { <br>
        &nbsp;&nbsp;&nbsp; try{ <br>
        &nbsp;&nbsp;&nbsp;&nbsp; CheckingsPK key =
        (CheckingsPK)checkingList.elementAt(i); <br>
        &nbsp;&nbsp;&nbsp;&nbsp; if(key == null) <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break; <br>
        &nbsp;&nbsp;&nbsp;&nbsp; Checkings found =
        (Checkings)teller.getCheckings(key.account_number); <br>
        &nbsp;&nbsp;&nbsp;&nbsp; if(found == null) <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break; <br>
        &nbsp;&nbsp;&nbsp;&nbsp; System.out.println( &quot;
        Account No = &quot;+key.account_number+ <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &quot; Name = &quot;+found.getCustomerName()+ <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &quot; Balance = &quot; + found.getBalance() ); <br>
        &nbsp;&nbsp;&nbsp;&nbsp; out.println(
        &quot;&lt;tr&gt;&lt;td&gt;&lt;font size=\&quot;1\&quot;
        face=\&quot;Verdana\&quot;&gt;&lt;strong&gt;&quot; +
        key.account_number
        +&quot;&lt;/strong&gt;&lt;/font&gt;&lt;/td&gt;&quot; + <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &quot;&lt;td&gt;&lt;font size=\&quot;1\&quot;
        face=\&quot;Verdana\&quot;&gt;&lt;strong&gt;&quot;+found.getCustomerName()
        +&quot;&lt;/strong&gt;&lt;/font&gt;&lt;/td&gt;&quot; + <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &quot;&lt;td&gt;&lt;p
        align=\&quot;right\&quot;&gt;&lt;font
        size=\&quot;1\&quot;
        face=\&quot;Verdana\&quot;&gt;&lt;strong&gt;&quot;+
        &quot; $ &quot; +found.getBalance()
        +&quot;&lt;/strong&gt;&lt;/font&gt;&lt;/td&gt;&quot;); </font></p>
        <p><font size="2" face="Courier New">&nbsp;&nbsp;&nbsp;
        }catch(Exception e){ System.out.println(e); break;} </font></p>
        <p><font size="2" face="Courier New">&nbsp;&nbsp; } <br>
        &nbsp;
        out.println(&quot;&lt;/tr&gt;&lt;/table&gt;&quot;); <br>
        &nbsp; out.println(&quot;&lt;p
        align=\&quot;center\&quot;&gt;&quot;); <br>
        &nbsp; out.println(&quot;&lt;font size=\&quot;3\&quot;
        face=\&quot;Verdana\&quot;&gt;&lt;strong&gt;Total Number
        of Checking Accounts = &quot;+ i +&quot;
        &lt;/strong&gt;&lt;/font&gt;&lt;/p&gt;&quot;); <br>
        &nbsp; System.out.println( &quot;Listed all the &quot;+ i
        + &quot; records...&quot; ); </font></p>
        <p><font size="2" face="Courier New">&nbsp;
        out.println(&quot;&lt;hr&gt;&quot;); <br>
        &nbsp; out.println(&quot;&lt;H1&gt; List of Savings
        Accounts... &lt;/H1&gt;&quot;); <br>
        &nbsp; out.println(&quot;&lt;body
        bgcolor=\&quot;#FFFFFF\&quot;&gt;&quot;); <br>
        &nbsp; out.println(&quot;&lt;table border=\&quot;2\&quot;
        width=\&quot;100%\&quot;&gt;&quot;); <br>
        &nbsp; out.println(&quot;&lt;tr&gt;&lt;td
        align=\&quot;center\&quot;
        bgcolor=\&quot;#C0C0C0\&quot;&gt;&lt;font
        size=\&quot;3\&quot;&quot;); <br>
        &nbsp;
        out.println(&quot;face=\&quot;Verdana\&quot;&gt;&lt;strong&gt;Teller
        Number&lt;/strong&gt;&lt;/font&gt;&lt;/td&gt;&quot;); <br>
        &nbsp; out.println(&quot;&lt;td
        align=\&quot;center\&quot;
        bgcolor=\&quot;#C0C0C0\&quot;&gt;&lt;font
        size=\&quot;3\&quot;&quot;); <br>
        &nbsp;
        out.println(&quot;face=\&quot;Verdana\&quot;&gt;&lt;strong&gt;Customer
        Name &lt;/strong&gt;&lt;/font&gt;&lt;/td&gt;&quot;); <br>
        &nbsp; out.println(&quot;&lt;td
        align=\&quot;center\&quot;
        bgcolor=\&quot;#C0C0C0\&quot;&gt;&lt;font
        size=\&quot;3\&quot;&quot;); <br>
        &nbsp;
        out.println(&quot;face=\&quot;Verdana\&quot;&gt;&lt;strong&gt;Teller
        Balance
        &lt;/strong&gt;&lt;/font&gt;&lt;/td&gt;&lt;/tr&gt;&quot;);
        <br>
        &nbsp; System.out.println( &quot;Savings List...&quot; );
        <br>
        &nbsp; int j = 0; <br>
        &nbsp; Vector savingsList = null; <br>
        &nbsp; try{ <br>
        &nbsp;&nbsp; savingsList = teller.getSavingsList(); <br>
        &nbsp; }catch(Exception e){ System.out.println(e);} <br>
        &nbsp; if(savingsList != null) <br>
        &nbsp;&nbsp; for(j = 0; j &lt; savingsList.size(); j++) <br>
        &nbsp;&nbsp; { <br>
        &nbsp;&nbsp;&nbsp; try{ <br>
        &nbsp;&nbsp;&nbsp;&nbsp; SavingsPK key =
        (SavingsPK)savingsList.elementAt(j); <br>
        &nbsp;&nbsp;&nbsp;&nbsp; if(key == null) <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break; <br>
        &nbsp;&nbsp;&nbsp;&nbsp; Savings found =
        (Savings)teller.getSavings(key.account_number); <br>
        &nbsp;&nbsp;&nbsp;&nbsp; if(found == null) <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break; <br>
        &nbsp;&nbsp;&nbsp;&nbsp; System.out.println( &quot;
        Account No = &quot;+key.account_number+ <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &quot; Name = &quot;+found.getCustomerName()+ <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &quot; Balance = &quot; + found.getBalance() ); <br>
        &nbsp;&nbsp;&nbsp;&nbsp; out.println(
        &quot;&lt;tr&gt;&lt;td&gt;&lt;font size=\&quot;1\&quot;
        face=\&quot;Verdana\&quot;&gt;&lt;strong&gt;&quot; +
        key.account_number
        +&quot;&lt;/strong&gt;&lt;/font&gt;&lt;/td&gt;&quot; + <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &quot;&lt;td&gt;&lt;font size=\&quot;1\&quot;
        face=\&quot;Verdana\&quot;&gt;&lt;strong&gt;&quot;+found.getCustomerName()
        +&quot;&lt;/strong&gt;&lt;/font&gt;&lt;/td&gt;&quot; + <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &quot;&lt;td&gt;&lt;p
        align=\&quot;right\&quot;&gt;&lt;font
        size=\&quot;1\&quot;
        face=\&quot;Verdana\&quot;&gt;&lt;strong&gt;&quot;+
        &quot; $ &quot; +found.getBalance()
        +&quot;&lt;/strong&gt;&lt;/font&gt;&lt;/td&gt;&quot;); </font></p>
        <p><font size="2" face="Courier New">&nbsp;&nbsp;&nbsp;
        }catch(Exception e){ System.out.println(e); break;} </font></p>
        <p><font size="2" face="Courier New">&nbsp;&nbsp; } <br>
        &nbsp;
        out.println(&quot;&lt;/tr&gt;&lt;/table&gt;&quot;); <br>
        &nbsp; out.println(&quot;&lt;p
        align=\&quot;center\&quot;&gt;&quot;); <br>
        &nbsp; out.println(&quot;&lt;font size=\&quot;3\&quot;
        face=\&quot;Verdana\&quot;&gt;&lt;strong&gt;Total Number
        of Savings Accounts = &quot;+ j +&quot;
        &lt;/strong&gt;&lt;/font&gt;&lt;/p&gt;&quot;); <br>
        &nbsp; System.out.println( &quot;Listed all the &quot;+ j
        + &quot; records...&quot; ); </font></p>
        <p><font size="2" face="Courier New">&nbsp;
        out.println(&quot;&lt;hr&gt;&quot;); </font></p>
        <p><font size="2" face="Courier New">&nbsp;
        out.println(&quot;&lt;p
        align=\&quot;center\&quot;&gt;&lt;font
        size=\&quot;4\&quot;
        face=\&quot;Verdana\&quot;&gt;&quot;); <br>
        &nbsp; out.println(&quot;Create a New
        Teller&lt;/font&gt;&lt;/p&gt;&quot; ); <br>
        &nbsp; out.println(&quot;&lt;form
        method=\&quot;POST\&quot;&gt;&quot;); <br>
        &nbsp; out.println(&quot;&lt;p
        align=\&quot;center\&quot;&gt;&lt;font
        size=\&quot;3\&quot;
        face=\&quot;Verdana\&quot;&gt;&quot;); <br>
        &nbsp; out.println(&quot;&lt;strong&gt;Enter Name
        &lt;input type=\&quot;text\&quot; size=\&quot;20\&quot;
        name=\&quot;customerName\&quot;&gt;&quot;); <br>
        &nbsp; out.println(&quot;Enter Initial Deposit
        &lt;/strong&gt;&lt;/font&gt;&lt;font
        size=\&quot;2\&quot;&gt;&quot;); <br>
        &nbsp; out.println(&quot;&lt;strong&gt;&lt;input
        type=\&quot;text\&quot; size=\&quot;20\&quot;
        name=\&quot;initialBalance\&quot;&gt;&lt;/strong&gt;&lt;/font&gt;&lt;/p&gt;&quot;);
        <br>
        &nbsp; out.println(&quot;&lt;p
        align=\&quot;center\&quot;&gt;&lt;font
        size=\&quot;2\&quot;&gt;&lt;input
        type=\&quot;submit\&quot;&quot;); <br>
        &nbsp; out.println(&quot;name=\&quot;createButton\&quot;
        value=\&quot;Create\&quot;&gt;&lt;/font&gt;&lt;/p&gt;&quot;);
        <br>
        &nbsp; out.println(&quot;&lt;/form&gt;&lt;hr&gt;&quot;); </font></p>
        <p><font size="2" face="Courier New">&nbsp;
        if((checkingList == null) || (savingsList == null)) <br>
        &nbsp; { <br>
        &nbsp;&nbsp;
        out.println(&quot;&lt;/BODY&gt;&lt;/HTML&gt;&quot;); <br>
        &nbsp;&nbsp; return; <br>
        &nbsp; } <br>
        &nbsp; out.println(&quot;&lt;p
        align=\&quot;center\&quot;&gt;&quot;); <br>
        &nbsp; out.println(&quot;&lt;font size=\&quot;4\&quot;
        face=\&quot;Verdana\&quot;&gt;&quot;); <br>
        &nbsp; out.println(&quot;Transfer Money between
        Accounts&lt;/font&gt;&lt;/p&gt;&quot;); </font></p>
        <p><font size="2" face="Courier New">&nbsp;
        out.println(&quot;&lt;form
        method=\&quot;POST\&quot;&gt;&quot;); <br>
        &nbsp; out.println(&quot;&lt;p
        align=\&quot;center\&quot;&gt;&lt;font
        size=\&quot;3\&quot;
        face=\&quot;Verdana\&quot;&gt;&quot;); <br>
        &nbsp; out.println(&quot;&lt;strong&gt;Enter amount
        &lt;input type=\&quot;text\&quot; size=\&quot;20\&quot;
        name=\&quot;transferAmount\&quot;&gt;&quot;); <br>
        &nbsp; out.println(&quot;From Teller&lt;select
        name=\&quot;fromAccount\&quot;
        size=\&quot;1\&quot;&gt;&quot;); <br>
        &nbsp; System.out.println(&quot;Listing checking
        from&quot;); <br>
        &nbsp; for(int k = 0; k &lt; checkingList.size(); k++) <br>
        &nbsp; { <br>
        &nbsp;&nbsp; try{ <br>
        &nbsp;&nbsp;&nbsp; CheckingsPK found =
        (CheckingsPK)checkingList.elementAt(k); <br>
        &nbsp;&nbsp;&nbsp; if(found == null) <br>
        &nbsp;&nbsp;&nbsp;&nbsp; break; <br>
        &nbsp;&nbsp;&nbsp; out.println(&quot;&lt;option&gt;&quot;
        + found.account_number+ &quot;&lt;/option&gt;&quot;); <br>
        &nbsp;&nbsp; }catch(Exception e){ System.out.println(e);
        break;} <br>
        &nbsp; } <br>
        &nbsp; System.out.println(&quot;Listing saving
        from&quot;); <br>
        &nbsp; for(int k = 0; k &lt; savingsList.size(); k++) <br>
        &nbsp; { <br>
        &nbsp;&nbsp; try{ <br>
        &nbsp;&nbsp;&nbsp; SavingsPK found =
        (SavingsPK)savingsList.elementAt(k); <br>
        &nbsp;&nbsp;&nbsp; if(found == null) <br>
        &nbsp;&nbsp;&nbsp;&nbsp; break; <br>
        &nbsp;&nbsp;&nbsp; out.println(&quot;&lt;option&gt;&quot;
        + found.account_number+ &quot;&lt;/option&gt;&quot;); <br>
        &nbsp;&nbsp; }catch(Exception e){ System.out.println(e);
        break;} <br>
        &nbsp; } </font></p>
        <p><font size="2" face="Courier New">&nbsp;
        out.println(&quot;&lt;/select&gt; To Teller&lt;select
        name=\&quot;toAccount\&quot;
        size=\&quot;1\&quot;&gt;&quot;); <br>
        &nbsp; System.out.println(&quot;Listing checking
        to&quot;); <br>
        &nbsp; for(int k = 0; k &lt; checkingList.size(); k++) <br>
        &nbsp; { <br>
        &nbsp;&nbsp; try{ <br>
        &nbsp;&nbsp;&nbsp; CheckingsPK found =
        (CheckingsPK)checkingList.elementAt(k); <br>
        &nbsp;&nbsp;&nbsp; if(found == null) <br>
        &nbsp;&nbsp;&nbsp;&nbsp; break; <br>
        &nbsp;&nbsp;&nbsp; out.println(&quot;&lt;option&gt;&quot;
        + found.account_number+ &quot;&lt;/option&gt;&quot;); <br>
        &nbsp;&nbsp; }catch(Exception e){ System.out.println(e);
        break;} <br>
        &nbsp; } <br>
        &nbsp; System.out.println(&quot;Listing saving to&quot;);
        <br>
        &nbsp; for(int k = 0; k &lt; savingsList.size(); k++) <br>
        &nbsp; { <br>
        &nbsp;&nbsp; try{ <br>
        &nbsp;&nbsp;&nbsp; SavingsPK found =
        (SavingsPK)savingsList.elementAt(k); <br>
        &nbsp;&nbsp;&nbsp; if(found == null) <br>
        &nbsp;&nbsp;&nbsp;&nbsp; break; <br>
        &nbsp;&nbsp;&nbsp; out.println(&quot;&lt;option&gt;&quot;
        + found.account_number+ &quot;&lt;/option&gt;&quot;); <br>
        &nbsp;&nbsp; }catch(Exception e){ System.out.println(e);
        break;} <br>
        &nbsp; } <br>
        &nbsp;
        out.println(&quot;&lt;/select&gt;&lt;/strong&gt;&lt;/font&gt;&lt;font
        size=\&quot;2\&quot;&gt;&quot;); <br>
        &nbsp; out.println(&quot;&lt;strong&gt;
        &lt;/strong&gt;&lt;/font&gt;&lt;/p&gt;&quot;); <br>
        &nbsp; out.println(&quot;&lt;p
        align=\&quot;center\&quot;&gt;&lt;font
        size=\&quot;2\&quot;&gt;&lt;input
        type=\&quot;submit\&quot;&quot;); <br>
        &nbsp;
        out.println(&quot;name=\&quot;transferButton\&quot;
        value=\&quot;Transfer\&quot;&gt;&lt;/font&gt;&lt;/p&gt;&quot;);
        <br>
        &nbsp; out.println(&quot;&lt;/form&gt;&quot;); </font></p>
        <p><font size="2" face="Courier New">&nbsp;
        out.println(&quot;&lt;hr&gt;&quot;); </font></p>
        <p><font size="2" face="Courier New">&nbsp;
        out.println(&quot;&lt;/BODY&gt;&lt;/HTML&gt;&quot;); </font></p>
        <p><font size="2" face="Courier New">&nbsp;} <br>
        } <br>
        </font><font size="1" face="Courier New"><br>
        </font></p>
        </td>
    </tr>
</table>
</center></div>

<p><font face="Verdana"><strong>2.</strong> <strong>Define the
servlet properties</strong></font></p>
<div align="center"><center>

<table border="2" width="97%">
    <tr>
        <td bgcolor="#004080"><font color="#FFCC00" size="4"
        face="Verdana">servlet.properties</font></td>
    </tr>
    <tr>
        <td bgcolor="#FFFFE6"><font size="2" face="Courier New">#
        @(#)servlets.properties 1.86 97/11/14<br>
        #<br>
        # Servlets Properties<br>
        #<br>
        # servlet.&lt;name&gt;.code=class name (foo or foo.class)<br>
        # servlet.&lt;name&gt;.initArgs=comma-delimited list of
        {name, value} pairs<br>
        # that can be accessed by the servlet using the<br>
        # servlet API calls<br>
        #<br>
        # session servlet<br>
        servlet.accounts.code=Accounts<br>
        <br>
        </font></td>
    </tr>
</table>
</center></div>

<p><font face="Verdana"><strong>3. Make sure the EJBServer is up
and running and Startup the servlet runner</strong></font></p>
<div align="center"><center>

<table border="0" width="97%" bgcolor="#DDDDDD">
    <tr>
        <td bgcolor="#000000"><font color="#FFFFFF" size="2"
        face="Courier New"><br>
        E:\MyProjects\AccountEJB&gt;<br>
        <br>
        E:\MyProjects\AccountEJB&gt;servletrunner -p 6060 -d
        E:\MyProjects\AccountEJB -s servlet.properties<br>
        servletrunner starting with settings:<br>
        port = 6060<br>
        backlog = 50<br>
        max handlers = 100<br>
        timeout = 5000<br>
        servlet dir = E:\MyProjects\AccountEJB<br>
        document dir = .\examples<br>
        servlet propfile = servlet.properties<br>
        <br>
        </font></td>
    </tr>
</table>
</center></div>

<p><font face="Verdana"><strong>4. Open up your web browser - be
it IE4.0x or Netscape 4.0x - and connect to the URL by typing the
following into the Address</strong></font></p>
<div align="center"><center>

<table border="0" width="97%" bgcolor="#DDDDDD">
    <tr>
        <td bgcolor="#DDDDDD"><p align="center"><font
        color="#000000" size="2" face="Lucida Console"><strong><br>
        </strong></font><font size="2" face="Lucida Console"><strong>http://localhost:6060/servlet/Accounts</strong></font><font
        color="#000000" size="2" face="Lucida Console"><strong><br>
        </strong></font></p>
        </td>
    </tr>
</table>
</center></div>

<p><a href="ejb.html"><font
size="2" face="Verdana">click here to go to</font><font size="4"
face="Verdana"> </font><br>
<font size="4" face="Verdana">My EJB HomePage...</font></a></p>

<div align="center">
  <center>

<table border="1" cellpadding="2" width="95%">
    <tr>
        <td valign="top" width="100%" bgcolor="#004080"><font
        color="#FFCC00" size="4" face="Verdana">About the Author...</font></td>
    </tr>
    <tr>
        <td valign="top" width="100%" bgcolor="#FFF2F2"><a
        href="http://www.execpc.com/~gopalan/personal/cv.html"><font
        color="#000080" size="2" face="Tahoma"><strong>Gopalan
        Suresh Raj</strong></font></a><font size="2"
        face="Tahoma"><strong> </strong>is a Software Architect,
        Developer and an active Author. He is contributing author
        to a couple of books &quot;<strong>Enterprise Java
        Computing-Applications and Architecture</strong>&quot;
        and &quot;<strong>The Awesome Power of JavaBeans</strong>&quot;.
        His expertise spans enterprise component architectures
        and distributed object computing. Visit him at his </font><a
        href="http://www.execpc.com/~gopalan"><font size="2"
        face="Tahoma"><strong>Web Cornucopia</strong><sup><strong>©</strong></sup></font></a><font
        size="2" face="Tahoma"> site (<strong>http://www.execpc.com/~gopalan</strong>)
        or mail him at </font><a href="mailto:gopalan@execpc.com"><font
        size="2" face="Tahoma"><strong>gopalan@execpc.com</strong></font></a><font
        size="2" face="Tahoma">.</font></td>
    </tr>
</table>
  </center>
</div>

<p>&nbsp;</p>

<hr>

<table border="0" cellpadding="0" cellspacing="0" width="100%">
    <tr>
        <td align="center"><p align="center"><a
        href="http://www.execpc.com/~gopalan/index.html"><font
        color="#000000"><img
        src="..\resources\home(2).gif"
        alt="Go to the Component Engineering Cornucopia page"
        width="65" height="44" start="fileopen"></font></a></p>
        </td>
        <td align="center" colspan="2"><p align="center"><font
        color="#000080" size="4" face="Arial Narrow"><strong>This
        site was developed and is maintained by </strong></font><a
        href="http://www.execpc.com/~gopalan/personal/cv.html"
        style="COLOR: rgb(0,0,128)"><font color="#000080"
        size="4" face="Arial Narrow"><strong>Gopalan Suresh Raj</strong></font></a></p>
        <p align="center"><font color="#000080" size="4"
        face="Arial Narrow"><strong>This page has been visited </strong></font><font
        color="#000080"><img
        src="..\..\..\counter.execpc.com\cgi-bin\nph-count\width=5&link=~gopalan_misc_compare3.html"></font><font
        color="#000080" size="4" face="Arial Narrow"><strong>
        times since September 21,1998.</strong></font></p>
        </td>
    </tr>
</table>

<table border="0" cellpadding="0" cellspacing="0" width="100%">
    <tr>
        <td align="center"><p align="center"><font
        color="#800000" size="3">Last Updated : Dec 19, '98</font></p>
        </td>
        <td colspan="2"><p align="center"><a
        href="mailto:gopalan@execpc.com"><font color="#800000"
        size="4" face="Arial Narrow">If you have any questions,
        comments, or problems regarding this site, please write
        to me I would love to hear from you</font></a><font
        color="#800000" size="4" face="Arial Narrow">.</font></p>
        </td>
    </tr>
</table>

<hr>
<div align="center"><center>

<table border="0" cellspacing="1" width="693" height="54">
    <tr>
        <td width="689" height="27"><p align="center"><font
        color="#000000" size="1" face="Courier New">Copyright (c)
        1997-98, </font><a
        href="http://www.execpc.com/~gopalan/personal/cv.html"
        style="COLOR: rgb(0,0,128)"><font color="#000000"
        size="1" face="Courier New">Gopalan Suresh Raj</font></a><font
        color="#000000" size="1" face="Courier New"> - All rights
        reserved. </font><a
        href="http://www.execpc.com/~gopalan/misc/cpright.html"
        style="COLOR: rgb(0,0,128)"><font color="#000000"
        size="1" face="Courier New">Terms of use</font></a><font
        color="#000000" size="1" face="Courier New">.</font></p>
        </td>
    </tr>
    <tr>
        <td width="689" height="27"><p align="center"><font
        color="#000000" size="1" face="Courier New">All products
        and companies mentioned at this site are trademarks of
        their respective owners.</font></p>
        </td>
    </tr>
</table>
</center></div><!-- start of NedStat code -->

<p align="center"><a
href="http://usa.nedstat.net/cgi-bin/viewstat?name=java_tutorial"><img
src="..\..\..\usa.nedstat.net\cgi-bin\nedstat.gif\name=java_tutorial"
align="right" border="0" hspace="0"></a> <!-- end of NedStat code --> </p>
<script language="JavaScript">
<!--
  document.write("<img src=\"http://usa.nedstat.net/cgi-bin/referstat.gif?name=java_tutorial&refer="+escape(top.document.referrer)+"\" width=1 height=1 alt=\"\">");
// -->
</script>


<!--  Web Tracking Code Starts Here -->
<a target="_top" href="http://w.extreme-dm.com/?login=javatrac">
<img name=im src="..\..\..\w1.extreme-dm.com\i.gif" height=38
border=0 width=41 alt=""></a><script language="javascript"><!--
an=navigator.appName;d=document;function
pr(){d.write("<img src=\"http://w0.extreme-dm.com",
"/0.gif?tag=javatrac&j=y&srw="+srw+"&srb="+srb+"&",
"rs="+r+"&l="+escape(d.referrer)+"\" height=1 ",
"width=1>");}srb="na";srw="na";//-->
</script><script language="javascript1.2"><!--
s=screen;srw=s.width;an!="Netscape"?
srb=s.colorDepth:srb=s.pixelDepth;//-->
</script><script language="javascript"><!--
r=41;d.images?r=d.im.width:z=0;pr();//-->
</script><noscript><img height=1 width=1 alt=""
src="..\..\..\w0.extreme-dm.com\0.gif\tag=javatrac&j=n"></noscript>
<!-- eXTReMe digital Web Tracking Code Ends Here  -->


</body>
</html>
