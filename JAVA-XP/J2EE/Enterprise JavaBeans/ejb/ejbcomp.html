<html>

<head>
<meta http-equiv="Content-Type"
content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<title>EJB Components by Gopalan Suresh Raj</title>
</head>

<body bgcolor="#FFFFFF">

<p align="center"><a
        href="http://www.execpc.com/~gopalan/index.html"><img
        src="..\..\resources\wc.gif"
        border="0" width="200" height="45"></a></p>

<p align="center"><font color="#000080" size="5" face="Arial"><strong>EJB
Components</strong></font><font face="Verdana"><br>
</font><a href="http://www.execpc.com/~gopalan/personal/cv.html"><font
color="#000080" size="4" face="Verdana">Gopalan Suresh Raj</font></a></p>

<p><font size="2" face="Verdana">Let us take a more in-depth look
at some of the major components of the EJB architecture shown in
Figure below and understand their runtime behavior. </font></p>
<div align="center"><center>

<table border="1">
    <tr>
        <td><p align="center"><img src="ejbcomp.gif" width="573"
        height="306"></p>
        <p align="center"><i>Figure: Major components of the EJB
        Architecture</i></p>
        </td>
    </tr>
</table>
</center></div>

<p><font size="4" face="Arial"><b>The Home interface and the Home
object</b></font></p>

<p><font size="2" face="Verdana">When an EJB client needs to use
the services of an enterprise Bean, it creates the EJB through
its Home interface. The client specifically uses one of the
multiple </font><font size="1" face="Verdana">create()</font><font
size="2" face="Verdana"> methods that the Home interface defines.
The implementation of the Home interface is done through an
object called the Home object. An instance of this Home object is
created within the server and is made available to the clients as
a factory for creating the enterprise Bean.</font></p>

<p><font face="Arial"><b>Finding the Home Object</b></font></p>

<p><font size="2" face="Verdana">The EJB client locates the Home
object through JNDI since a reference to the home object is
placed in the naming service. The location of the namespace and
the JNDI context factory class name are provided to the client
initially. In addition to providing the location and class name,
the client should also have some knowledge of how to locate the
Home object within the naming tree.</font></p>

<p><font size="2" face="Verdana">When an EJB deployer deploys an
EJB onto an EJB server, she specifies a particular location in
the naming tree such as &quot;com/gopalan/Account&quot;. Then,
the EJB client must be given this fully qualified pathname to
locate and obtain a reference to the &quot;Account&quot; Home
object.</font></p>
<div align="center"><center>

<table border="1" bgcolor="#F4F4F4">
    <tr>
        <td><font size="2" face="Lucida Console">// get the JNDI
        naming context<br>
        Context initialCtx = <strong>new InitialContext ()</strong>;<br>
        <br>
        // use the context to lookup the EJB Home interface<br>
        AccountHome home =<strong>(AccountHome)initialCtx.lookup
        (&quot;com/gopalan/Account&quot;);</strong><br>
        <br>
        // use the Home Interface to create a Session Bean object<br>
        Account account = <strong>home.create (1234,
        &quot;Athul&quot;, 1000671.54d);</strong><br>
        </font></td>
    </tr>
</table>
</center></div>

<p><font face="Arial"><b>Definition of the Home Interface</b></font></p>

<p><font size="2" face="Verdana">The </font><font size="1"
face="Verdana">EJBHome</font><font size="2" face="Verdana">
object is an implementation of the </font><font size="1"
face="Verdana">javax.ejb.EJBHome</font><font size="2"
face="Verdana"> interface. It has the needed <code>create()</code>
and <code>find()</code> methods, and each of these is matched
with an <code>ejbCreate()</code> or <code>ejbFind()</code> method
of the same signature in the actual Enterprise Bean
implementation that is being created. There are also <code>ejbRemove()</code>
methods that use the <code>Handle</code> of the EJBean or its <code>Primary
Key</code>. There is also a method to obtain the <code>EJBMetaData</code>
of the <code>EJBean</code></font><font size="1" face="Verdana">. </font><font
size="2" face="Verdana">This interface is defined in the
specification as follows:</font></p>
<div align="center"><center>

<table border="1" bgcolor="#F4F4F4">
    <tr>
        <td><font size="2" face="Lucida Console">public interface
        <strong>javax.ejb.EJBHome</strong> extends Remote { </font><p><font
        size="2" face="Lucida Console">&nbsp;public abstract void
        <strong>remove (Handle handle)</strong> <br>
        &nbsp;&nbsp; throws RemoteException, RemoveException; <br>
        &nbsp;public abstract void <strong>remove (Object
        primaryKey)</strong> <br>
        &nbsp;&nbsp; throws RemoteException,RemoveException; <br>
        &nbsp;public abstract <strong>EJBMetaData getEJBMetaData
        () </strong><br>
        &nbsp;&nbsp; throws RemoteException; <br>
        } <br>
        </font></p>
        </td>
    </tr>
</table>
</center></div>

<p><font size="2" face="Verdana">The EJB developer has to define </font><font
size="1" face="Verdana">ejbCreate()</font><font size="2"
face="Verdana"> methods in his enterprise beans. He is also
required to define corresponding <code>create()</code> methods
which match the signatures in the EJB&#146;s home interface. If
the developer is coding an Entity Bean, she may have to define
finder methods in the home interface which will allow clients to
locate existing entity beans based on their identity.</font></p>

<p><font size="2" face="Verdana">A typical Home interface
definition for an EJB may look something like this:</font></p>
<div align="center"><center>

<table border="1" bgcolor="#F4F4F4">
    <tr>
        <td><font size="2" face="Lucida Console">import
        javax.ejb.*; <br>
        import java.rmi.*; </font><p><font size="2"
        face="Lucida Console">public interface <strong>AccountHome</strong>
        extends <strong>EJBHome</strong> { <br>
        &nbsp; <br>
        &nbsp;<strong>Account create(int accountNo, String
        customer) </strong><br>
        &nbsp; throws CreateException, RemoteException; <br>
        &nbsp;<strong>Account create(int accountNo, String
        customer, double startingBalance) </strong><br>
        &nbsp; throws CreateException, RemoteException; <br>
        &nbsp;<strong>Account findByPrimaryKey(AccountPK
        accountNo) </strong><br>
        &nbsp; throws FinderException, RemoteException; <br>
        } </font></p>
        </td>
    </tr>
</table>
</center></div>

<p><font size="4" face="Arial"><b>The Remote Interface</b></font><font
face="Arial"> </font></p>

<p><font size="2" face="Verdana">The EJB developer must create a
remote interface, which describes the business methods of the
Bean that the EJB client would be able to invoke. The </font><font
size="1" face="Verdana">EJBObject</font><font size="2"
face="Verdana"> will have the implementation code generated by
the container tools for this interface.</font></p>

<p><font size="2" face="Verdana">The method names and the
signatures listed in the remote interface must exactly match the
method names and signatures of the business methods defined by
the enterprise Bean. This differs from the Home interface, whose
method signatures matched, but the names were different. </font></p>

<p><font size="2" face="Verdana">A typical remote interface
definition for an EJB may look like this.</font></p>
<div align="center"><center>

<table border="1" bgcolor="#F4F4F4">
    <tr>
        <td><font size="2" face="Lucida Console">import
        javax.ejb.*; <br>
        import java.rmi.*; </font><p><font size="2"
        face="Lucida Console">public interface <strong>Account</strong>
        extends <strong>EJBObject</strong> { <br>
        &nbsp; <br>
        &nbsp;<strong>void credit (double amount)</strong> throws
        RemoteException; <br>
        &nbsp;<strong>void debit (double amount)</strong> throws
        RemoteException; <br>
        &nbsp;<strong>double getBalance () </strong>throws
        RemoteException; <br>
        } </font><font size="1" face="Lucida Console"><br>
        </font><font size="2" face="Lucida Console"></font></p>
        </td>
    </tr>
</table>
</center></div>

<p>&nbsp;</p>

<p><font size="4" face="Arial"><b>The EJBObject</b></font></p>

<p><font size="2" face="Verdana">The EJBObject is a
network-visible object with a stub and skeleton that acts as a
proxy for the enterprise Bean. The Bean&#146;s remote interface
extends the </font><font size="1" face="Verdana">EJBObject</font><font
size="2" face="Verdana"> interface, making the EJBObject class
specific to the Bean class. For each enterprise Bean, there will
be a custom EJBObject class.</font></p>

<p><font size="4" face="Arial"><b>Types of EJBs: Entity and
Session Beans</b></font></p>

<p><font size="2" face="Verdana">Enterprise Beans are building
blocks that can be used alone or with other enterprise beans to
build complete, robust, thin-client multi-tiered applications. An
EJB is a body of code with fields and methods to implement
modules of business logic. They can either be transient or
persistent. There can be two types of enterprise Beans:</font></p>

<ul>
    <li><font size="2" face="Verdana">Entity Beans &#150; Beans
        that are generally used to model a business entity</font></li>
    <li><font size="2" face="Verdana">Session Beans &#150;
        general purpose server-side beans</font></li>
</ul>

<p><font size="2" face="Verdana">Figure below illustrates a
high-level view of an EJB environment with session and entity
enterprise beans.</font></p>
<div align="center"><center>

<table border="1" cellpadding="7" cellspacing="1" width="590">
    <tr>
        <td valign="top"><p align="center"><img src="ejbenv.gif"
        width="574" height="412"></p>
        <p align="center"><i>Figure: A typical EJB environment
        with entity and session beans</i></p>
        </td>
    </tr>
</table>
</center></div>

<p><font size="2" face="Verdana">Before we begin our discussion
of entity and Session Beans, it is important to understand the
concept of Passivation and Activation. <strong>Passivation</strong>
is the process by which the state of a Bean is saved to
persistent storage and then is swapped out. <strong>Activation</strong>
is the process by which the state of a Bean is restored by
swapping it in from persistent storage. </font></p>

<p><a href="..\ejb.html"><font
size="2" face="Verdana">click here to go to</font><font size="4"
face="Verdana"> </font><br>
<font size="4" face="Verdana">My EJB HomePage...</font></a></p>

<table border="1" cellpadding="2" width="95%">
    <tr>
        <td valign="top" width="100%" bgcolor="#004080"><font
        color="#FFCC00" size="4" face="Verdana">About the Author...</font></td>
    </tr>
    <tr>
        <td valign="top" width="100%" bgcolor="#FFF2F2"><a
        href="http://www.execpc.com/~gopalan/personal/cv.html"><font
        color="#000080" size="2" face="Tahoma"><strong>Gopalan
        Suresh Raj</strong></font></a><font size="2"
        face="Tahoma"><strong> </strong>is a Software Architect,
        Developer and an active Author. He is contributing author
        to a couple of books &quot;<strong>Enterprise Java
        Computing-Applications and Architecture</strong>&quot;
        and &quot;<strong>The Awesome Power of JavaBeans</strong>&quot;.
        His expertise spans enterprise component architectures
        and distributed object computing. Visit him at his </font><a
        href="http://www.execpc.com/~gopalan"><font size="2"
        face="Tahoma"><strong>Web Cornucopia</strong><sup><strong>©</strong></sup></font></a><font
        size="2" face="Tahoma"> site (<strong>http://www.execpc.com/~gopalan</strong>)
        or mail him at </font><a href="mailto:gopalan@execpc.com"><font
        size="2" face="Tahoma"><strong>gopalan@execpc.com</strong></font></a><font
        size="2" face="Tahoma">.</font></td>
    </tr>
</table>

<hr>

<table border="0" cellpadding="0" cellspacing="0" width="100%">
    <tr>
        <td align="center"><p align="center"><a
        href="http://www.execpc.com/~gopalan/index.html"><font
        color="#000000"><img
        src="..\..\resources\home(2).gif"
        alt="Go to the Component Engineering Cornucopia page"
        width="65" height="44" start="fileopen"></font></a></p>
        </td>
        <td align="center" colspan="2"><p align="center"><font
        color="#000080" size="4" face="Arial Narrow"><strong>This
        site was developed and is maintained by </strong></font><a
        href="http://www.execpc.com/~gopalan/personal/cv.html"
        style="COLOR: rgb(0,0,128)"><font color="#000080"
        size="4" face="Arial Narrow"><strong>Gopalan Suresh Raj</strong></font></a></p>
        <p align="center"><font color="#000080" size="4"
        face="Arial Narrow"><strong>This page has been visited </strong></font><font
        color="#000080"><img
        src="..\..\..\..\counter.execpc.com\cgi-bin\nph-count\width=5&link=~gopalan_misc_compare3.html"></font><font
        color="#000080" size="4" face="Arial Narrow"><strong>
        times since September 21,1998.</strong></font></p>
        </td>
    </tr>
</table>

<table border="0" cellpadding="0" cellspacing="0" width="100%">
    <tr>
        <td align="center"><p align="center"><font
        color="#800000" size="3">Last Updated : Dec 19, '98</font></p>
        </td>
        <td colspan="2"><p align="center"><a
        href="mailto:gopalan@execpc.com"><font color="#800000"
        size="4" face="Arial Narrow">If you have any questions,
        comments, or problems regarding this site, please write
        to me I would love to hear from you</font></a><font
        color="#800000" size="4" face="Arial Narrow">.</font></p>
        </td>
    </tr>
</table>

<hr>
<div align="center"><center>

<table border="0" cellspacing="1" width="693" height="54">
    <tr>
        <td width="689" height="27"><p align="center"><font
        color="#000000" size="1" face="Courier New">Copyright (c)
        1997-98, </font><a
        href="http://www.execpc.com/~gopalan/personal/cv.html"
        style="COLOR: rgb(0,0,128)"><font color="#000000"
        size="1" face="Courier New">Gopalan Suresh Raj</font></a><font
        color="#000000" size="1" face="Courier New"> - All rights
        reserved. </font><a
        href="http://www.execpc.com/~gopalan/misc/cpright.html"
        style="COLOR: rgb(0,0,128)"><font color="#000000"
        size="1" face="Courier New">Terms of use</font></a><font
        color="#000000" size="1" face="Courier New">.</font></p>
        </td>
    </tr>
    <tr>
        <td width="689" height="27"><p align="center"><font
        color="#000000" size="1" face="Courier New">All products
        and companies mentioned at this site are trademarks of
        their respective owners.</font></p>
        </td>
    </tr>
</table>
</center></div><!-- start of NedStat code -->

<p align="center"><a
href="http://usa.nedstat.net/cgi-bin/viewstat?name=java_tutorial"><img
src="..\..\..\..\usa.nedstat.net\cgi-bin\nedstat.gif\name=java_tutorial"
align="right" border="0" hspace="0"></a> <!-- end of NedStat code --> </p>
<script language="JavaScript">
<!--
  document.write("<img src=\"http://usa.nedstat.net/cgi-bin/referstat.gif?name=java_tutorial&refer="+escape(top.document.referrer)+"\" width=1 height=1 alt=\"\">");
// -->
</script>

<!-- eXTReMe digital Web Tracking Code Starts Here -->
<a target="_top" href="http://w.extreme-dm.com/?login=javatrac">
<img name=im src="..\..\..\..\w1.extreme-dm.com\i.gif" height=38
border=0 width=41 alt=""></a><script language="javascript"><!--
an=navigator.appName;d=document;function
pr(){d.write("<img src=\"http://w0.extreme-dm.com",
"/0.gif?tag=javatrac&j=y&srw="+srw+"&srb="+srb+"&",
"rs="+r+"&l="+escape(d.referrer)+"\" height=1 ",
"width=1>");}srb="na";srw="na";//-->
</script><script language="javascript1.2"><!--
s=screen;srw=s.width;an!="Netscape"?
srb=s.colorDepth:srb=s.pixelDepth;//-->
</script><script language="javascript"><!--
r=41;d.images?r=d.im.width:z=0;pr();//-->
</script><noscript><img height=1 width=1 alt=""
src="..\..\..\..\w0.extreme-dm.com\0.gif\tag=javatrac&j=n"></noscript>
<!-- eXTReMe digital Web Tracking Code Ends Here  -->


</body>
</html>
