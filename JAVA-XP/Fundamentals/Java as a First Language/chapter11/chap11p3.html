<html>

<head><meta http-equiv="pragma" content="no-cache">

<meta NAME="GENERATOR" CONTENT="Internet Assistant for Microsoft Word 2.0z">
<title>11.3 Relational and inverse testing of the ArithmeticJulianDate actions</title>

</head>

<body BGCOLOR="WHITE">

<h2>11.3 Relational and inverse testing of the <i>ArithmeticJulianDate</i>
actions<br>
</h2>

<p>
The testing method in the examples above relied upon a <i><b>parallel</b></i>
predictive method. This method relies upon the tester being able
to predict the actual output of the program and this is indicated
in the predicted output column in the test plan. There are two
possible problems with parallel methods, the first being that
for a complex specification predicting the actual output may rely
upon a long and complicated computation, which may itself only
be feasible by the use of a computer program. The second possible
problem is that the software developer and the test designer,
who may be the same person, may share the same misconception regarding
how the specification is to be interpreted and thus how the result
is to be computed. In this case both the results produced by the
program and the results predicted by the test designer will be
identical, but incorrect. Consequently the program will appear
to pass a test which it should have failed.<br>

<p>
As it is not always advisable, easy or convenient to predict the
actual output there are other possible methods which can be used
in the design of a black&nbsp;box test plan. The first of these
is <i><b>inverse</b></i> testing, which is suitable when a software
component can be 'driven in reverse' causing it to negate the
effects of 'driving it forwards'. For example using the <i><font SIZE="2" FACE="Arial">today</font></i>()
action today's date can be obtained, the <i><font SIZE="2" FACE="Arial">tomorrow</font></i>()
action can then be used to obtain tomorrow's date and the <i><font SIZE="2" FACE="Arial">yesterday</font></i>()
action can be used to obtain tomorrow's yesterday. If all this
has operated correctly then the date which has been amended should
be equal to today's date.<br>

<p>
The second possibility is <i><b>relational</b></i> testing, where
the effects of using a software artefact is constant over a range
of inputs. Thus if the effect can be measured, it should be equal
whatever value is used. Thus whatever date is used, the tomorrow()
action should result in a date which is one day in the future,
which can be proved by use of the <i><font SIZE="2" FACE="Arial">daysBetween</font></i>()
action.<br>

<p>
In order for these actions to be tested using relational and inverse
testing the confidence of the <i><font SIZE="2" FACE="Arial">today</font></i>()
action must be increased. The only way to do this is to use a
parallel method. A suitable test run is presented in Table 11.5.
<br>
<br>
<p>
<center>
<table BORDER="1">

<tr><td WIDTH="71"><center><b><font SIZE="2">trial</font></b></center>
</td><td WIDTH="142"><center><b><font SIZE="2">input</font></b></center>
</td><td WIDTH="95"><center><b><font SIZE="2">cases</font></b></center>
</td><td WIDTH="331"><center><b><font SIZE="2">notes</font></b></center>
</td></tr>

<tr><td WIDTH="71"><center><font SIZE="2">1</font></center></td><td WIDTH="142"><center><font SIZE="2">none</font></center>
</td><td WIDTH="95">a </td><td WIDTH="331">today's date obtained and output.
</td></tr>

<tr><td WIDTH="71"><center><font SIZE="2">2</font></center></td><td WIDTH="142"><center><font SIZE="2">today() and today()</font></center>
</td><td WIDTH="95">b</td><td WIDTH="331">today's date compared with today's date.
</td></tr>

</table>
</center>

<p>
<center><font SIZE="2">Table 11.5 </font><i><font SIZE="2" FACE="Arial">JulianDate</font></i><font SIZE="2">
</font><i><font SIZE="2" FACE="Arial">today()</font></i><font SIZE="2">
and </font><i><font SIZE="2" FACE="Arial">equals</font></i><font SIZE="2">()
test run.<br>
</font></center>
<p>
These series of tests are contained, for convenience, in a second
test harness file called <i><font SIZE="2" FACE="Arial">ArithmeticJulianDateTestHarness</font></i>,
whose implementation as far as the end of test run 2 is as follows.
<br>

<pre>
0012    <b>public static void</b> <i>main</i>(String <i>args</i>[]) {
0013 
0014    <i>JulianDate aDate</i>       = <b>new</b> <i>JulianDate</i>();
0015    <i>JulianDate anotherDate</i> = <b>new</b> <i>JulianDate</i>();
0016     
0017       System.out.println( &quot;\t Arithmentic Julian Date Test Harness \n&quot;);
0018 
0019       System.out.println( &quot;\t Test run 3 - today and equals&quot;);
0020       
0021       System.out.println( &quot;\nTrial 1 - today &quot;);
0022       <b>try</b> { 
0023          <i>aDate.today</i>();
0024          System.out.println( &quot;Today's date obtained without exception.&quot;);
0025          System.out.println( &quot;Todays date is &quot; +  <i>aDate</i>);
0026       } <b>catch</b> ( <i>JulianDateException exception</i>) { 
0027          System.out.println( &quot;Exception thrown ... test failed&quot;);
0028       } // End try/ catch.
0029 
0030       System.out.println( &quot;\nTrial 2 - equals &quot;);
0031       <b>try</b> { 
0032          <i>anotherDate.today</i>();
0033          System.out.println( &quot;Today's date obtained again without exception.&quot;);
0034       } <b>catch</b> ( <i>JulianDateException exception</i>) { 
0035          // Do nothing!
0036       } // End try/ catch.
0037       System.out.print( <i>aDate</i>);
0038       <b>if</b> ( <i>aDate.equals</i>( <i>anotherDate</i>)) { 
0039          System.out.println( &quot; is equal to &quot; + <i>anotherDate</i>);
0040          System.out.println( &quot;which is correct ... trial passed.&quot;); 
0041       } <b>else</b> { 
0042          System.out.println( &quot;is not equal to &quot; + <i>anotherDate</i>);
0043          System.out.println( &quot;which is not correct ... trial failed.&quot;); 
0044       } // end if. <br>
</pre>

<p>
The output produced by this part of the program when it was executed
was as follows.<br>

<p>
<hr>
<ul>
<pre>
	 	Arithmentic Julian Date Test Harness 

	 	Test run 3 - today and equals

Trial 1 - today 
Today's date obtained without throwing exception.
Todays date is Mon 22 July 1996

Trial 2 - equals 
Today's date obtained again without throwing exception.
Mon 22 July 1996 is equal to Mon 22 July 1996
which is correct ... trial passed.<br>

</pre>
</ul>
<hr>

<p>
Which seems to indicates that <i><font SIZE="2" FACE="Arial">today</font></i>()
and <i><font SIZE="2" FACE="Arial">equals</font></i>() are correct.
An inverse test plan for the <i><font SIZE="2" FACE="Arial">today</font></i>(),
<i><font SIZE="2" FACE="Arial">yesterday</font></i>(), <i><font SIZE="2" FACE="Arial">daysHence</font></i>()
and <i><font SIZE="2" FACE="Arial">daysPast</font></i>() actions
is given in Table 11.6. Strictly speaking trials 7 and 8 are not
inverse tests but seem necessary to conclude with a high confidence
that the artefact is correct.<br>

<p>
<center>
<table BORDER="1">

<tr><td WIDTH="71"><center><b><font SIZE="2">trial</font></b></center>
</td><td WIDTH="473"><center><b><font SIZE="2">note</font></b></center>
</td></tr>

<tr><td WIDTH="71"><center><font SIZE="2">1</font></center></td><td WIDTH="473">today() tomorrow() yesterday()  =  today()
</td></tr>

<tr><td WIDTH="71"><center><font SIZE="2">2</font></center></td><td WIDTH="473">today() daysPast( 1) daysHence( 1)  =  today()
</td></tr>

<tr><td WIDTH="71"><center><font SIZE="2">3</font></center></td><td WIDTH="473">today()yesterday() tomorrow()  =  today()
</td></tr>

<tr><td WIDTH="71"><center><font SIZE="2">4</font></center></td><td WIDTH="473">today()daysHence( 1) daysPast( 1)  =  today()
</td></tr>

<tr><td WIDTH="71"><center><font SIZE="2">5</font></center></td><td WIDTH="473">01/01/1900 daysHence( 109572) daysPast( 109572)  =  01/01/1900
</td></tr>

<tr><td WIDTH="71"><center><font SIZE="2">6</font></center></td><td WIDTH="473">31/12/2199 daysPast( 109572) daysHence( 109572)  =  31/12/2199
</td></tr>

<tr><td WIDTH="71"><center><font SIZE="2">7</font></center></td><td WIDTH="473">01/01/1900 yesterday()    JulianDateException
</td></tr>

<tr><td WIDTH="71"><center><font SIZE="2">8</font></center></td><td WIDTH="473">31/12/1900 tomorrow()   JulianDateException
</td></tr>

</table>
</center>
<p>
<center><font SIZE="2">Table 11.6 </font><i><font SIZE="2" FACE="Arial">ArithmeticJulianDate</font></i><font SIZE="2">,
inverse test plan.<br>
</font></center>
<p>
The implementation of trials 1, 6 and 7 are as follows. <br>

<p>
<pre>
0048       System.out.println( &quot;\n\t Test run 4 - inverse testing of &quot; + 
0049                           &quot; ArithmeticJulianDate actions.\n&quot;);
0050                           
0051       System.out.println( &quot;\nTrial 1 tomorrow's yesterday should be today ...&quot;);
0052       <i>aDate.today</i>();
0053       <i>anotherDate.today</i>();
0054       <i>anotherDate.tomorrow</i>();
0055       <i>anotherDate.yesterday</i>();
0056       <b>if</b> ( <i>aDate.equals</i>( <i>anotherDate</i>)) { 
0057          System.out.println( &quot;it is  trial passed.&quot;); 
0058       } <b>else</b> { 
0059          System.out.println( &quot;it isn't trial failed.&quot;);        
0060       } // end if.        

0107       System.out.println( &quot;\nTrial 6 - 109572 days after 109572 before &quot; + 
0108                           &quot; 31/12/2199 should be 31/12/2199 ...&quot;); 
0109       <i>aDate</i>       = <b>new</b> <i>JulianDate</i>( 2199, 12, 31, <i>JulianDate.EUROPEAN</i>);
0110       <i>anotherDate</i> = <b>new</b> <i>JulianDate</i>( 2199, 12, 31, <i>JulianDate.EUROPEAN</i>);
0111       <i>anotherDate.daysPast</i>(  109572);
0112       <i>anotherDate.daysHence</i>( 109572);
0113       <b>if</b> ( <i>aDate.equals</i>( <i>anotherDate</i>)) { 
0114          System.out.println( &quot;it is  trial passed.&quot;); 
0115       } <b>else</b> { 
0116          System.out.println( &quot;it isn't  trial failed.&quot;);        
0117       } // end if.       
0118 
0119       System.out.println( &quot;\nTrial 7 - yesterday of 01/01/1900 &quot; + 
0120                           &quot; should throw an exception ...&quot;); 
0121       <i>aDate</i>       = new <i>JulianDate</i>( 1900, 1, 1, <i>JulianDate.EUROPEAN</i>);
0122       <b>try</b> {
0123          <i>aDate.yesterday</i>();
0124          System.out.println( &quot;it doesn't trial failed.&quot;);
0125       } <b>catch</b> ( <i>JulianDateException</i> <i>exception</i>) { 
0126          System.out.println( &quot;it does trial passed.&quot;);        
0127       } // end if.              <br>
</font>
</pre>

<p>
The output of the program for trials 1 to 8, was as follows. 
<br>

<p>
<hr>
<ul>
<pre>
	 	Test run 4 - inverse testing of  ArithmeticJulianDate actions.


Trial 1 - tomorrow's yesterday should be today ...
it is  trial passed.

Trial 2 - 1 day before 1 day after today should be today ...
it is  trial passed.

Trial 3 - yesterday's tomorrow should be today ...
it is  trial passed.

Trial 4 - 1 day after 1 day before today should be today ...
it is  trial passed.

Trial 5 - 109572 days before 109572 days after 
          01/01/1900 should be 01/01/1900 ...
it is  trial passed.

Trial 6 - 109572 days after 109572 before  
          31/12/2199 should be 31/12/2199 ...
it is  trial passed.

Trial 7 - yesterday of 01/01/1900  should throw an exception ...
it does trial passed.

Trial 8 - tomorrow of 31/12/2199  should throw an exception ...
it does trial passed.<br>

</pre>
</ul>
<hr>
<p>
Which seems to indicate that all is well despite not having made
an actual prediction concerning the actual date. The remaining
actions can be tested using a relational test plan, as given in
Table 11.7.<br>

<p>
<center>
<table BORDER="1">

<tr><td WIDTH="71"><center><b><font SIZE="2">trial</font></b></center>
</td><td WIDTH="473"><center><b><font SIZE="2">note</font></b></center>
</td></tr>

<tr><td WIDTH="71"><center><font SIZE="2">1</font></center></td><td WIDTH="473">tomorrow() is greater than today() by 1 day
</td></tr>

<tr><td WIDTH="71"><center><font SIZE="2">2</font></center></td><td WIDTH="473">yesterday() is less than today() by 1 day
</td></tr>

</table>
</center>
<p>
<center><font SIZE="2">Table 11.7 </font><i><font SIZE="2" FACE="Arial">ArithmeticJulianDate</font></i><font SIZE="2">,
relational test plan.<br>
</font></center>
<p>
Strictly speaking this is in part relational and in part parallel
as the prediction of a 1 day difference indicates. The implementation,
and the output produced by the first trial confirming the correct
operation of the actions, is as follows. <br>

<p>
<pre>
0140       System.out.println( &quot;\n\t Test run 5 - relational testing of &quot; + 
0141                           &quot; ArithmeticJulianDate actions.\n&quot;);
0142                           
0143       System.out.println( &quot;\nTrial 1 - tomorrow should be later than today,&quot; + 
0144                           &quot; by 1 day ... &quot;);                           
0145       <i>aDate.today</i>();
0146       <i>anotherDate.today</i>();
0147       <i>aDate.tomorrow</i>();
0148       <b>if</b> ( <i>aDate.isLaterThan</i>( <i>anotherDate</i>)) { 
0149          System.out.print( &quot;it is &quot; );
0151          <b>if</b> ( <i>aDate.daysBetween</i>( <i>anotherDate</i>) == 1) {
0152             System.out.println( &quot;by 1 day trial passed.&quot;); 
0153          } <b>else</b> { 
0154             System.out.println( &quot;by &quot; +  <i>aDate.daysBetween</i>( <i>anotherDate</i>) +
0155                                 &quot; day trial failed.&quot;); 
0156          } // End if.
0157       } <b>else</b> { 
0158          System.out.println( &quot;it isn't trial failed.&quot;);        
0159       } // End if.<br>
</pre>
<p>

<hr>
<ul>
<pre>

Trial 1 - tomorrow should be later than today, by 1 day ...
it is by 1 day trial passed.

</pre>
</ul>
<hr>
<p>
<hr>
<h2>
<ul>
<a HREF="arithmeticjuliandatetestharness.java" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter11/ArithmeticJulianDateTestHarness.java"><img SRC="..\list.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/list.gif" ALIGN="MIDDLE" BORDER="0" WIDTH="40" HEIGHT="35">
<i>ArithmeticJulianDateTestHarness.java</i> source code</a>.
<p>
<p>
<a HREF="chap11p4.html" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter11/chap11p4.html"><img SRC="..\next.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/next.gif" ALIGN="MIDDLE" BORDER="0" WIDTH="50" HEIGHT="40">
11.4 Composite and interactive testing of the remaining facilities</a>.
<p>
<a HREF="chap11p2.html" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter11/chap11p2.html"><img SRC="..\last.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/last.gif" ALIGN="MIDDLE" BORDER="0" WIDTH="50" HEIGHT="40">
11.2 Testing the <i>BasicJulianDate</i> alternative constructor</a>.
<p>
</ul>
</h2>
<hr>

</body>

</html>
&#26;