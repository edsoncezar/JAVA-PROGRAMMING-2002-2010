<html>

<head><meta http-equiv="pragma" content="no-cache">

<meta NAME="GENERATOR" CONTENT="Internet Assistant for Microsoft Word 2.0z">
<title>2.2. The first part of the implementation of the Friend class</title>

</head>

<body BGCOLOR="WHITE">

<h2><h1>2.2. The first part of the implementation of the <i>Friend</i> class</h1><br>
</h2>

<p>
The class diagram design above indicates that the class contains
four private data attributes, a constructor and five other actions.
In order to make the description of the source code more convenient
each of these three sections will be presented and discussed in
turn. The listing as far as the end of the declaration of the
data attributes is as follows. <br>

<pre>
0001  // Filename <i>Friend.java</i>.
0002  // Second Java object written for 
0003  // the JOF book chapter 2 - see text.
0004  //
0005  // Fintan Culwin, V0.1, August 1997.
0006  
0007  <b>public class</b> <i>Friend</i> <b>extends</b> <i>Object</i> { 
0008  
0009  <b>private</b> String <i>friendsName </i>= <b>null</b>;
0010  <b>private int</b>    <i>friendsAge </i> = 0;
0011  
0012  <b>private static</b> <b>int</b>          <i>numberOfFriends</i>     = 0;
0013  <b>private static final</b> String <i>PERSONAL_GREETING</i>   = &quot;My Dear Friend&quot;;
<br>
<br>

</pre>

<p>
The first five lines are the expected file header comments which
are followed by the start of the declaration of the class, all
of which is comparable with the two classes which were introduced
in Chapter 1, differing only on line 0007 where <i>Friend</i>
is stated to be an extension of the Object
class. This is not technically necessary as all classes are automatically
assumed to be extensions of the Object
class unless otherwise stated. However, it is regarded as better
style to explicitly indicate this rather than rely upon the reader
of the class declaration having to remember it. <br>

<p>
The two instance data attributes, <i>friendsName</i>
and <i>friendsAge</i>, are declared
on lines 0009 to 0010. They are both declared with the modifier
<b>private</b> to indicate to
Java that they are totally contained, or <i><b>encapsulated</b></i>,
within the class and cannot be seen by clients of the class. The
first, <i>friendsName</i>, is
declared to be an instance of the <i>String</i>
class, as introduced in the previous chapter, however in this
example it is not given a value as this is the responsibility
of the constructor, as will be explained below. Instead its default
value of <b>null</b> is explicitly
stated. All instances of any class have a default value, identified
as <b>null</b>, upon declaration.
<br>

<p>
The declaration of the instance attribute <i>friendsAge</i>,
on line 0010, states that is of the <b>int</b>
type. Instances of the <b>int</b>
type are technically not instances of a class but of a <i><b>primitive&nbsp;type</b></i>.
Primitive types, which are part of the Java language, take less
resources than class instances. Primitive <b>int</b>s
are suitable for use where a numeric value, which has no decimal
parts, needs to be stored. The final term, '=&nbsp;0',
is not strictly required as all <b>int</b>s
have the default value 0 when declared, unless a different value
is specified. However, it is regarded as good style to always
indicate the value upon declaration and not to rely upon the default.
A fuller description of the properties of the primitive Java <b>int</b>eger
types can be found in Appendix A1.<br>

<p>
The declaration of the class wide attributes follows on lines
0012 and 0013. These are both declared with the modifier <b>private</b>
for the same reasons as described above. They also both have the
modifier <b>static</b> to indicate
that they are class wide, as opposed to instance, attributes.
The <i>PERSON_GREETING</i> attribute
also has the modifier <b>final</b>
to indicate that its value cannot be changed once it has been
established in the declaration. <br>

<p>
On line 0012 the <i>numberOfFriends</i>
attribute is declared to be of the <b>int</b>
type as it too will store a numeric value, with no decimal parts,
recording the number of instances of the class which have been
constructed, as will be described below. The final term, '=&nbsp;0',
is not strictly required for the same reasons as described above
for the <i>friendsAge</i> attribute.
<br>

<p>
The declaration of the <i>PERSON_GREETING</i>
attribute on line 0013 indicates that it is an instance of the
String class. As this declaration
uses the <b>final</b> modifier
it has to specify what its value is and, once specified upon declaration,
it cannot be changed. The value is indicated by the String
literal at the end of the line, as explained in the previous chapter.
<br>

<p>
The four declarations have been laid out to emphasise readability.
It is not required that the instance attributes are separated
from the class wide attributes by a blank line, nor that the names
are aligned in a single column, nor that the initial values are
likewise aligned. However it is much easier to read the declarations
if this convention is followed. The design of the constructor
action is as follows. <br>

<p>
<center><img SRC="c2p2i1.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter2/c2p2i1.gif" WIDTH="474" HEIGHT="141">
<br>
</center>
<p>
The design indicates that the constructor is a sequence of three
activities, first to store <i>theirName</i>,
then to store <i>theirAge</i>
and finally to increment the count of the number of friends. The
implementation of this design is as follows. <br>

<pre>
0015     <b>public</b> <i>Friend</i>( String <i>theirName</i>,
0016                    <b>int</b>    <i>theirAge</i>) { 
0017       
0018        <i>friendsName</i> = <b>new</b> String( <i>theirName</i>);      
0019        <i>friendsAge</i>  = <i>theirAge</i>;       
0020        <i>numberOfFriends</i>++;
0021     } // End <i>Friend</i> constructor.<br>

</pre>

<p>
The declaration of a constructor is very similar to the declaration
of an action, however the only a single modifiers specifying its
visibility, either <b>public</b>
or<b> protected</b>,<b>
</b>is allowed. In this example the constructor requires
<b>public</b> visibility, in
accord with its class diagram.<b> </b>The
declaration continues with the name of the constructor which must
be the same as the name of the class, in this example <i>Friend</i>.
The signature of the constructor, on line 0015 and 0016, indicates
that it requires two arguments. The first is an instance of the
String class and will be known
as <i>theirName</i> within the
constructor; the second is of type <b>int</b>
and will be known as <i>theirAge</i>.
When there is more than one argument in a signature they are separated
by commas (&nbsp;<b>,</b>&nbsp;)
as shown at the end of line 0015. Placing them on separate lines
and aligning the names has been done to improve the readability
of the listing. <br>

<p>
The body of the constructor commences on line 0018 with the construction
of a <b>new</b> String
containing a copy of the contents of the String
passed to the constructor in the <i>theirName</i>
argument. When the <i>friendsName</i>
attribute was declared on line 0009 it was noted that, unlike
the Strings from the previous
chapter, it was not given a value. Its value is specified here
upon construction, using a similar technique to that used to specify
String values in the previous
chapter. The effect is that the <i>friendsName</i>
attribute will contain a copy of the name passed as the first
argument of the constructor.<br>

<p>
The second line of the constructor, line 0019, initialises the
value of the other instance attribute, <i>friendsAge</i>,
by <i><b>assigning </b></i>the value of the <b>int</b>
argument <i>theirAge</i> to it,
replacing its default value. The line: <i>friendsAge
= theirAge,</i> can be read as 'change the value of the
variable <i>friendsAge </i>to
whatever value is in the argument variable <i>theirAge'</i>.
It is not necessary, or possible, to construct a <b>new</b>
<b>int</b> instance as <b>int</b>s
are, as noted above, of a primitive type and are not instances
of a class which would require construction.<br>

<p>
The final action of the constructor, on line 0020, is to increment
by 1 the <i>numberOfFriends</i>
class wide attribute. This is accomplished by use of the <b>int</b>
<i><b>post&nbsp;increment operator</b></i> (&nbsp;++&nbsp;) described
more fully in Appendix A1. The effect is to increase the integer
value stored in <i>numberOfFriends</i>
by 1 every time the constructor is used. So after the constructor
has been called for the first time its value will change from
0 to 1, on the second time to 2, and so on. <br>

<p>
At this stage only one of the instance actions will be implemented
in order that the first part of the client demonstration program
can be presented. The <i>friendsNameIs()</i>
action is not sufficiently complex to require a design, its implementation
is as follows.  <br>

<pre>
0024     <b>public</b> String <i>friendsNameIs</i>() { 
0025        <b>return</b> <i>friendsName</i>;   
0026     } // End <i>friendsNameIs</i>.<br>

</pre>

<p>
This is comparable with the <i>theAnswerIs()</i>
action from the previous chapter. It is implemented as single
<b>return</b> statement which
supplies the <i>friendsName</i>
instance attribute to a client.<br>
<br>
<p>
<hr>
<h2>
<ul>
<a HREF="friend.java" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter2/Friend.java"><img SRC="..\list.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/list.gif" ALIGN="MIDDLE" BORDER="0" WIDTH="40" HEIGHT="35">
<i>Friend.java</i> source code</a>.
</ul>
<p>
<hr>
<p>

<ul>
<a HREF="chap2p3.html" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter2/chap2p3.html"><img SRC="..\next.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/next.gif" ALIGN="MIDDLE" BORDER="0" WIDTH="50" HEIGHT="40">
2.3 The start of the demonstration client</a>.
<p>
<a HREF="chap2p1.html" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter2/chap2p1.html"><img SRC="..\last.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/last.gif" ALIGN="MIDDLE" BORDER="0" WIDTH="50" HEIGHT="40">
2.1 The design of the <i>Friend</i> class</a>.
</ul>
</h2>
<hr>
</body>

</html>
