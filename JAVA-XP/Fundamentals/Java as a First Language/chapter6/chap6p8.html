<html>

<head><meta http-equiv="pragma" content="no-cache">

<meta NAME="GENERATOR" CONTENT="Internet Assistant for Microsoft Word 2.0z">
<title>6.8 The BasicMenuDemonstration clients</title>

</head>

<body BGCOLOR="WHITE">

<h2>6.8 The <i>BasicMenuDemonstration</i> clients<br>
</h2>

<p>
In order to demonstrate the <i><font SIZE="2" FACE="Arial">BasicMenu</font></i>
class two demonstration clients, one using the <i><font SIZE="2" FACE="Arial">offerMenuAsChar()</font></i>
action and one illustrating the use of the <i><font SIZE="2" FACE="Arial">offerMenuAsInt()</font></i>
action, will be presented. The implementation of the first version
is as follows. <br>

<pre>
0001 // Filename <i>BasicMenuDemonstration.java</i>.
0002 // Providing a demonstration of the initial Interactive Menu.
0003 //
0004 // Written for JFL book Chapter 6 see text.
0005 // Fintan Culwin, v0.1, January 1997
0006 
0007 <b>import</b> Menus.BasicMenu;
0008 
0009 <b>public class</b> BasicMenuDemonstration { 
0010 
0011 <b>public static void</b> main( String argv[]) { 
0012 
0013    String demoOptions[] =  { &quot;This is the first option&quot;,
0014                              &quot;This is the second option&quot;,
0015                              &quot;This is the third option&quot;};
0016                              
0017    <b>char</b> demoCharChoice;
0018 
0019    BasicMenu demoMenu = <b>new</b> BasicMenu( &quot;This is the title&quot;,
0020                                        demoOptions,
0021                                        &quot;This is the prompt&quot;);
0022 
0023       System.out.println( &quot;\n\t\t Basic Menu demonstration &quot;);
0024       
0025       System.out.println( &quot;\n\n Testing the offerMenuAsChar() action ... \n\n&quot;);
0026       demoCharChoice = demoMenu.offerMenuAsChar();
0027       System.out.println( &quot;\n\You chose &quot; + demoCharChoice  + &quot; from the menu.&quot;);
0028    } // End main.
0029 } // End  BasicMenuDemonstration.
</pre>

<p>
On line 0013 an array of <font SIZE="2" FACE="Arial">String</font>s
called <i><font SIZE="2" FACE="Arial">demoOptions[]</font></i> is
declared and implicitly sized as it is initialised to contain
the prompts for three menu options. A <i><font SIZE="2" FACE="Arial">BasicMenu</font></i>
instance called <i><font SIZE="2" FACE="Arial">demoMenu</font></i>
is constructed on lines 0019 to 0021 specifying a title, the options
from <i><font SIZE="2" FACE="Arial">demoOptions[]</font></i> and
a prompt. On line 0026 the menu is offered using the <i><font SIZE="2" FACE="Arial">demoMenu
offerMenuAsChar()</font></i> action and the character obtained
stored in the character variable <i><font SIZE="2" FACE="Arial">demoCharChoice</font></i>,
before being<i> </i>output as a confirmation of the correct implementation
of the action. The behaviour of this harness when it was executed
and interacted with was as follows, with the user's input shown
highlighted. <br>

<hr>

<pre>
		 Basic Menu demonstration 


 	Testing the offerMenuAsChar() action ... 


	This is the title

   A.   This is the first option
   B.   This is the second option
   C.   This is the third option

   This is the prompt <u><i><b>D
   </b></i></u>Please enter a response between A and C.

   This is the prompt <u><i><b>@
   </b></i></u>Please enter a response between A and C.

   This is the prompt <u><i><b>b</b></i></u>

   You chose B from the menu.
</pre>

<hr>

<p>
The second demonstration harness, known as <i><font SIZE="2" FACE="Arial">MenuDispatchDemonstration</font></i>,
illustrates the intended use of the <i><font SIZE="2" FACE="Arial">obtainMenuAsInt()</font></i>
action. The implementation of this harness is as follows.<br>

<pre>
0001 // Filename <i>MenuDispatch.java</i>.
0002 // Providing a demonstration of the initial Interactive Menu,
0003 // showing its use with manifest values.
0004 //
0005 // Written for JFL book Chapter 6 see text.
0006 // Fintan Culwin, v0.1, January 1997.
0007 
0008 <b>import</b> Menus.BasicMenu;
0009 
0010 <b>public class</b> MenuDispatchDemonstration { 
0011 
0012 <b>private</b> <b>static final int</b> FIRST_OPTION  = 1;
0013 <b>private</b> <b>static final int</b> SECOND_OPTION = 2;
0014 <b>private</b> <b>static final int</b> THIRD_OPTION  = 3;
0015 
0016 <b>public static void</b> main( String argv[]) { 
0017    
0018    String demoOptions[] =  { &quot;This is the first option&quot;,
0019                              &quot;This is the second option&quot;,
0020                              &quot;This is the third option&quot;};
0021                              
0022    <b>int</b>  demoIntChoice;                             
0023 
0024    BasicMenu demoMenu = <b>new</b> BasicMenu( &quot;&quot;,
0025                                        demoOptions,
0026                                        &quot;&quot;);
0027  
0028       System.out.println( &quot;\n\t\t Basic Menu demonstration &quot;);
0029       
0030       System.out.println( &quot;\n\n Testing the offerMenuAsInt() action ... \n\n&quot;);
0031       demoIntChoice = demoMenu.offerMenuAsInt();
0032 
0033       <b>switch</b> ( demoIntChoice) { 
0034          <b>case</b> FIRST_OPTION:
0035             System.out.println( &quot;\n\n You chose the first option.&quot;);
0036             <b>break</b>;
0037          <b>case</b> SECOND_OPTION:
0038             System.out.println( &quot;\n\n You chose the second option.&quot;);
0039             <b>break</b>;         
0040          <b>case</b> THIRD_OPTION:
0041             System.out.println( &quot;\n\n You chose the third option.&quot;);
0042       } // End switch.                  
0043    } // End main.
0044 } // End  MenuDispatchDemonstrations.
</pre>

<p>
The harness illustrates, on lines 0024 to 0026, the calling of
the <i>BasicMenu</i> constructor with empty <i>Title</i> and <i>Prompt</i>
arguments, which should cause the menu to be presented without
a title and with the default prompt. However the major difference
is the use of manifest values to identify which option has been
chosen from the menu, and to dispatch to an appropriate <b>case</b>
action within a <b>switch</b> structure. In order to do this the
<i><font SIZE="2" FACE="Arial">offerMenuAsInt()</font></i> action
has to be used as manifest values are, by convention, <b><font SIZE="2" FACE="Arial">int</font></b>eger.
An outline general design for this harness, which can be easily
adapted for more realistic clients, would be as follows. 
<p>
<center><img SRC="c6p8i1.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter6/c6p8i1.gif" WIDTH="603" HEIGHT="339"></center>
<p>
A sample output from this program is as follows. <br>

<hr>

<pre>
		 Basic Menu demonstration 


 Testing the offerMenuAsInt() action ... 


   A.   This is the first option
   B.   This is the second option
   C.   This is the third option
	
   Please enter your choice : <u><i><b>k
   </b></i></u>Please enter a response between A and C.

   Please enter your choice : <u><i><b>d
   </b></i></u>Please enter a response between A and C.

   Please enter your choice : <u><i><b>B

   </b></i></u>You chose the second option.</font>
</pre>

<p>
<hr>
<h2>
<ul>
<a HREF="basicmenudemonstration.java" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter6/BasicMenuDemonstration.java"><img SRC="..\list.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/list.gif" ALIGN="MIDDLE" BORDER="0" WIDTH="40" HEIGHT="35">
<i>BasicMenuDemonstration.java</i> source code</a>.
<p>
<a HREF="menudispatch.java" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter6/MenuDispatch.java"><img SRC="..\list.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/list.gif" ALIGN="MIDDLE" BORDER="0" WIDTH="40" HEIGHT="35">
<i>MenuDispatch.java</i> source code</a>.
<p>
<a HREF="chap6sum.html" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter6/chap6sum.html"><img SRC="..\next.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/next.gif" ALIGN="MIDDLE" BORDER="0" WIDTH="50" HEIGHT="40">
Summary of chapter 6</a>.
<p>
<a HREF="chap6p7.html" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter6/chap6p7.html"><img SRC="..\last.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/last.gif" ALIGN="MIDDLE" BORDER="0" WIDTH="50" HEIGHT="40">
6.7 The <i>BasicMenu</i> <i>offerMenuAsChar()</i> and<i> offerMenuAsInt()</i> actions</a>.
</ul>
</h2>
<hr>


</body>

</html>

