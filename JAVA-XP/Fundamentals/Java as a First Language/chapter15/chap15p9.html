<html>

<head>
<meta http-equiv="pragma" content="no-cache">
<meta http-equiv="Content-Type"
content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPage Express 2.0">
<title>15.9 The remaining BinaryTree actions</title>
</head>

<body bgcolor="#FFFFFF">

<h2>15.9 The remaining <i>BinaryTree</i> actions</h2>

<p>The remaining <i>BinaryTree</i> actions, with the exception of
the <i>remove()</i> action, are as follows. <br>
</p>

<pre>
0200     <b>public</b> Enumeration <i>elements</i>() {    
0201       <b>return new</b> <i>BinaryTreeEnumeration</i>( <i>theTree</i>);
0202     } // End <i>elements</i>.
0203     
0204  
0205     <b>public int</b> <i>size</i>() { 
0206        <b>return</b> <i>numberOfElements</i>;
0207     } // End <i>size</i>.
0208     
0209     
0210     <b>public</b> <b>boolean</b> <i>isEmpty</i>() { 
0211        <b>return</b> <i>theTree</i> == <b>null</b>;
0212     } // End <i>isEmpty</i>.


</pre>

<p>Unfortunately the <i>remove()</i> action is far more
complicated. One, rather inelegant, technique is to isolate the
node to be removed from the tree and then add all the elements
from its left and right subtrees to the original tree. <br>
</p>

<p>The details of this require that the element required is first
located, marked for removal and held in a local variable to be <b>return</b>ed
from the action. To support this the <i>TreeNode</i> class
supports a <b>boolean</b> <i>toBeRemoved</i> attribute which is <b>false</b>
by default. It also supplies an action called <i>markForRemoval()</i>
which sets the attribute <b>true</b> and an enquiry action called
<i>toBeRemoved()</i> which returns the value of this attribute.
The implementation of the <i>remove()</i> action has an
associated recursive <i>removeFromTree() </i>action<i>, </i>comparable
with the <i>obtainFromTree()</i> action as described above, which,
when it locates the node to be removed calls its <i>markForRemoval()</i>
action to flag it for removal.<br>
</p>

<p>Having obtained the element to be removed a <i>trimTree()</i>
action is called which will actually remove it, using another
action called <i>mergeTree()</i> to add the contents of its left
and right subtrees back to the tree. However, this would cause
the <i>numberOfElements</i> data attribute to contain an
incorrect value so it is stored before trimming and restored,
after being decremented, before the action terminates. The
implementation of the <i>remove()</i> action is as follows; the
implementation of the supporting actions can be found in Appendix
B. </p>

<pre>
0090     <b>public</b> <i>Keyable</i> <i>remove</i>(<i>Orderable keyToRemove</i>) { 
0091  
0092     <i>Keyable</i> <i>holdElement</i>;
0000     <b>int</b>      <i>holdCount</i>;
0093
0094       <i>holdElement</i> = <i>removeFromTree</i>( <i>theTree</i>, <i>keyToRemove</i>); 
0000       <i>holdCount</i> = <i>numberOfElements</i>;
0095       <i>trimTree</i>( <i>theTree</i>);
0000       <i>numberOfElements</i> = --<i>holdCount</i>
0097       <b>return</b> <i>holdElement</i>;
0098     } // End <i>remove</i>.  


</pre>

<p>The implementation of the <i>toString()</i> action, as
described above, traversed the tree by a recursive <i>treeString()</i>
action. It is not possible for such a traversal to be started and
stopped as required by the <i>nextElement()</i> action of an
Enumeration class. Accordingly the <i>BinaryTreeEnumeration</i>
constructor extracts all the data from the tree into a Vector and
iterates through this Vector in order to traverse the data in the
tree. Its inmplementation can be found in Appendix B.<br>
</p>

<p>As with the <i>OrderedList</i> class, the <i>BinaryTree</i>
class implements the <i>OrderedStructure</i> interface so the
same demonstration test harness as was used for the <i>OrderedList</i>
in Chapter 14 can be used with this structure, once all
occurrences of <i>OrderedList</i> have been replaced with <i>BinaryTree</i>.
<br>
<br>
</p>

<hr>

<ul>
    <li><a href="binarytreedemo.java"
        tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter15/BinaryTreeDemo.java"><img
        src="..\next.gif" align="middle" border="0" width="50"
        height="40"
        tppabs="http://www.scism.sbu.ac.uk/jfl/next.gif"> Send
        the <i>BinaryTreeDemo.java</i> source code</a>. <p><a
        href="chap15pa.html"
        tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter15/chap15pa.html"><img
        src="..\next.gif" align="middle" border="0" width="50"
        height="40"
        tppabs="http://www.scism.sbu.ac.uk/jfl/next.gif"> 15.10 <i>LinkedList</i>s,
        and <i>BinaryTree</i>s compared</a>. </p>
        <p><a href="chap15p8.html"
        tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter15/chap15p8.html"><img
        src="..\last.gif" align="middle" border="0" width="50"
        height="40"
        tppabs="http://www.scism.sbu.ac.uk/jfl/last.gif"> 15.8
        The <i>BinaryTree</i> <i>obtain(),</i> <i>isPresent()</i>
        and <i>toString()</i> actions</a>. </p>
    </li>
</ul>

<hr>
</body>
</html>
