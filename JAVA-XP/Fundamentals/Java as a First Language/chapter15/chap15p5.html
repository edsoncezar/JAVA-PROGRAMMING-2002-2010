<html>

<head><meta http-equiv="pragma" content="no-cache">

<meta NAME="GENERATOR" CONTENT="Internet Assistant for Microsoft Word 2.0z">
<title>15.5 The remaining LinkedList actions and the LinkedListEnumeration class</title>

</head>

<body BGCOLOR="WHITE">

<h2>15.5 The remaining <i>LinkedList</i> actions and the <i>LinkedListEnumeration</i> class<br>
</h2>

<p>
The remaining <i>LinkedList</i>
actions, with the exception of the <i>elements()</i>
action, are relatively straightforward.<br>

<pre>
0167     <b>public</b> Enumeration <i>elements</i>() {    
0168       <b>return new</b> <i>LinkedListEnumeration</i>( <i>theList</i>);
0169     } // End elements.
0170     
0171  
0172     <b>public int</b> <i>size</i>() { 
0173        <b>return</b> <i>numberOfElements</i>;
0174     } // End <i>size</i>.
0175     
0176     
0177     <b>public boolean</b> <i>isEmpty</i>() { 
0178        <b>return</b> <i>theList</i> == <b>null</b>;
0179     } // End <i>isEmpty</i>.
0180     
0181     
0182     <b>public</b> String <i>toString</i>(){ 
0183  
0184     StringBuffer <i>buffer</i>      = <b>new</b> StringBuffer();
0185     <b>int</b>          <i>thisElement</i> = 0;
0186     Enumeration  <i>theElements</i> = <b>this</b><i>.elements</i>();
0187     
0188        <b>while</b> ( <i>theElements.hasMoreElements</i>() ) { 
0189           <i>buffer</i>.append( ++<i>thisElement</i> + &quot;  &quot; + 
0190                          <i>theElements.nextElement</i>() + &quot;.\n&quot;);                             
0191        } // end while;
0192        <b>return</b> <i>buffer</i>.toString();   
0193     } // End <i>toString</i>.    <br>

</pre>

<p>
The implementation of the <i>toString()</i>
action makes use of the <i>LinkedList
elements()</i> action to return an Enumeration
instance of the <i>LinkedListEnumeration</i>
class. Having obtained an Enumeration
instance the output can be produced using the Enumeration
facilities as first described in Chapter 12. <br>

<p>
The <i>LinkedListEnumeration</i>
class implements the Enumeration interface
and supplies the three required actions: a constructor, <i>hasMoreElements()
</i>and<i> nextElement().</i>
The implementation is as follows. <br>

<pre>
0235  /////////////////////////////////////////////////////////
0236  // Private <i>LinkedListEnumeration</i> class, implementing   //
0237  // an Enumeration to traverse the list.                //
0238  ///////////////////////////////////////////////////////// 
0239  
0240  <b>class</b> <i>LinkedListEnumeration</i> <b>implements</b> Enumeration { 
0241  
0242  
0243  <i>ListNode</i> <i>currentNode</i>;
0244  
0245     <b>public</b> <i>LinkedListEnumeration</i>( ListNode <i>startNode</i>){ 
0246        <i>currentNode</i> = <i>startNode</i>;
0247     } // End <i>LinkedListEnumeration</i> constructor.
0248  
0249  
0250     <b>public</b> <b>boolean</b> <i>hasMoreElements</i>(){ 
0251         <b>return</b> <i>currentNode</i> != <b>null</b>;
0252     } // end <i>hasMoreElements</i>.
0253     
0254  
0255     <b>public</b> Object <i>nextElement</i>(){ 
0256     
0257     Object <i>hold</i>;
0258     
0259        <b>if</b> ( <i>currentNode</i> == <b>null</b>) { 
0260           <b>throw new</b> NoSuchElementException();
0261        } <b>else</b> { 
0262           <i>hold</i> = <i>currentNode.dataIs</i>();
0263           <i>currentNode</i> = <i>currentNode.nextIs</i>();
0264           <b>return</b> <i>(</i>Object<i>) ( ((Keyable) hold).copy())</i>;
0265        } // End if.
0266     } // End <i>nextElement</i>.<br>

</pre>

<p>
The actions of this class have to be specified <b>public</b>,
even though they are totally encapsulated within the <i>LinkedList</i>
class in order to comply with the Enumeration
<b>interface</b> declaration
and also to allow clients to access them.<br>

<p>
The constructor requires a <i>ListNode</i>
parameter which will be the first node in the list. This value
is encapsulated within the class and tested for the value <b>null</b>
in the <i>hasMoreElements()</i>
action. The <i>nextElement()</i>
action will throw a NoSuchElementException
if it is called when the list is exhausted. Otherwise it will
<i>hold</i> the element at the
current node and set the value of the <i>currentNode</i>
to the next node in the list, which will be <b>null</b>
at the end of the list, before returning a copy of the element.
This involves some complicated casting as <i>hold</i>
is of the Object class, but the
copy() action can only be applied to an instance of the <i>Keyable</i>
class, however the <i>nextElement()</i>
action has to return a value of the Object
class. So the value in <i>hold</i>
has to be cast to <i>Keyable</i>
in order to be copied and subsequently recast back to an Object.
<br>

<p>
Thus a newly constructed <i>LinkedListEnumeration</i>
instance will on its first call of <i>nextElement()</i>
return a copy of the first element, if any, from the list; the
second on the second call, and so on. When the list has been totally
traversed the <i>hasMoreElements()</i>
action will return <b>false</b>.
This is exactly the same behaviour as required by an <i>Enumeration</i>
class as described in Chapter 12. <br>

<p>
The implementation of the <i>LinkedList</i>
class can be demonstrated with exactly the same demonstration
harness as was used for the <i>OrderedList</i>
class in the previous chapter, with all occurrences of <i>OrderedList</i>
replaced with <i>LinkedList</i>.
This is possible as both classes implement the <i>Keyable</i>
interface which in turn causes their key values to implement the
<i>Ordered</i> interface, and
demonstrates the advantages of interfaces as stated at the start
of Chapter 14.<br>
<br>




<p>
<hr>
<h2>
<ul>
<a HREF="linkedlistdemo.java" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter15/LinkedListDemo.java"><img SRC="..\next.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/next.gif" ALIGN="MIDDLE" BORDER="0" WIDTH="50" HEIGHT="40">
Send the <i>LinkedListDemo.java</i> source code</a>.
<p>
<a HREF="chap15p6.html" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter15/chap15p6.html"><img SRC="..\next.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/next.gif" ALIGN="MIDDLE" BORDER="0" WIDTH="50" HEIGHT="40">
15.6 Binary Trees</a>.
<p>
<a HREF="chap15p4.html" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter15/chap15p4.html"><img SRC="..\last.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/last.gif" ALIGN="MIDDLE" BORDER="0" WIDTH="50" HEIGHT="40">
15.4 The linked list <i>obtain(),</i> <i>remove()</i> and <i>isPresent()</i> actions</a>.
</ul>
</h2>
<hr>

</body>

</html>
