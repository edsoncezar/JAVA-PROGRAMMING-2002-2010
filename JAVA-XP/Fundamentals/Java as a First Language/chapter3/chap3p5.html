<html>

<head><meta http-equiv="pragma" content="no-cache">

<meta NAME="GENERATOR" CONTENT="Internet Assistant for Microsoft Word 2.0z">
<title>3.5 Demonstrating the BasicCounter class</title>

</head>

<body BGCOLOR="WHITE">

<h2>3.5 Demonstrating the <i>BasicCounter</i> class<br>
</h2>

<p>
It is important to demonstrate that the <i><font FACE="Arial">BasicCounter</font></i>
class appears to be working correctly at this stage, before it
is extended into the <i><font FACE="Arial">LimitedCounter</font></i>
class. (Actually this is not sufficient; it is vital to formally
<i>test</i> the implementation rather than merely demonstrate
it. The processes involved in <i>testing</i> rather than merely
<i>demonstrating</i> will be introduced in Chapter ??.) However,
as this is a <i>non-</i><b>public</b> <b>abstract</b> class it
is not possible for a client to declare an instance of the class
in order to subject it to demonstration. The solution to this
problem is to temporarily make the class <b>public</b> and <i>non</i>-<b>abstract</b>,
demonstrate it, and then change it back to a <b>protected</b>
<b>abstract</b> implementation.<br>

<p>
To accomplish this the declaration of the class should be changed
from:
<pre><ul>
<b><font>abstract class</font></b><font FACE="Courier New"> <i>BasicCounter</i> { 
</font>
</ul></pre>
to:
<pre><ul>
<b><font>public class</font></b><font FACE="Courier New"> <i>BasicCounter</i> { 
</ul></font>
</pre>

All the <b>protected</b> actions will also have to be declared
<b>public</b> in order that the demonstration client can access
them. For example the first line of the <i><font FACE="Arial">count()</font></i>
action will have to be changed from: 

<pre><ul>
<b>protected void</b> <i>count</i>() { 
</ul></pre>


to:
<pre><ul>
<b>public void</b><font FACE="Courier New"> <i>count</i>() { 
<br>
</ul></font>
</pre>

<p>
The demonstration client will have to ensure that all actions
defined in the class are used at least once. An initial design
for the demonstration client might be as follows: <br>

<p>
<center>
<img SRC="c3p5i1.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter3/c3p5i1.gif" WIDTH="765" HEIGHT="184">
</center>
<p>
The detailed design of the component <i>demoPrincipalConstructor</i>
might be as follows: <br>

<p>
<center>
<img SRC="c3p5i2.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter3/c3p5i2.gif" WIDTH="559" HEIGHT="143">
</center>
<p>
And the implementation of this part of the design, and the preceding
declarations, might be as follows.<br>

<pre>
0001 // Filename <i>BasicCounterDemonstration.java.</i>
0002 // Demonstration harness for the (temporarily)
0003 // amended <i>BasicCounter </i>class.
0004 //
0005 // Written for JFL book Chapter 3.
0006 // Fintan Culwin, v0.1, January 1997.
0007 
0008 <b>import</b> <i>Counters.BasicCounter</i>;
0009 
0010 <b>class</b> <i>BasicCounterDemonstration </i>{ 
0011 
0012    <b>public static void</b> <i>main</i>( String <i>argv</i>[]) { 
0013 
0014    <i>BasicCounter  </i><i>aCounter</i>; 
0015 
0016        System.out.println( &quot;\n\n\t Basic Counter Demonstration&quot;);
0017        
0018        System.out.print( &quot;\n\nConstructing an instance with &quot;);
0019        System.out.println( &quot;the inital value 4.&quot;);
0020        <i>aCounter </i>= <b>new</b> <i>BasicCounter</i>( 4);      
0021        System.out.print( &quot;Instance created ... &quot;);
</pre>

<p>
Lines 0001 to 0006 contain the header comments; the filename does
not contain a path component indicating that this file must be
located in the parent directory of the <i>Counters</i> subdirectory.
Line 0008 imports the <i><font FACE="Arial">BasicCounters</font></i>
class from the <i><font FACE="Arial">Counters</font></i>
package, and line 0010 declares the client program class, <i><font FACE="Arial">BasicCounterDemonstration</font></i>,
which contains a single<i><font FACE="Arial"> main()</font></i>
action, declared on line 0012.<br>

<p>
Line 0014 declares a variable reference for an instance of the
<i><font FACE="Arial">BasicCounter</font></i> class called
<i><font FACE="Arial">aCounter</font></i>. This declaration
does not create an instance of the class, merely a variable which
can be initialised to <i>denote</i> an instance when it is subsequently
created with a call of the constructor. If any attempt is made
to use this variable as if it already denoted an instance, before
the instance is constructed, a run-time exception will be raised.
<br>

<p>
Line 0016 outputs a title for the program and lines 0018 to 0021
implement the design fragment given above. The <i><font FACE="Arial">BasicCounter</font></i>
instance is created on line 0020 using the <b>new</b> keyword
combined with a call of the principal constructor, and the value
of the variable <i><font FACE="Arial">aCounter</font></i>
is initialised to denote it. The argument to the call of the constructor
indicates to Java that the principal constructor should be used,
not the default constructor which does not require an argument.
The output of this part of the program should be as follows:<br>

<hr>
<pre>
	 Basic Counter Demonstration


Constructing an instance with the initial value 4.
Instance created ...
</pre>
<hr>

<p>
This seems to demonstrate that the principal constructor is working;
if there were any major problems then a run-time exception might
have been raised. The real demonstration that it has worked correctly
would be to retrieve the value of the <i><font FACE="Arial">aCounter</font></i>
object and show that it has been correctly initialised to 4. The
next part of the demonstration does this:<br>

<p>
<center>
<img SRC="c3p5i3.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter3/c3p5i3.gif" WIDTH="535" HEIGHT="226">
</center>
<pre>
0023       
0024       System.out.print( &quot;\n\nDemonstrating numberCountedIs, it should be 4 .. &quot;);
0025       System.out.println(  <i>aCounter.numberCountedIs()</i>);
0026       
</pre>

<p>
The implementation of this design fragment involves the use of
the <font FACE="Arial">System.out.println()</font> action,
outputting the value which is returned from the <i><font FACE="Arial">aCounter</font></i>
object when its <i><font FACE="Arial">numberCountedIs()</font></i>
action is used. The output from this fragment should be:<br>

<hr>
<pre>
<font>Demonstrating numberCountedIs ... it should be 4 ... 4
<br>
</font>
</pre>
<hr>

<p>
The next two demonstrations involve the <i><font FACE="Arial">count()</font></i>
and <i><font FACE="Arial">unCount()</font></i> actions;
their design, implementation and output are similar to that of
the <i><font FACE="Arial">numberCountedIs()</font></i>
action.<br>

<p>
<center>
<img SRC="c3p5i4.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter3/c3p5i4.gif" WIDTH="831" HEIGHT="301">
</center>
<pre>
0028        System.out.println( &quot;\n\nDemonstrating count()  ... &quot;);
0029        <i>aCounter.count</i>();
0030        System.out.print( &quot;Showing the changed value ... it should be 5 ... &quot;);
0031        System.out.println( <i>aCounter.numberCountedIs</i>());       
0032        
0033        System.out.println( &quot;\n\nDemonstrating unCount()  ... &quot;);
0034        <i>aCounter.unCount</i>();
0035        System.out.print( &quot;Showing the changed value ... it should be 4 ... &quot;);
0036        System.out.println( <i>aCounter.numberCountedIs</i>());       
</pre>


<hr>
<pre>
Demonstrating count()  ... 
Showing the changed value ... it should be 5 ...5


Demonstrating unCount()  ... 
Showing the changed value ... it should be 4 ...4<br>
</pre>
<hr>

<p>
The next part of the demonstration illustrates the <i><font FACE="Arial">setCountTo()</font></i>
action: <br>

<p>
<center>
<img SRC="c3p5i5.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter3/c3p5i5.gif" WIDTH="570" HEIGHT="209">
</center>
<pre>
0038        System.out.println( &quot;\n\nDemonstrating setCountTo(), setting to 10 ... &quot;);
0039        <i>aCounter.setCountTo</i>( 10);
0040        System.out.print( &quot;Showing the changed value ... it should be 10 ... &quot;);
0041        System.out.println(  <i>aCounter.numberCountedIs()</i>);
</pre>

<hr>
<pre>
Demonstrating setCountTo(), setting to 10  ... 
Showing the changed value ... it should be 10 ... 10<br>
</pre>
<hr>
<p>
The final part of the demonstration involves the use of the default
constructor, inherited from the Object class, which requires a
second instance of the <i>BasicCounter</i> to be created. <br>

<center>
<img SRC="c3p5i6.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter3/c3p5i6.gif" WIDTH="698" HEIGHT="276">
</center>

<pre>
0043        System.out.print( &quot;\n\nConstructing a new instance &quot;);
0044        System.out.println( &quot;with the default value 0.&quot;);
0045        <i>aCounter</i> = <b>new</b> <i>BasicCounter()</i>;      
0046        System.out.println( &quot;New instance created ...&quot;); 
0047        System.out.print( &quot;\n\nShowing the value of the new instance, &quot;);
0048        System.out.print( &quot;it should be 0 ... &quot;);
0049        System.out.println(  <i>aCounter.numberCountedIs()</i>);       
0050 
0051        System.out.println( &quot;\n\nDemonstration finished.\n\n&quot;);       
0052    } // End main.
0053    
0054 } // <b>end class</b> BasicCounterDemonstration    <br>
</pre>

<p>
In this code fragment the absence of an argument to the call of
the constructor, <i><font FACE="Arial">BasicConvertor</font></i>,
on line 0045 indicates to Java that the default constructor, which
does not reset the number of occurrences counted from its default
value of zero, should be used not the principal constructor which
requires an argument. <br>

<hr>
<pre>
Constructing a new instance with the default value 0.
New instance created ...
Showing the value of the new instance... it should be 0 ... 0


Demonstration finished.<br>
</pre>
<hr>

<p>
Having completed the demonstration the source code of the <i><font FACE="Arial">BasicConvertor</font></i>
should be changed back to make the actions <b>protected</b> and
the class <b>protected</b> and <b>abstract</b>. <br>

<p>
<hr>
<h2>
<ul>
<a HREF="basiccounterdemonstration.java" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter3/BasicCounterDemonstration.java"><img SRC="..\list.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/list.gif" ALIGN="MIDDLE" BORDER="0" WIDTH="40" HEIGHT="35">
<i>BasicCounterDemonstration</i> class source code</a>.
<p>
<a HREF="chap3p6.html" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter3/chap3p6.html"><img SRC="..\next.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/next.gif" ALIGN="MIDDLE" BORDER="0" WIDTH="50" HEIGHT="40">
3.6 The design of the <i>LimitedCounter</i> class</a>.
<p>
<a HREF="chap3p4.html" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter3/chap3p4.html"><img SRC="..\last.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/last.gif" ALIGN="MIDDLE" BORDER="0" WIDTH="50" HEIGHT="40">
3.4 The implementation of the <i>BasicCounter</i> class</a>.
</ul>
</h2>
<hr>

</body>

</html>
&#26;
