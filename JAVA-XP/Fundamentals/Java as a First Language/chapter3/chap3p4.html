<html>

<head><meta http-equiv="pragma" content="no-cache">

<meta NAME="GENERATOR" CONTENT="Internet Assistant for Microsoft Word 2.0z">
<title>3.4 The implementation of the BasicCounter class</title>

</head>

<body BGCOLOR="WHITE">

<h2>3.4 The implementation of the <i>BasicCounter</i> class. 
<br>
</h2>

<p>
The implementation of this design as a Java class file might be
as follows. <br>

<pre>
0001 // Filename <i>Counters/BasicCounter.java</i>.
0002 // Root class of the <i>Counters</i> hierarchy providing the 
0003 // essential counting functionality.
0004 //
0005 // Written for JFL book Chapter 3.
0006 // Fintan Culwin, v0.1, January 1997
0007 
0008 <b>package</b> <i>Counters</i>;
0009 
0010 <b>abstract class</b> <i>BasicCounter </i>{ 
0011 
0012 <b>private</b> <b>int</b> <i>counted </i>= 0;
0013 
0014    // Principal constructor.
0015    <b>protected</b> <i>BasicCounter</i>( <b>int</b> <i>initialCount</i>) { 
0016       <i>counted </i>= <i>initialCount;</i>
0017    } // End principal constructor.
0018    
0019    <b>protected void</b> <i>count</i>() { 
0020      <i>counted</i>++;
0021    } // End <i>count</i>.
0022    
0023    <b>protected void</b> <i>unCount</i>() { 
0024      <i>counted</i>--;
0025    } // end <i>unCount</i>.
0026
0027    <b>protected void</b> <i>setCountTo</i>( <b>int</b> <i>setTo</i>) {
0028      <i>counted </i>= <i>setTo</i>;
0029    } // End <i>setCountTo</i>.
0030    
0031    <b>public int</b> <i>numberCountedIs</i>(){ 
0032      <b>return</b> <i>counted</i>;
0033    } // End <i>numberCountedIs</i>.
0034 
0035 } // <b>end</b> <b>class</b><i> BasicCounter</i><br>
</font>
</pre>

<p>
Lines 0001 to 0007 contain the expected header comments and line
0008 identifies this class as belonging to the <b>package</b>
of classes collectively known as <i><font FACE="Arial">Counters</font></i>.
This is the reason for the filename being stated as <i><font FACE="Arial">Counters\BasicCounter.java</font></i>;
all the files containing the class definitions of the <font FACE="Arial">Counters</font>
package have to be collected together in a subdirectory of a <i>default
directory</i> called <i><font FACE="Arial">Counters</font></i>.
The default directory is usually the <i>current working directory</i>,
although it might sometimes be a different directory depending
upon the configuration of the development environment. <br>

<p>
Lines 0013 to 0035 encompass the declaration of the <i><font FACE="Arial">BasicCounter</font></i>
class. It is declared as an <b>abstract</b> <b>class</b> as the
class hierarchy diagram shows it in a dotted lined box indicating
that it will only be used as the parent of an extended class and
will never be used directly by a client. It is not declared <b>public</b>
to ensure that it is fully hidden within the package and is thus
totally invisible to clients of the package, but visible to its
child classes.<br>

<p>
The first declaration of the class is of the data attribute <i><font FACE="Arial">counted</font></i>.
The value of this attribute will always indicate the number of
occurrences which have been counted and, as only a whole number
of occurrences can be counted, it is declared as an <b>int</b>eger.
The statement that its initial value is zero is not technically
required, as this is its default value, but it is regarded as
good style to explicitly state it. The attribute is declared as
having <b><font FACE="Arial">private</font></b> visibility
so that it can only be seen and used within the limits of the
class definition. Thus clients can only obtain or change its value
by use of the supplied actions. <br>

<p>
The constructor is defined on lines 0015 to 0017 and is declared
with <b><font FACE="Arial">protected</font></b> visibility
to allow it only to be used by the child classes of <i><font FACE="Arial">BasicCounter</font></i>.
It is implemented as a single assignment statement which takes
the value passed in its argument, <i><font FACE="Arial">initialCount</font></i>,
and assigns it to the hidden data attribute <i><font FACE="Arial">counted</font></i>.
<br>

<p>
The <i><font FACE="Arial">count()</font></i> and <i><font FACE="Arial">unCount()</font></i>
actions are implemented in similar ways. Both are declared <b>protected</b>,
allowing only <i>BasicCounter</i>'s child classes to see and use
them; and both are declared as actions of type <b>void</b>, which
indicates that they will not return any information to the client
which calls them. Line 0020 is interpreted to mean <i>increment</i>
(&nbsp;++&nbsp;) the value of the variable <i><font FACE="Arial">counted</font></i>
by 1, thus counting an occurrence. Similarly line 0024 means <i>decrement</i>
(&nbsp;--&nbsp;) the value of <i><font FACE="Arial">counted</font></i>
by 1, thus uncounting an occurrence. <br>

<p>
The last <b>protected</b> action, <i><font FACE="Arial">setCountTo()</font></i>,
is likewise <b>protected</b> and <b>void</b>. It is implemented
in a similar manner to the principal constructor, assigning the
value of its argument, <i><font FACE="Arial">setTo</font></i>,
to the private variable <i><font FACE="Arial">counted</font></i>.
The effect is to set the number of occurrences counted to whatever
the value of the argument supplied is. <br>

<p>
Finally the only <b>public</b> action, <i><font FACE="Arial">numberCountedIs()</font></i>,
will return information to the client which makes use of it. As
it is returning the number of occurrences counted which is an
integer value it is declared as an action which returns an <b>int</b>
value. It does this by <b>return</b>ing the value of the private
<i><font FACE="Arial">counted</font></i> variable. This
action will be inherited as a <b>public</b> action by all the
descendant classes of this class, and so all non-abstract <i><font FACE="Arial">Counter</font></i>s
will offer this action to their clients. <br>

<p>
A summary of all these actions is illustrated in Figure 3.3. The
illustration shows the <i><font FACE="Arial">counted</font></i>
data attribute totally enclosed within the boundaries of the <i>BasicCounter</i>
class and its value being accessed and changed by the five actions
which are provided by the class definition. <br>

<p>
<center><img SRC="img00001.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter3/IMG00001.GIF" WIDTH="518" HEIGHT="455"></center>
<p>
<center>Figure 3.3 An illustration of the <i>BasicCounter</i>
class<br>
<br>
</center>

<p>
<hr>
<h2>
<ul>
<a HREF="basiccounter.java" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter3/BasicCounter.java"><img SRC="..\list.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/list.gif" ALIGN="MIDDLE" BORDER="0" WIDTH="40" HEIGHT="35">
<i>BasicCounter</i> class source code</a>.
<p>
<a HREF="chap3p5.html" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter3/chap3p5.html"><img SRC="..\next.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/next.gif" ALIGN="MIDDLE" BORDER="0" WIDTH="50" HEIGHT="40">
3.5 Demonstrating the <i>BasicCounter</i> class</a>.
<p>
<a HREF="chap3p3.html" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter3/chap3p3.html"><img SRC="..\last.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/last.gif" ALIGN="MIDDLE" BORDER="0" WIDTH="50" HEIGHT="40">
3.3 The design of the <i>BasicCounter</i> class</a>.
</ul>
</h2>
<hr>

</body>

</html>
&#26;