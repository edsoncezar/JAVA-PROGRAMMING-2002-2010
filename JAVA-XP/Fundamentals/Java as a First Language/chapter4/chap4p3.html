<html>

<head><meta http-equiv="pragma" content="no-cache">

<meta NAME="GENERATOR" CONTENT="Internet Assistant for Microsoft Word 2.0z">
<title>4.3 The design, implementation and demonstration of the StoppingCounter
class</title>

</head>

<body BGCOLOR="WHITE">

<h2>4.3 The design, implementation and demonstration of the <i>StoppingCounter</i>
class. <br>
</h2>

<p>
The object diagram of the <i>StoppingCounter</i> class is essentially
identical to that of the <i>RollOverCounter</i> class, and is
given in Figure 4.2 for the sake of completeness.<br>

<p>
<center>
<img SRC="c4p3i1.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter4/c4p3i1.gif" WIDTH="436" HEIGHT="338">
</center>
<p>
<center><font>Figure 4.2 The <i>StoppingCounter</i> class
diagram.<br>
</font></center>
<p>
The difference between a <i>RollOverCounter</i> and a <i>StoppingCounter</i>
is that if a request is made to <i>count</i> an occurrence when
the counter is at the maximum limit of its range, it will do nothing.
Likewise if a request is made to <i>uncount</i> an occurrence
when the counter is at its minimum, it will do nothing. <br>

<p>
The implementation of the two constructors does not differ significantly
from the <i>RollOverCounter</i> constructors and will not be presented.
A possible design for the <i>StoppingCounter</i> <i>count</i>
action, following the <i>RollOverCounter</i> <i>count</i> design,
might be as follows.   <br>

<p>
<center>
<img SRC="c4p3i2.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter4/c4p3i2.gif" WIDTH="695" HEIGHT="260">
</center>
<p>
This design indicates that if the counter is at the maximum limit
of its range then the count action will do nothing, otherwise
it will count the occurrence using the <i>BasicCounters</i> <i>count</i>
action. This design could be implemented; however there is a more
straight forward design, and consequent implementation, possible.
<br>

<p>
<center>
<img SRC="c4p3i3.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter4/c4p3i3.gif" WIDTH="524" HEIGHT="189">
</center>
<p>
By reversing the logic of the decision a one way, as opposed to
a two way, selection can be designed and implemented as follows.
<br>

<pre>
<font>0021       <b>public void</b> <i>count</i>() { 
0022           <b>if</b> ( ! <b>this</b>.<i>isAtMaximum</i>()) { 
0023             <b>super</b>.<i>count</i>();
0024           }   
0025       } // End <i>count</i>.<br>
</font>
</pre>

<p>
The <i><b>!</b></i> operator on line 0021 is read as <i><b>not</b></i>
and it negates the meaning of the following term. So the condition
can be read as '<i>if the counter is <b>not</b> at the maximum
of its range</i>'. More formally if the <i><font FACE="Arial">isAtMaximum()</font></i>
action returns <b><font FACE="Arial">true</font></b> the
not operator will negate it to <b><font FACE="Arial">false</font></b>,
and if it returns <b><font FACE="Arial">false</font></b>
it will be negated to <b><font FACE="Arial">true</font></b>.
The effect of this fragment is that the <i><font FACE="Arial">BasicCounter
count()</font></i> action will only be called if the counter is
not at the maximum of its range. If it is at the maximum of its
range then nothing will happen as the <b><font FACE="Arial">else</font></b>
clause has been omitted from this <b><font FACE="Arial">if</font></b>
structure. <br>

<p>
The design and implementation of the <i><font FACE="Arial">StoppingCounter
unCount()</font></i> action is essentially identical.<br>

<p>
<center>
<img SRC="c4p3i4.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter4/c4p3i4.gif" WIDTH="506" HEIGHT="188">
</center>
<pre>
<font>0028    <b>public void</b> <i>unCount</i>(){ 
0029          <b>if</b> ( ! <b>this</b>.<i>isAtMinimum</i>()) { 
0030            <b>super</b>.<i>unCount</i>();
0031          }   
0032    } // End <i>unCount</i>.<br>
</font>
</pre>

<p>
The demonstration client program for this class would follow the
design and implementation of the <i>RollOverDemonstration</i>
client as far as the <i>count beyond limit</i> step. The <i>count
below limit</i> step will be left as an and of chapter exercise.
The design of the <i>count betond limit</i> step would not differ,
but the prediction made by the program would be that after the
<i>count</i> action had been called, the value of the counter
would still be 12. The implementation of this step and the expected
output of the entire program would be as follows. <br>

<pre>
<font>0035     System.out.println( &quot;\nCounting another occurrence with count()&quot;);
0036     <i>demoCounter.count</i>();
0037     System.out.print( &quot;Its value should still be 12 ... &quot;);
0038     System.out.print( <i>demoCounter.numberCountedIs</i>());
0039     System.out.println( &quot;.&quot; );      <br>
</font>
</pre>
<p>

<hr>
<pre>

		Stopping Counter demonstration 

The counter has been created with a 
range of 10 to 12 and an initial value of 10.

Demonstrating numberCountedIs()
The value should be 10 ... 10.

Counting two ocurrences with count()
Its value should now be 12 ... 12.

Counting another ocurrence with count()
Its value should still be 12 ... 12.<br>
</pre>



<p>
<hr>
<h2>
<ul>
<a HREF="stoppingcounter.java" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter4/StoppingCounter.java"><img SRC="..\list.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/list.gif" ALIGN="MIDDLE" BORDER="0" WIDTH="40" HEIGHT="35">
<i>StoppingCounter</i> class source code</a>.
<p>
<a HREF="stoppingdemonstration.java" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter4/StoppingDemonstration.java"><img SRC="..\list.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/list.gif" ALIGN="MIDDLE" BORDER="0" WIDTH="40" HEIGHT="35">
<i>StoppingDemonstration</i> class source code</a>.
<p>
<a HREF="chap4p4.html" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter4/chap4p4.html"><img SRC="..\next.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/next.gif" ALIGN="MIDDLE" BORDER="0" WIDTH="50" HEIGHT="40">
4.4 The design and implementation of the <i>WarningCounter</i> class</a>.
<p>
<a HREF="chap4p2.html" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter4/chap4p2.html"><img SRC="..\last.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/last.gif" ALIGN="MIDDLE" BORDER="0" WIDTH="50" HEIGHT="40">
4.2 The <i>RollOverCounterDemonstration</i> client program</a>.
</ul>
</h2>
</body>

</html>
&#26;