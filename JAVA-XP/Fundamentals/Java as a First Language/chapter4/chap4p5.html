<html>

<head><meta http-equiv="pragma" content="no-cache">

<meta NAME="GENERATOR" CONTENT="Internet Assistant for Microsoft Word 2.0z">
<title>4.5 The design and implementation of the WarningDemonstration client program</title>

</head>

<body BGCOLOR="WHITE">

<h2>4.5 The design and implementation of the <i>WarningDemonstration</i> client program <br>
</h2>

<p>
The first parts of the <i>WarningDemonstration</i> client, as
far as the <i>count beyond limit</i> step, are essentially identical
to the first parts of the two previous demonstration clients.
The first design of the <i>WarningDemonstration count beyond limit</i>
step is as follows. <br>

<p>
<center>
<img SRC="c4p5i1.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter4/c4p5i1.gif" WIDTH="636" HEIGHT="164">
</center>
<p>
As the counter is at the maximum limit of its range when this
component starts it is expected that the exception will be thrown
when the <i>count</i> action is attempted. This will interrupt
the flow of control in the program, causing it to immediately
finish and so the <i>impossible&nbsp;prompt</i> should never be
issued. The implementation of this design is as follows. <br>

<pre>
<font>0035     System.out.println( &quot;\nCounting another occurrence with count()&quot;);
0036     System.out.println( &quot; This should throw an exception ... &quot;);
0037     <i>demoCounter.count</i>();
0038     System.out.print( &quot;This message should never appear ... &quot;);
<br>
</font>
</pre>

<p>
When this program was executed the following output was produced.
<p>

<hr>
<pre>
<font>                 Warning Counter demonstration

The counter has been created with a range of
10 to 12 and an initial value of 10.

Demonstrating numberCountedIs()
The value should be 10 ... 10.

Counting two ocurrences with count()
Its value should now be 12 ... 12.

Counting another ocurrence with count()
This should throw an exception ...
Counters.CounterException: Attempt to count beyond limit.
        at Counters.WarningCounter.count(WarningCounter.java:27)
        at WarningDemonstration.main(WarningDemonstration.java:31)
<br>
</font>
</pre>
<hr>

<p>
The exception was thrown as expected when the <i><font FACE="Arial">count()</font></i>
action was attempted with the counter having its maximum value
of 12. This caused the <i><font FACE="Arial">count()</font></i>
action and subsequently the program to be immediately abandoned,
with a message indicating that a <i><font FACE="Arial">CounterException</font></i>
was raised and outputting the reason &quot;<i>Attempt to count
beyond limit</i>.&quot;, as specified when the exception was constructed
in the <i><font FACE="Arial">WarningCounter</font></i>
class. The message also indicates exactly where in the <i><font FACE="Arial">WarningCounter</font></i>
class declaration the exception was raised; and exactly where
in the <i><font FACE="Arial">WarningCounter</font></i>
declaration the action which caused the exception to be thrown
was called. Seen from the other direction this shows the action
calls through which the exception was <i><b>propogated</b></i>.
<br>

<p>
The information provided when the exception is thrown is intended
to assist the developer in locating, and subsequently correcting,
the error which caused it to be thrown. In other circumstances
it may be more appropriate for an exception which is <i><b>thrown</b></i>
to be <i><b>caught</b></i> by another part of the program, allowing
the program to attempt to recover from the error. The techniques
for catching an exception will be introduced in Chapter ?<br>


<p>
<hr>
<h2>
<ul>
<a HREF="warningdemonstration.java" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter4/WarningDemonstration.java"><img SRC="..\list.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/list.gif" ALIGN="MIDDLE" BORDER="0" WIDTH="40" HEIGHT="35">
<i>WarningDemonstration</i> class source code</a>.
<p>
<a HREF="chap4p6.html" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter4/chap4p6.html"><img SRC="..\next.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/next.gif" ALIGN="MIDDLE" BORDER="0" WIDTH="50" HEIGHT="40">
4.6 The Counters hierarchy in retrospect</a>.
<p>
<a HREF="chap4p4.html" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter4/chap4p4.html"><img SRC="..\last.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/last.gif" ALIGN="MIDDLE" BORDER="0" WIDTH="50" HEIGHT="40">
4.4 The design and implementation of the <i>WarningCounter</i> class</a>.
</ul>
</h2>
</body>

</html>
&#26;