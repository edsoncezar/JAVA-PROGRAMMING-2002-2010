<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>

<head>
<meta http-equiv="Content-Type"
content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPad 2.0">
<title>3.4 The StikNote class </title>
</head>

<body bgcolor="#FFFFFF">

<h1 align="center"><font size="6">3.4 The </font><font size="6"
face="Arial"><i>StikNote</i></font><font size="6"> class</font></h1>

<p>Before considering the <font size="2" face="Arial"><i>StikNote</i></font>
class, the <font size="2" face="Arial"><i>NoteWindow</i></font>
class which implements the <i>client&nbsp;program</i> will be
presented. Its major purpose is to configure, construct and show
the <font size="2" face="Arial"><i>mainWindow</i></font> and then
to respond to presses of its &quot;<i>Stik Note</i>&quot; button
by creating and showing new instances of the <font size="2"
face="Arial"><i>NoteWindow</i></font> class containing the
messages from the <font size="2" face="Arial"><i>mainWindow</i></font>.
Its implementation, as far as the end of its constructor, is as
follows. </p>

<pre><font size="3">0001  // Filename <i>StikNote.java</i>.
0002  // Contains the <i>StikNote </i>applet, responsible for creating 
0003  // and showing the main window and then creating and 
0004  // showing <i>NoteWindow</i> windows when its button is pressed.
0005  // 
0006  // Written for the JI book, Chapter 3.
0007  // Fintan Culwin, v 0.2, August 1997.
0008  
0009  
0010  <b>package</b> <i>StikNote</i>;
0011  
0012  <b>import</b> java.awt.*;
0013  <b>import</b> java.awt.event.*;
0014  <b>import</b> java.applet.*;
0015  
0016  <b>import</b> <i>StikNote.NoteWindow</i>;
0017  <b>import</b> <i>StikNote.StikNoteWindow</i>;
0018  
0019  
0020  <b>public class</b> <i>StikNote </i><b>extends</b>    Applet
0021                        <b>implements</b> ActionListener {
0022  
0023  <b>private</b> <i>StikNoteWindow</i> <i>mainWindow</i>; 
0024                      
0025     <b>public void</b> <i>init</i>() { 
0026        <b>this</b>.setFont( <b>new</b> Font( &quot;Serif&quot;, Font.PLAIN, 20));
0027        <b>this</b>.setBackground( Color.yellow); 
0028        <b>this</b>.setForeground( Color.blue);            
0029        <i>mainWindow</i> = <b>new</b> <i>StikNoteWindow</i>( <b>this</b>);   
0030     } // End <i>init</i>.                
</font></pre>

<p>On line 0010 this class also declares itself to be contained
within the <font size="2" face="Arial"><i>StikNote</i></font> <font
size="2" face="Arial"><b>package</b></font> and, on lines 0016
and 0017, <font size="2" face="Arial"><b>import</b></font>s the
two other classes contained in the package. Its class
declaration, commencing on line 0020, states that it implements
the <font size="2" face="Arial">ActionListener</font> interface
in order for it to be able to respond to <font size="2"
face="Arial">ActionEvent</font>s generated from the <font
size="2" face="Arial"><i>mainWindow</i></font>, which is declared
as an instance attribute of the class on line 0023.</p>

<p>The <font size="2" face="Arial"><i>init()</i></font> method
commences, on lines 0026 to 0028, by configuring the <font
size="2" face="Arial">Applet</font>'s physical appearance. On
line 0026 the <font size="2" face="Arial">Font</font> to be used
by the <font size="2" face="Arial">Applet</font> is set to 20
point, plain, Serif. On line 0027 its <font size="2" face="Arial">background
Color</font> is set to yellow and on line 0028 its <font size="2"
face="Arial">foreground</font> to blue. The configuration of
these aspects of an interface's physical appearance is
accomplished by using the <font size="2" face="Arial">setForeground()</font><font
size="2">,</font><font size="2" face="Arial"> setBackground()</font>
and <font size="2" face="Arial">setFont()</font> methods, which
are inherited from the <font size="2" face="Arial">Component</font>
class and so are available to all components. </p>

<p>The argument to the <font size="2" face="Arial">setForeground()</font><font
size="2"> </font>and <font size="2" face="Arial">setBackground()</font>
methods is an instance of the <font size="2" face="Arial">Color</font>
class and the most convenient way of obtaining an suitable value
is to use one of the manifest class wide constants supplied by
the class. These constant <font size="2" face="Arial">Color</font>
values are listed in Table 3.1. </p>

<p align="center"><font size="2"><b><img src="table31.gif"
width="589" height="91"></b></font></p>

<p align="center"><font size="2"><b>Table 3.1</b> Class wide
manifest constants supplied by the </font><font size="2"
face="Arial">Color</font><font size="2"> class</font></p>

<p>The argument to the <font size="2" face="Arial">setFont()</font>
method is an instance of the <font size="2" face="Arial">Font</font>
class which can be constructed by specifying the font to be used,
its style and its size. Thus in the example above a 20 point
plain <i>Serif</i> font has been specified as the font to be used
in the <font size="2" face="Arial"><i>StickNote</i></font> main
window. Serif is a virtual font name which is mapped onto a
physical font in the Java run-time environment's configuration,
thus a user can change the mapping in order to accommodate their
own preferences and requirements. Other virtual fonts which can
be specified include <i>Sans-serif</i>, <i>Monospaced</i>, <i>Dialog</i>,
and <i>DialogInput</i>. Alternatively physical fonts, including <i>Times</i>,
<i>Helvetica</i>, <i>Courier</i>, <i>Symbol</i> and <i>ZapfDingabats</i>,
can be specified. However as using physical font specifications
will prevent the user from reconfiguring the font to be used to
their own requirements, only virtual fonts specifications should
be used.</p>

<hr>

<blockquote>
    <p><b><i>Design Advice</i></b></p>
    <p>Specify fonts in source code using virtual not physical
    names in order to allow the user to reconfigure them to their
    own requirements. </p>
</blockquote>

<hr>

<p>The font style can be specified using one of the class wide <font
size="2" face="Arial">Font</font> manifest constants <font
size="2" face="Arial">PLAIN</font>, <font size="2" face="Arial">BOLD</font>
or <font size="2" face="Arial">ITALIC</font>. A bold italic font
can be specified by a bitwise anding of the two constants (<tt>Font.BOLD&nbsp;|&nbsp;Font.ITALIC</tt>).
</p>

<p>These <font size="2" face="Arial">font</font>, <font size="2"
face="Arial">foreground</font> and <font size="2" face="Arial">background</font>
physical appearance resources are inherited via the instance
hierarchy. Consequently all components which are added to this <font
size="2" face="Arial">Applet</font> window will use a 20 point
plain serif font with yellow backgrounds and blue foregrounds.
Not all components take advantage of this inheritance for
example, as can be seen on Figure 3.1, <font size="2"
face="Arial">Button</font> instances do not use the inherited <font
size="2" face="Arial">background</font> color although they do
use the inherited <font size="2" face="Arial">foreground</font>
and <font size="2" face="Arial">font</font>resources. The
inheritance does not extend to any <font size="2" face="Arial">Frame</font>s
which are added to the <font size="2" face="Arial">Applet</font>
window, techniques for accommodating to this consideration will
be explained below. </p>

<p>Having established the physical appearance of the application,
on line 0029, the <font size="2" face="Arial"><i>mainWindow</i></font>
is created by calling its <font size="2" face="Arial"><i>StikNoteWindow</i></font>
constructor passing as its argument the identity of the <font
size="2" face="Arial">Applet</font> which is currently being
constructed. This, as explained above, will create and install
the main window interface into the <font size="2" face="Arial">Applet
</font>window and will cause it to be registered as the <font
size="2" face="Arial"><i>stikNoteButton</i></font>'s listener.
When the <font size="2" face="Arial"><i>init()</i></font> method
concludes the main window interface will be automatically
presented to the user on the desktop display.</p>

<p>In order to satisfy the requirement of the <font size="2"
face="Arial">ActionListener</font> interface the <font size="2"
face="Arial"><i>StikNote</i></font> class must supply an <font
size="2" face="Arial"><i>actionPerformed()</i></font> method, as
follows. </p>

<pre><font size="3">0033     <b>public void</b> <i>actionPerformed</i>( ActionEvent <i>event</i>) {  
0034     
0035     <i>NoteWindow</i> <i>theNote</i>;
0036     String     <i>itsContents</i> = <i>mainWindow</i>.<i>getMessage</i>();
0037  
0038        <b>if</b> ( <i>itsContents</i>.length() &gt; 0) { 
0039           <i>theNote</i> = <b>new</b> <i>NoteWindow</i>( <i>itsContents</i>, <b>this</b>);
0040           <i>mainWindow</i>.<i>clearMessage</i>();                                    
0041        } // End if.   
0042     } // End <i>actionPerformed</i>.</font></pre>

<p>The method commences, on line 0036, by retrieving the <font
size="2" face="Arial">String</font> from the <font size="2"
face="Arial"><i>mainWindow</i></font>'s message area using its <font
size="2" face="Arial"><b>protected</b></font> <font size="2"
face="Arial"><i>getMessage()</i></font> method. If the message is
empty as indicated by the condition, on line 0038 using the <font
size="2" face="Arial">String length()</font> method, then the <font
size="2" face="Arial"><i>actionPerformed()</i></font> method
concludes with no further steps. Otherwise, on line 0039, a new
instance of the <font size="2" face="Arial"><i>NoteWindow</i></font>
class is created passing as arguments the message which it is to
display and the identity of the <font size="2" face="Arial">Applet</font>.
Before the method concludes the message area in the <font
size="2" face="Arial"><i>mainWindow</i></font> is cleared, on
line 0040, by calling the <font size="2" face="Arial"><i>mainWindow</i></font>'s
<font size="2" face="Arial"><i>clearMessage()</i></font> method. </p>

<p>The effect of this method, when the <font size="2"
face="Arial"><i>stikNote</i></font> button on the main window is
pressed, is to retrieve the contents of the <font size="2"
face="Arial">TextArea</font>, if any, pass them to a new instance
of the <font size="2" face="Arial"><i>NoteWindow</i></font> class
and then to clear the message from the main window. The user will
see the message transferred from the main window to a new window
which pops up onto the desktop.</p>

<p>&nbsp;</p>

<hr>

<blockquote>
    <p><a href="code3\stiknote\stiknote.java"><font size="5"><img
    src="list.gif" align="middle" border="0" width="40"
    height="35">StikNote.java</font></a></p>
</blockquote>

<hr>

<blockquote>
    <p><a href="c35.html"><font size="3"><img src="next.gif"
    align="middle" border="0" width="50" height="40"></font><font
    size="5">3.5 Th</font><font size="4">e </font><font size="5"
    face="Arial"><i>NoteWindow</i></font><font size="6"> </font><font
    size="5">class</font></a></p>
    <p><a href="c33.html"><font size="3"><img src="last.gif"
    align="middle" border="0" width="50" height="40"></font><font
    size="5">3.3 The </font><font size="5" face="Arial"><i>StikNoteWindow</i></font><font
    size="5"> class</font></a></p>
</blockquote>

<hr>
</body>
</html>
