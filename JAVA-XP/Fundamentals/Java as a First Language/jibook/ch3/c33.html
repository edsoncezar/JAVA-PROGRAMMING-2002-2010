<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>

<head>
<meta http-equiv="Content-Type"
content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPad 2.0">
<title> 3.3 The StikNoteWindow class </title>
</head>

<body bgcolor="#FFFFFF">

<h1 align="center"><font size="6">3.3 The </font><font size="6"
face="Arial"><i>StikNoteWindow</i></font><font size="6"> class</font></h1>

<p>The <font size="2" face="Arial"><i>StikNoteWindow</i></font>
class provides the main window, shown in Figure 3.1 as the window
containing the &quot;<i>Stik Note</i>&quot; button. The instance
hierarchy for the <font size="2" face="Arial"><i>StikNoteWindow</i></font>
is shown in Figure 3.4. </p>

<p align="center"><font size="2"><b><img src="fig34.gif"
width="500" height="240"></b></font></p>

<p align="center"><font size="2"><b>Figure 3.4</b> The </font><font
size="2" face="Arial"><i>StikNoteWindow</i></font><font size="2">
instance hierarchy.</font></p>

<p>Figure 3.2 shows that the main window interface is constructed
within the <font size="2" face="Arial">Applet</font>'s window and
consists of a <font size="2" face="Arial">TextArea</font>
instance, called <font size="2" face="Arial"><i>theMessage</i></font>,
with a <font size="2" face="Arial">Button</font> instance, called
<font size="2" face="Arial"><i>stikNoteButton</i></font>, mounted
on its own <font size="2" face="Arial">Panel</font>, called <font
size="2" face="Arial"><i>buttonPanel</i></font> beneath it. The <font
size="2" face="Arial"><i>buttonPanel</i></font> is required in
order that the <font size="2" face="Arial"><i>stikNoteButton</i></font>
can present itself centered within the width of the <font
size="2" face="Arial">Applet</font>'s window. If the panel were
not used then the <font size="2" face="Arial">Button</font> would
be stretched to fill the entire width of the window. This
hierarchy is created in the <font size="2" face="Arial"><i>StikNoteWindow</i></font>
constructor whose implementation is as follows. </p>

<pre><font size="3">0001  // Filename <i>StikNoteWindow.java</i>.
0002  // Provides <i>StikNote </i>application main window whose events 
0003  // are listened to by the <i>StikNote </i>translation application.
0004  //     
0005  // Written for the JI book, Chapter 3.
0006  // Fintan Culwin, v 0.2, August 1997.
0007  
0008  <b>package</b> <i>StikNote</i>;
0009  
0010  <b>import</b> java.awt.*;
0011  <b>import</b> java.awt.event.*;
0012  <b>import</b> java.applet.*;
0013  
0014  
0015  <b>class</b> <i>StikNoteWindow</i> <b>extends</b> Object {
0016  
0017  <b>private</b> TextArea <i>theMessage</i>;
0018  
0019  
0020     <b>protected</b> <i>StikNoteWindow</i>( <i>StikNote itsApplet</i>) {
0021  
0022     Panel  <i>buttonPanel</i>    = <b>new</b> Panel();
0023     Button <i>stikNoteButton</i> = <b>new</b> Button( &quot;Post It&quot;);
0024       
0025       <i>theMessage</i> = <b>new</b> TextArea( 10, 20);
0026              
0027       <i>stikNoteButton</i> .addActionListener( <i>itsApplet</i>);
0028       <i>buttonPanel</i>.add( <i>stikNoteButton</i> );
0029  
0030       <i>itsApplet</i>.setLayout( <b>new</b> BorderLayout());
0031       <i>itsApplet</i>.add( <i>theMessage</i>,  &quot;Center&quot;);
0032       <i>itsApplet</i>.add( <i>buttonPanel</i>, &quot;South&quot;);
0033     } // End <i>StikNoteWindow</i> constructor.
</font></pre>

<p>The constructor, commencing on line 0020, is declared with the
visibility modifier <font size="2" face="Arial"><b>protected</b></font>
which ensures that it can only be called from classes which are
contained within the same package. Line 0008 has already declared
this class to be part of the <font size="2" face="Arial"><i>StikNote</i></font>
<font size="2" face="Arial"><b>package</b></font> and line 0015
does not declare it as a <font size="2" face="Arial"><b>public</b></font>
class, restricting its visibility to other classes within the
same package.</p>

<p>The constructor takes a <font size="2" face="Arial"><i>StikNote</i></font>
argument which, as shown on the instance diagram, extends the <font
size="2" face="Arial">Applet</font> class and implements the <font
size="2" face="Arial">ActionListener</font> interface. The
constructor will install the <font size="2" face="Arial"><i>StickNote</i></font>
main window interface into the <font size="2" face="Arial">Applet</font>
window of this argument and will dispatch events from the <i>Stick
Note</i> button to it. On lines 0022 and 0023 the <font size="2"
face="Arial"><i>buttonPanel</i></font> and <font size="2"
face="Arial"><i>stickNotetButton</i></font> from Figure 3.4, are
created, following which the <font size="2" face="Arial"><i>theMessage</i>
TextArea</font>, declared as an instance attribute on line 0017,
is constructed with 10 row by 20 column input area. Before the
interface is assembled, on line 0027, the <font size="2"
face="Arial">ActionListener</font> attribute of the <font
size="2" face="Arial"><i>stickNotetButton</i></font> is
registered as the <font size="2" face="Arial"><i>itsApplet</i></font>
argument, ensuring that events generated when it is pressed are
dispatched to it.</p>

<p>The constructor concludes, on lines 0028 to 0032, by
assembling the components to produce the interface as illustrated
in Figure 3.1, using the instance hierarchy shown in Figure 3.4.
The <font size="2" face="Arial"><i>stickNotetButton</i></font> is
added to the <font size="2" face="Arial"><i>buttonPanel</i></font>
which in turn is added to the &quot;<i>South</i>&quot; location
of the <font size="2" face="Arial">Applet</font>'s window which
has already had a <font size="2" face="Arial">BorderLayout</font>
policy established. (The <font size="2" face="Arial">BorderLayout</font>
policy was described in section 10 of Chapter 2.) The <font
size="2" face="Arial"><i>theMessage</i> TextArea</font> is added
above the <font size="2" face="Arial"><i>buttonPanel</i></font>
into the <font size="2" face="Arial">Applet</font> window's
&quot;<i>Center</i>&quot; location. When the interface is
assembled within an <font size="2" face="Arial">Applet Panel</font>
it will automatically become visible to the user as the
application commences. </p>

<p>This interface will allow the user to enter, and edit, text
within its <font size="2" face="Arial">TextArea</font> component
and, when its &quot;<i>Stik Note</i>&quot; button is pressed,
will send an <font size="2" face="Arial">ActionEvent</font> to
its registered listener. It supplies two other <font size="2"
face="Arial"><b>protected</b></font> methods, as follows, which
its listener can make use of; one to obtain the contents of its <font
size="2" face="Arial">TextArea</font> and one to clear its
contents.</p>

<pre><font size="3">0036     <b>protected</b> String <i>getMessage</i>() { 
0037        <b>return</b> <i>theMessage</i>.getText().trim();         
0038     } // End <i>getMessage</i>.  
0039  
0040     <b>protected</b> <b>void</b> <i>clearMessage</i>() {
0041        <i>theMessage</i>.setText( &quot;&quot;);   
0042     } // End <i>clearMessage</i>.          
0043  } // End class <i>StikNoteWindow</i>.</font></pre>

<p>Both of these methods manipulate the text attribute of the <font
size="2" face="Arial"><i>theMessage</i> TextArea</font>. The <font
size="2" face="Arial"><i>getMessage()</i></font> method retrieves
the text as a <font size="2" face="Arial">String</font>, and then
uses the <font size="2" face="Arial">String trim()</font> method
to remove any white&nbsp;space at the start and end of the text.
So; if the user has only pressed the space bar, and not typed in
any characters, this will cause the <font size="2" face="Arial"><i>getMessage()</i></font>
method to return an empty <font size="2" face="Arial">String</font>.
The <font size="2" face="Arial"><i>clearMessage()</i></font>
method removes any existing text from <font size="2" face="Arial"><i>theMessage</i>
</font>by using its <font size="2" face="Arial"><i>setText()</i></font>
action, passing as an argument an empty <font size="2"
face="Arial">String</font>. </p>

<p>&nbsp;</p>

<hr>

<blockquote>
    <p><a href="code3\stiknote\stiknotewindow.java"><font
    size="5"><img src="list.gif" align="middle" border="0"
    width="40" height="35">StikNoteWindow.java</font></a></p>
</blockquote>

<hr>

<blockquote>
    <p><a href="c34.html"><img src="next.gif" align="middle"
    border="0" width="50" height="40"><font size="5">3.4 The </font><font
    size="5" face="Arial"><i>StikNote</i></font><font size="5">
    class</font></a></p>
    <p><a href="c32.html"><font size="3"><img src="last.gif"
    align="middle" border="0" width="50" height="40"></font><font
    size="5">3.2 </font><font size="5" face="Arial"><i>StikNote</i></font><font
    size="5"> design overview</font></a></p>
</blockquote>

<hr>
</body>
</html>
