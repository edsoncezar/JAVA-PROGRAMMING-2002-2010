<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>

<head>
<meta http-equiv="Content-Type"
content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPad 2.0">
<title> 2.9 The Scrollbar class</title>
</head>

<body bgcolor="#FFFFFF">

<h2 align="center"><font size="6">2.9 The </font><font size="6"
face="Arial">Scrollbar</font><font size="6"> class</font></h2>

<p align="left">The <font size="2" face="Arial">Scrollbar</font><b>
</b>class provides an area containing a <i>slider</i> which can
be dragged from one end of the bar to the other to indicate a
quantitative value, and <i>arrow&nbsp;icons</i> at each end which
can be used for fine adjustment of the slider. The major
resources of this class are presented in Table 2.16.</p>

<p align="center"><b><img src="table216.gif" width="603"
height="728"></b></p>

<p align="center"><b>Table 2.16</b> Major resources of the <font
face="Arial">Scrollbar</font> class. </p>

<p>A <font size="2" face="Arial">Scrollbar</font>'s <font
size="2" face="Arial">orientation</font> attribute determines if
it is presented to the user in a <font size="2" face="Arial">HORIZONTAL</font>
or <font size="2" face="Arial">VERTICAL</font> direction. The <font
size="2" face="Arial">minimum</font> and <font size="2"
face="Arial">maximum</font> attributes determine the <font
size="2" face="Arial">value</font> of the left (or top) and right
(or bottom) of the <font size="2" face="Arial">Scrollbar</font>
and the <font size="2" face="Arial">value</font> is determined by
the location of the <i>slider</i>, whose size is controlled by
the <font size="2" face="Arial">visible</font> attribute.
Clicking either of the arrow icons at the ends of the bar will
adjust the <font size="2" face="Arial">value</font> by the <font
size="2" face="Arial">unit</font> attribute and clicking on the
scroll bar outside the extent of the <i>slider</i> will adjust
the <font size="2" face="Arial">value</font> by the <font
size="2" face="Arial">block</font> attribute.</p>

<p>If no explicit values are established for these attributes
then the default <font size="2" face="Arial">orientation</font>
is <font size="2" face="Arial">VERTICAL</font>, <font size="2"
face="Arial">minimum</font> is 0, <font size="2" face="Arial">maximum</font>
is 100, <font size="2" face="Arial">value</font> is 0 and <font
size="2" face="Arial">visible</font> is 10. <font size="2"
face="Arial">Unit</font> increment will default to 1 and to <font
size="2" face="Arial">block</font> increment to the <font
size="2" face="Arial">visible</font> value.</p>

<p align="left">Whenever the value of the <font size="2"
face="Arial">Scrollbar</font> is changed an <font size="2"
face="Arial">AdjustmentEvent</font> is generated and dispatched
to any <font size="2" face="Arial">AdjustmentListener</font>
objects which are registered with it. The major resources of the <font
size="2" face="Arial">AdjustmentEvent</font> class are presented
in Table 2.17. </p>

<p align="center"><b><img src="table217.gif" width="608"
height="245"></b></p>

<p align="center"><b>Table 2.17</b> Major resources of the <font
face="Arial">AdjustableEvent</font> class.</p>

<p>As it is difficult to give an example of the use of a <font
size="2" face="Arial">Scrollbar</font> without embedding it in an
<font size="2" face="Arial">applet</font>, the example in this
section will implement a <font size="2" face="Arial"><i>DecimalToHex
</i></font>converter. The appearance of this <font size="2"
face="Arial">applet</font> is shown in Figure 2.11. It is used to
convert between decimal and hexadecimal values in the (decimal)
range 0 to 255.</p>

<p align="center"><font size="2"><b><img src="fig211.gif"
width="202" height="128"></b></font></p>

<p align="center"><font size="2"><b>Figure 2.11</b> A </font><font
size="2" face="Arial">Scrollbar</font><font size="2"> based </font><font
size="2" face="Arial"><i>DecimalToHex</i></font><font size="2"><i>
</i>applet.</font></p>

<p>The State Transition Diagram for this applet is given in
Figure 2.12. It shows that there is a single state with five
transitions, one for each possible user action. The single state
and small number of transitions, all without preconditions,
suggests that the <font size="2" face="Arial">applet</font>
should be simple and intuitive to use.</p>

<p align="center"><b><img src="fig212.gif" width="602"
height="401"></b></p>

<p align="center"><b>Figure 2.12</b> The <font face="Arial"><i>DecimaltoHex</i></font>
applet's STD.</p>

<p>The <font size="2" face="Arial"><i>init()</i></font> method of
the <font size="2" face="Arial"><i>DecimalToHex</i></font> class
creates the interface which consists of two <font size="2"
face="Arial">Label</font>s and a <font size="2" face="Arial">Scrollbar</font>
mounted on the applet's <font size="2" face="Arial">Panel</font>
in a three by one <font size="2" face="Arial">GridLayout</font>. </p>

<pre><font size="3">0001  // Filename <i>DecimalToHex.java</i>.
0002  // Provides an example of the AWT Scrollbar class.  
0003  // Written for the Java interface book Chapter 2 - see text.
0004  //
0005  // Fintan Culwin, v 0.2, August 1997.
0006  
0007  <b>import</b> java.awt.*;
0008  <b>import</b> java.awt.event.*;
0009  <b>import</b> java.applet.*;
0010  
0011  
0012  <b>public class</b> <i>DecimalToHex</i> <b>extends</b>    Applet 
0013                            <b>implements</b> AdjustmentListener { 
0014  
0015  <b>private</b> Scrollbar <i>scroller</i>;
0016  <b>private</b> Label     <i>decimalLabel</i>;
0017  <b>private</b> Label     <i>hexLabel</i>;
0018  
0019     <b>public void</b> <i>init</i>() {
0020        
0021        <b>this</b>.<i>setLayout</i>( <b>new</b> GridLayout( 3, 1, 5, 5));
0022       
0023        <i>scroller</i> = <b>new</b> Scrollbar( Scrollbar.HORIZONTAL, 0, 1, 0, 255);
0024        <i>scroller</i>.setBlockIncrement( 10);    
0025        <i>scroller</i>.addAdjustmentListener( <b>this</b>);
0026                                                     
0027        <i>decimalLabel</i> = <b>new</b> Label();
0028        <i>hexLabel</i>     = <b>new</b> Label();
0029            
0030        <b>this</b>.add( <i>decimalLabel</i>);     
0031        <b>this</b>.add( <i>scroller</i>);
0032        <b>this</b>.add( <i>hexLabel</i>);     
0033  
0034        <b>this</b>.<i>update</i>();
0035     } // End <i>init</i>.</font></pre>

<p>The identities of the three components will be required by
other methods within the class so they are declared as <font
size="2" face="Arial"><b>private</b></font> data attributes
outside the scope of any method on lines 0015, 0016, 0017. The <font
size="2" face="Arial"><i>init()</i></font> method is comparable
to the other <font size="2" face="Arial"><i>init()</i></font>
methods previously presented in this chapter. The <font size="2"
face="Arial">Scrollbar</font> constructor on line 0023 creates a
horizontal <font size="2" face="Arial">Scrollbar</font> instance
with an initial <font size="2" face="Arial">value</font> of 0, a <font
size="2" face="Arial">visible</font> size of 1, a <font size="2"
face="Arial">minimum</font> of 0 and a <font size="2"
face="Arial">maximum</font> of 255. The <font size="2"
face="Arial"><i>unit </i></font>increment defaults to 1 and on
line 0024, the <font size="2" face="Arial"><i>block</i></font>
increment is set to 10. On line 0025 the <font size="2"
face="Arial">AdjustmentListener</font> is specified as <font
size="2" face="Arial"><b>this</b></font>, which requires the <font
size="2" face="Arial">DecimalToHex</font> class to implement the <font
size="2" face="Arial">AdjustmentListener</font> interface, as
stated on line 0013. </p>

<p>A 3 row by 1 column <font size="2" face="Arial">GridLayout</font>
is specified on line 0021 to produce the required relationship
between the three components, which are added in the appropriate
sequence on lines 0030 to 0032. No explicit value is specified
for either of the <font size="2" face="Arial">Label</font>
components as the call to the <font size="2" face="Arial"><i>update()</i></font>
method on line 0033 will supply them. </p>

<p>In order to implement the <font size="2" face="Arial">AdjustmentListener</font>
interface the <font size="2" face="Arial">DecimalToHex</font>
class has to declare an <font size="2" face="Arial">adjustmentValueChanged()</font>
method, as follows. This method indirects to the <font size="2"
face="Arial"><i>update</i>()</font> method to cause the values
shown on the two <font size="2" face="Arial">Label</font>s to
change in order to reflect the new value of the <font size="2"
face="Arial">Scrollbar</font>. </p>

<pre><font size="3">0038     <b>public void</b> adjustmentValueChanged( AdjustmentEvent <i>event</i>) { 
0039        <b>this</b>.<i>update</i>();  
0040     } // End <i>adjustmentValueChanged</i>.
0041  
0042  
0043     <b>protected void</b> <i>update</i>() { 
0044     
0045     <b>int</b>     <i>theValue</i>     = <i>scroller</i>.getValue();
0046     String  <i>decimalValue</i> = <b>new</b> String( Integer.toString( <i>theValue</i>, 10));
0047     String  <i>hexValue</i>     = <b>new</b> String( Integer.toString( <i>theValue</i>, 16));
0048      
0049     String  <i>decimalString</i> = <b>new</b> String( &quot;Decimal : &quot; +  <i>decimalValue</i>);
0050     String  <i>hexString</i>     = <b>new</b> String( &quot;Hex : &quot; +  <i>hexValue</i>);
0051  
0052        <i>decimalLabel</i>.setText(  <i>decimalString</i>);
0053        <i>hexLabel</i>.setText(      <i>hexString</i>);
0054     } // End <i>update</i>.</font></pre>

<p>The purpose of this method is to obtain the value of the
slider, format it as a decimal and as a hexadecimal<font size="2"
face="Arial"><i> </i></font>string and then install the <font
size="2" face="Arial">String</font>s into the two <font size="2"
face="Arial">Labels</font>. The precise details of this process
are not relevant to the consideration of the construction of the
user interface. Briefly the value is retrieved as an <b>int</b>
on line 0045, formatted on lines 0046 and 0047, catenated with
the prompts on lines 0049 and 0050 and installed into the <font
size="2" face="Arial">Label</font>s on lines 0052 and 0053.</p>

<p>The user can interact with this interface by dragging the
slider with the values being continually updated. Alternatively
they could click on one of the arrows to increment or decrement
the value by 1, or click on the <font size="2" face="Arial">scrollBar</font>
outside the slider to increment or decrement the value by 10. </p>

<hr>

<blockquote>
    <p><b><i>Design Advice</i></b> </p>
    <p>Use a <font size="2" face="Arial"><i>ScrollBar</i></font>
    for the input<i> </i>of quantitative data only when the range
    is relatively small; otherwise consider using a <font
    size="2" face="Arial"><i>TextField</i></font>. </p>
</blockquote>

<hr>

<blockquote>
    <p><a href="code2\scrollbar\decimaltohex.java"><img
    src="list.gif" align="middle" border="0" width="40"
    height="35"><font size="5">DecimalToHex.java</font></a></p>
</blockquote>

<blockquote>
    <p><a href="code2\scrollbar\decimaltohex.html"><font size="5"><img
    src="run.gif" align="middle" border="0" width="40"
    height="27">DecimalToHex</font></a></p>
</blockquote>

<hr>

<blockquote>
    <p><a href="ch210.html"><img src="next.gif" align="middle"
    border="0" width="50" height="40"><font size="5">2.10 The </font><font
    size="5" face="Arial">Canvas</font><font size="5"> class</font></a></p>
    <p><a href="ch28.html"><font size="4"><img src="last.gif"
    align="middle" border="0" width="50" height="40"></font><font
    size="5">2.8 The</font><font size="6"> </font><font size="5"
    face="Arial">List</font><font size="6"> </font><font size="5">class</font></a></p>
</blockquote>

<hr>
</body>
</html>
