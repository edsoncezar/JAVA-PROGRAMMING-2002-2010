<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>

<head>
<meta http-equiv="Content-Type"
content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPad 2.0">
<title> 2.8 The List class </title>
</head>

<body bgcolor="#FFFFFF">

<h2 align="center"><font size="6">2.8 The </font><font size="5"
face="Arial">List</font><font size="6"> class</font></h2>

<p>The <font size="2" face="Arial">List</font> class provides a,
possibly scrolling, list&nbsp;box which allows the user to select
one option, or a number of options, from a list of choices. The
major resources of this class are given in Table 2.15.</p>

<p align="center"><font size="2"><b><img src="table215.gif"
width="506" height="744"></b></font></p>

<p align="center"><font size="2"><b>Table 2.15</b> Major
resources of the </font><font size="2" face="Arial">List</font><font
size="2"> class. </font></p>

<p>An instance of the <font size="2" face="Arial">List</font>
class encapsulates a list of <font size="2" face="Arial">String</font>s,
known as <i>items</i>, which represent the choices to be
presented to the user. It also knows if it is available for
single or multiple selections and the number of items in the list
(<font size="2" face="Arial"><i>rows</i></font>) which are to be
visible. If the number of <font size="2" face="Arial">rows</font>
is greater than the number of <font size="2" face="Arial">item</font>s
in the list then the <font size="2" face="Arial">List</font> will
automatically supply a vertical <font size="2" face="Arial">Scrollbar</font>
to navigate the list.</p>

<p>The third constructor requires the number of <font size="2"
face="Arial">rows</font> to be specified and a <font size="2"
face="Arial"><b>boolean</b></font> value to indicate if multiple
selections are to be allowed. The two <font size="2" face="Arial">add()</font>
methods allow a single item to be added to the end of the list or
to be added at a specific location within the list. The two <font
size="2" face="Arial">remove()</font> methods allow a single item
or a continuous range of items to be deleted and <font size="2"
face="Arial">removeAll()</font> clears the list. The <font
size="2" face="Arial">getItemCount()</font><font face="Arial"> </font>method
indicates the number of items in the list.</p>

<p>The two methods, <font size="2" face="Arial">&nbsp;setMultipleMode()</font>
and <font size="2" face="Arial">isMultipleMode(),</font> allow
the multiple selection state of the list to be set or queried.
The <font size="2" face="Arial">select()</font> and <font
size="2" face="Arial">deSelect()</font> methods are supplied to
allow items within the list to be selected and the <font size="2"
face="Arial">isSelected()</font> <font size="2" face="Arial"><b>boolean</b></font>
enquiry method will indicate the state of an individual item. </p>

<p>The <font size="2" face="Arial">getRows()</font> and <font
size="2" face="Arial">getVisibleIndex() </font>methods indicate
the number of visible items and the first item which is visible.
The <font size="2" face="Arial">makeVisible()</font> method makes
sure that the specified item is visible somewhere within the
list's window. </p>

<p>The <font size="2" face="Arial">getSelectedIndex()</font>
should only be used if the <font size="2" face="Arial">List</font>
is in single selection mode and returns the index of the
currently selected item or -1 if none are selected. If the list
is in multiple selection mode the <font size="2" face="Arial">getSelectedIndexes()</font>
method will return an array of the indexes of the currently
selected items. This will be empty ( i.e. its <font size="2"
face="Arial">length</font> attribute will be 0) if none are
selected. The<font size="2" face="Arial"> getSelectedItem()</font>
and <font size="2" face="Arial">getSelectedItems()</font> methods
return a <font size="2" face="Arial">String</font> or an array of
<font size="2" face="Arial">String</font>s in a similar manner. </p>

<p>The following <font size="2" face="Arial"><i>init()</i></font>
method, from a class called <font size="2" face="Arial"><i>SingleListExample</i></font>,
creates a <font size="2" face="Arial">List</font> instance and
adds seven items naming European capital cities, accompanied by a
<font size="2" face="Arial">Label</font> providing a prompt for
the choices. </p>

<pre><font size="3">0014  <b>public class</b> SingleListExample <b>extends</b>    Applet 
0015                                 <b>implements</b> ItemListener { 
0016  
0017  
0018     <b>public void</b> <i>init</i>() {
0019     
0020  <b>   </b>List   <i>cityList</i>;
0021     Label  <i>promptLabel</i>;
0022            
0023        <b>this</b>.setLayout( <b>new</b> BorderLayout());
0024       
0025        <i>cityList</i> = <b>new</b> List( 7, <b>false</b>);
0026        <i>cityList</i>.addItemListener( <b>this</b>);
0027        
0028        <i>cityList</i>.addItem( &quot;London&quot;);
0029        <i>cityList</i>.addItem( &quot;Paris&quot;);
0030        <i>cityList</i>.addItem( &quot;Barcelona&quot;);
0031        <i>cityList</i>.addItem( &quot;Athens&quot;);
0032        <i>cityList</i>.addItem( &quot;Rome&quot;);
0033        <i>cityList</i>.addItem( &quot;Istanbul&quot;);
0034        <i>cityList</i>.addItem( &quot;Berlin&quot;);
0035  
0036        <i>promptLabel</i> = <b>new</b> Label( &quot;Which city have you visited?&quot;); 
0037       
0038        <b>this</b>.add( <i>promptLabel, </i>&quot;North&quot;);     
0039        <b>this</b>.add( <i>cityList,    </i>&quot;Center&quot;);     
0040    } // End <i>init</i>.</font></pre>

<p>A <font size="2" face="Arial">BorderLayout</font> manager is
required for this example as a <font size="2" face="Arial">GridLayout</font>
allocates identical amounts of space for all of its children and
this would not be appropriate for this interface. A <font
size="2" face="Arial">Container</font> with a <font size="2"
face="Arial">BorderLayout</font> policy has a maximum of five
children which can be placed into its &quot;<i>North&quot;</i>,
&quot;<i>South&quot;</i>, &quot;<i>East&quot;</i>, &quot;<i>West&quot;</i>
and &quot;<i>Center&quot;</i> locations as shown in Figure 2.8.
Unlike the <font size="2" face="Arial">GridLayout</font> and <font
size="2" face="Arial">FlowLayout</font> mangers, which have been
used so far, the manager does not force all the children to be
the same size. The location of a child within a <font size="2"
face="Arial">BorderLayout</font> policy is specified by a second <font
size="2" face="Arial">String</font> argument to the <font
size="2" face="Arial">Container</font>'s <font size="2"
face="Arial">add()</font> method, as shown on lines 0038 and
0039. </p>

<p align="center"><font size="2"><b><img src="fig28.gif"
width="251" height="125"></b></font></p>

<p align="center"><font size="2"><b>Figure 2.8</b>. BorderLayout
policy management</font></p>

<p>The appearance of the <font size="2" face="Arial"><i>ListExample</i></font><i>
</i>is shown in Figure 2.9.</p>

<p align="center"><font size="2"><b><img src="fig29.gif"
width="250" height="223"></b></font></p>

<p align="center"><font size="2"><b>Figure 2.9</b> </font><font
size="2" face="Arial">List</font><font size="2"> instance in
single selection mode without a </font><font size="2"
face="Arial">Scrollbar</font><font size="2">. </font></p>

<p>The start of the <font size="2" face="Arial"><i>itemStateChanged()</i></font>
method for this class is as follows. It differs from the previous
versions by explicitly retrieving the identity of the <font
size="2" face="Arial">ItemSelectable</font> component from the <font
size="2" face="Arial">ListEvent</font> and, using a cast, storing
it in the local variable <font size="2" face="Arial"><i>theList</i></font>.
This allows the List <font size="2" face="Arial">getSelectedIndex()</font>
and <font size="2" face="Arial">getSelectedItem()</font> methods
to be demonstrated on lines 0051 and 0052. The remainder of the
method is as in the previous examples.</p>

<pre><font size="3">0043    <b>public void</b> <i>itemStateChanged</i>( ItemEvent <i>event</i>) {  
0044    
0045    List <i>theList</i> = (List) <i>event</i>.getItemSelectable();  
0046    
0047        <b>if</b> ( <i>theList</i> == <i>cityList</i>) { 
0048           System.out.println( &quot;Item Selectable is cityList.&quot;);           
0049        } // End if.
0050              
0051        System.out.println( &quot;Item index  is &quot; + <i>theList</i>.getSelectedIndex());
0052        System.out.println( &quot;Item string is &quot; + <i>theList</i>.getSelectedItem());
----        <b>// Remainder as before!</b></font></pre>

<p>The output produced by this method when &quot;<i>Barcelona</i>&quot;
was selected is as follows. </p>

<hr>

<pre><font size="4">	Item Selectable is cityList.
	Item index is 2
	Item string is Barcelona
	State Change is Selected
	ID is ITEM_STATE_CHANGED.</font></pre>

<hr>

<p>A small change to the <font size="2" face="Arial"><i>init()</i></font>
method, in a class called <font size="2" face="Arial"><i>MutipleListExample</i></font>,
will demonstrate the appearance of a <font size="2" face="Arial">List</font>
when a <font size="2" face="Arial">ScrollBar</font> is required
and when multiple selections are allowed. Both changes can be
effected on line 0025 as follows. The appearance of this example
is shown in Figure 2.10.</p>

<pre><font size="3">0025        <i>cityList</i> = <b>new</b> List( 4, <b>true</b>);
</font></pre>

<p align="center"><font size="2"><b><img src="fig210.gif"
width="264" height="154"></b></font></p>

<p align="center"><font size="2"><b>Figure 2.10</b> </font><font
size="2" face="Arial">List</font><font size="2"> instance in
multiple selection mode with a </font><font size="2" face="Arial">Scrollbar</font><font
size="2">. </font></p>

<p>Figure 2.10 shows that only four of the seven items on the
list are visible, the non-visible items can be made visible by
using the scroll bar at the right of the list. It also shows, by
the selection of &quot;<i>Barcelona</i>&quot; and &quot;<i>Rome</i>&quot;
that multiple selection is allowed. The <font size="2"
face="Arial"><i>itemStateChanged()</i></font> method for this
class is as follows and outputs a list of all the items which are
selected every time an item is selected or deselected. </p>

<pre><font size="3">0043    <b>public void</b> <i>itemStateChanged</i>( ItemEvent <i>event</i>) {  
0044    
0045    List   <i>theList</i>    = (List) <i>event</i>.getItemSelectable();
0046    String <i>visited</i>[]  = <i>theList</i>.getSelectedItems();
0047    
0048       <b>if</b> ( <i>visited</i>.length == 0) { 
0049          System.out.println( &quot;No items are now selected!&quot;);
0050       } <b>else</b> { 
0051          <b>for</b> ( <b>int</b> <i>index</i> = 0; <i>index</i> &lt; <i>visited</i>.length; <i>index</i>++) {     
0052             System.out.print( <i>visited</i>[ <i>index</i>] + &quot; &quot;);
0053          } // End for.
0054          System.out.println();          
0055       } // End if.
0056    } // End <i>itemStateChanged</i>.</font></pre>

<p>On line 0045 the identity of the <font size="2" face="Arial">List</font>
is retrieved, as before, and on line 0046 the array of <font
size="2" face="Arial">String</font>s containing the selected
items is obtained using its <font size="2" face="Arial">getSelectedItems()</font>
method. If the list is empty a message stating this is output on
line 0049, otherwise, on lines 0051 to 0055, a <font size="2"
face="Arial"><b>for</b></font> loop outputs all the items in the
list . The output produced by this method when the cities &quot;<i>Barcelona</i>&quot;,
&quot;<i>Istanbul</i>&quot; and &quot;<i>Athens</i>&quot; were
first selected and then deselected, is as follows. </p>

<hr>

<pre><font size="4">	Barcelona
	Barcelona Istanbul
	Barcelona Athens Istanbul
	Barcelona Istanbul
	Barcelona
	No items are now selected!</font></pre>

<hr>

<blockquote>
    <p><b><i>Design Advice</i></b> </p>
    <p>Use a <i>list box</i> instead of an <i>option menu</i>
    when there are multiple items which have to be selected, or
    when there is a large number of items to be selected from or
    when the number of items in the list might change. </p>
</blockquote>

<hr>

<blockquote>
    <p><a href="code2\list\listexample.java"><font size="5"><img
    src="list.gif" align="middle" border="0" width="40"
    height="35">ListExample.java</font></a></p>
    <p><a href="code2\list\singlelistexample.html"><font size="5"><img
    src="run.gif" align="middle" border="0" width="40"
    height="27">SingleListExample</font></a></p>
    <p><a href="code2\list\multiplelistexample.html"><font
    size="5"><img src="run.gif" align="middle" border="0"
    width="40" height="27">MultipleListExample</font></a></p>
</blockquote>

<hr>

<blockquote>
    <p><a href="ch29.html"><font size="3"><img src="next.gif"
    align="middle" border="0" width="50" height="40"></font><font
    size="5">2.9 The </font><font size="5" face="Arial">Scrollbar</font><font
    size="5"> class</font></a></p>
    <p><a href="ch27.html"><font size="4"><img src="last.gif"
    align="middle" border="0" width="50" height="40"></font><font
    size="5">2.7 The </font><font size="5" face="Arial">Choice</font><font
    size="5"> class</font></a></p>
</blockquote>

<hr>
</body>
</html>
