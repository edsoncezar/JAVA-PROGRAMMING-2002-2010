<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>

<head>
<meta http-equiv="Content-Type"
content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPad 2.0">
<title> 2.4 The Component class </title>
</head>

<body bgcolor="#FFFFFF">

<h1 align="center">2.4 The <font size="5" face="Arial">Component</font><font
size="5"> </font><font size="6">class</font></h1>

<p>The <font size="2" face="Arial">Component</font> class is the
root class for almost all the interface components in the AWT. It
is a complex class containing more than 20 data attributes and
130 methods, all of which are inherited by all the classes below
it in the class hierarchy shown in Figure 2.2. This may seem an
intimidating amount of detail to have to assimilate, however the
attributes can be grouped according to the functionality which
they provide and, in practice, only a small proportion of them
need be used. As the <font size="2" face="Arial">Component</font>
class is so complex many of the classes derived from it are
comparatively simple as they inherit much of their functionality
from <font size="2" face="Arial">Component</font>. </p>

<p>Only an initial introduction to the major resources of the
class, involving grouping and naming of various methods with a
brief indication of their function, will be given here.
Additional details of some, but not all, of the remaining
attributes and methods will be given throughout the rest of this
chapter and the book. The first group of methods to be considered
are those concerned with the lifecyle of a component and are
listed in Table 2.2. </p>

<p align="center"><b><img src="table22.gif" width="603"
height="294"><br>
Table 2.2</b> Lifecycle resources of the <font face="Arial">Component</font>
class. </p>

<p>A <font size="2" face="Arial">Component</font> once
constructed will create its <i>peer</i> in the native windowing
environment, calling the <font size="2" face="Arial">addNotify()</font>
method once it is created and then waits to become <font size="2"
face="Arial">valid</font>ated during layout negotiations at which
time it becomes <font size="2" face="Arial">visible</font> but
will only be <font size="2" face="Arial">shown</font> when its
instance parents are shown. The next group of methods, shown in
Table 2.3, are concerned with the <font size="2" face="Arial">Component</font>'s
physical appearance.<br>
</p>

<p align="center"><b><img src="table23.gif" width="601"
height="290"></b></p>

<p align="center"><b>Table 2.3</b> Physical appearance resources
of the <font face="Arial">Component</font> class. </p>

<p>The <font size="2" face="Arial">foreground</font>, <font
size="2" face="Arial">background</font> and <font size="2"
face="Arial">font</font> resources will be described in the next
Chapter and the <font size="2" face="Arial">locale</font>
resource in Chapter 9. The following <font size="2" face="Arial"><i>init()</i></font>
method of a class called <font size="2" face="Arial"><i>CursorExample</i></font>
creates 14 instances of the <font size="2" face="Arial">Label</font>
class, each bearing a text label describing the <font size="2"
face="Arial">Cursor</font> associated with it, and installs them
within a 2 column by 7 row <font size="2" face="Arial">GridLayout</font>
layout policy.</p>

<pre><font size="3">0014    <b>public void</b> <i>init</i>() {
0015  
0016    <b>int</b>    <i>maxCursors</i>     = Cursor.MOVE_CURSOR +1;
0017  
0019    Label  <i>cursorLabels</i>[] = <b>new</b> Label[ <i>maxCursors</i>];
0020    String <i>cursorNames</i>[]  = { &quot;Default&quot;,    &quot;Cross Hair&quot;, &quot;Text&quot;, 
0021                              &quot;Wait&quot;,       &quot;South West&quot;, &quot;South East&quot;,
0022                              &quot;North West&quot;, &quot;North East&quot;, &quot;North&quot;, 
0023                              &quot;South&quot;,      &quot;West&quot;,       &quot;East&quot;, 
0024                              &quot;Hand&quot;,       &quot;Move&quot;};
0025  
0029       <b>this</b>.setLayout( <b>new</b> GridLayout( 7, 2, 0, 10));
0030   
0031       <b>for</b> ( <b>int</b> <i>index</i> =0; <i>index</i> &lt; <i>maxCursors</i>; <i>index</i>++ ) { 
0032          <i>cursorLabels</i>[ <i>index</i>] = <b>new</b> Label( <i>cursorNames</i>[ <i>index</i>]);
0033          <i>cursorLabels</i>[ <i>index</i>].setCursor( <b>new</b> Cursor( <i>index</i>));
0034          <b>this</b>.add( <i>cursorLabels</i>[ <i>index</i>]);
0035       } // End for.    
0036    } // End <i>init</i>.</font></pre>

<p>The <font size="2" face="Arial">Cursor</font> class declares
fourteen class wide manifest constants identifying all the cursor
images which it supplies. The last of these manifest values is <font
size="2" face="Arial">MOVE_CURSOR </font>and, on line 0016, this
value is used to initialize the value of the local <font size="2"
face="Arial"><b>int</b></font> variable <font size="2"
face="Arial"><i>MaxCursors</i></font>. This value is then used on
line 0019 to define the size of an array of <font size="2"
face="Arial">Label</font> instances called <font size="2"
face="Arial"><i>cursorLabels</i></font>. Lines 0020 to 0024 then
declares and initializes an array of <font size="2" face="Arial">String</font>s
called <font size="2" face="Arial"><i>cursorNames</i></font>. The
steps of the <font size="2" face="Arial"><i>init()</i></font>
method commence with the establishment of a 7 by 2 <font size="2"
face="Arial">GridLayout</font> policy for the applet. The loop
between lines 0031 and 0035 constructs each <font size="2"
face="Arial">Label</font> in turn specifying a <font size="2"
face="Arial">String</font> from the <font size="2" face="Arial"><i>cursorNames</i></font>
array as an argument to its constructor. Before the <font
size="2" face="Arial">Label</font> is added to the applet, on
line 0034, its <font size="2" face="Arial">setCursor()</font>
method is called specifying a <font size="2" face="Arial"><b>new</b></font>
<font size="2" face="Arial">Cursor</font> instance whose argument
identifies in turn each possible cursor. </p>

<p>Figure 2.4 illustrates the appearance of this applet, as the
mouse pointer moves into each <font size="2" face="Arial">Label</font>
the appearance of the cursor will change to that shown alongside
its name. Table 2.4 lists the manifest names of the fourteen
cursors supplied by the <font size="2" face="Arial">Cursor</font>
class, unfortunately there is no mechanism for preparing a cursor
from a developer supplied image.</p>

<p align="center"><font size="2"><b><img src="fig24.gif"
width="271" height="325"></b></font></p>

<p align="center"><font size="2"><b>Figure 2.4</b> The 14 Java
cursors under Windows '95.</font></p>

<p align="center"><b><img src="table24.gif" width="559"
height="149"><br>
Table 2</b>.<b>4</b> The manifest cursor names supplied by the <font
face="Arial">Cursor</font> class.</p>

<p>Table 2.5 contains the methods associated with the <font
size="2" face="Arial">Component</font>'s size and location.</p>

<p align="center">&nbsp;</p>

<p align="center"><b><img src="table25.gif" width="608"
height="466"></b></p>

<p align="center"><b>Table 2</b>.<b>5</b> Size and location
resources of the <font face="Arial">Component</font> class. </p>

<p>Table 2.6 contains the methods associated with events. Only
the details of the <font size="2" face="Arial">KeyEvent</font>
class are shown. There are a similar set of methods for the <font
size="2" face="Arial">ComponentEvent</font>, <font size="2"
face="Arial">InputEvent</font> and <font size="2" face="Arial">MouseEvent
</font>classes. Further details of these, and other event
classes, such as the <font size="2" face="Arial">ActionEvent</font>
introduced in Chapter 1, will be given throughout the rest of
this chapter. </p>

<p align="center"><b><img src="table26.gif" width="603"
height="236"></b></p>

<p align="center"><b>Table 2</b>.<b>6</b> Event handling
resources of the <font face="Arial">Component</font> class. </p>

<p>The usual technique for handling events is to register a <font
size="2" face="Arial">Listener</font> object with the Component
using the appropriate <font size="2" face="Arial">add<i>Whatever</i>Listener()</font>
method, for example <font size="2" face="Arial">addActionListener().</font>
This will automatically enable the appropriate class of events on
the <font size="2" face="Arial">Component</font> and dispatch
them to the action<font size="2" face="Arial">Performed()</font>,
or equivalent, method of the <font size="2" face="Arial">Listener</font>.
However when components are extended, as opposed to simply being
used, the appropriate event classes will have to be explicitly
enabled, using <font size="2" face="Arial">enableEvent()</font>.
Events generated by the <font size="2" face="Arial">Component</font>
will then be passed to the <font size="2">it</font>'s<font
size="2" face="Arial"> processEvent()</font> method which, unless
overridden, will indirect to the appropriate <font size="2"
face="Arial">process<i>Whatever</i>Event()</font> method.
Introductory examples of extending components will be given later
in this chapter and more extensive examples in Chapter 3.</p>

<p>The next table, Table 2.7, lists the methods associated with
painting a component. The <font size="2" face="Arial">paint()</font>
method is actually responsible for drawing the component onto the
screen, but should never be called directly. Instead one of the <font
size="2" face="Arial">repaint()</font> methods should be called
which will schedule a call of <font size="2" face="Arial">paint()</font>
in due course. Before <font size="2" face="Arial">paint()</font>
is called <font size="2" face="Arial">update()</font> will be
called to clear the area to be repainted to the background
colour, so <font size="2" face="Arial">paint()</font> need not do
this. All AWT components, apart from <font size="2" face="Arial">Canvas</font>,
take responsibility for painting themselves, but extended
components may have to override <font size="2" face="Arial">paint()</font>
to draw themselves onto the screen. The <font size="2"
face="Arial">Graphics</font> class is required to draw onto the
screen and will be explained below, when the <font size="2"
face="Arial">Canvas</font> class is introduced. </p>

<p align="center"><b><img src="table27.gif" width="607"
height="247"></b></p>

<p align="center"><b>Table 2</b>.<b>7 </b>Painting resources of
the <font face="Arial">Component</font> class. </p>

<p>To complete this introduction to the <font size="2"
face="Arial">Component</font> class, Table 2.8 contains
miscellaneous methods which do not belong to any of the groups
above.</p>

<p align="center"><b><img src="table28.gif" width="608"
height="99"></b></p>

<p align="center"><b>Table 2</b>.<b>8</b> Miscellaneous methods
of the <font face="Arial">Component</font> class. </p>

<p align="center">&nbsp;</p>

<hr>

<blockquote>
    <p><a href="code2\cursor\cursorexample.java"><font size="5"><img
    src="list.gif" align="middle" border="0" width="40"
    height="35"> CursorExample.java</font></a></p>
    <p><a href="code2\cursor\cursorexample.html"><font size="5"><img
    src="run.gif" align="absmiddle" border="0" width="40"
    height="27"> CursorExample</font></a></p>
</blockquote>

<hr>

<blockquote>
    <p><a href="ch25.html"><img src="next.gif" align="middle"
    border="0" width="50" height="40"><font size="5">2.5 The </font><font
    size="5" face="Arial">Button</font><font size="5"> class</font></a></p>
    <p><a href="ch23.html"><font size="5"><img src="last.gif"
    align="middle" border="0" width="50" height="40">2.3 The </font><font
    size="5" face="Arial">Label</font><font size="5"> class</font></a></p>
</blockquote>

<hr>
</body>
</html>
