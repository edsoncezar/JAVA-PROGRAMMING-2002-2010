<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>

<head>
<meta http-equiv="Content-Type"
content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPad 2.0">
<title> 2.11 The TextComponent, TextArea and TextField classes</title>
</head>

<body bgcolor="#FFFFFF">

<h2 align="center"><font size="6">2.11 The </font><font size="5"
face="Arial">TextComponent</font><font size="6">, </font><font
size="5" face="Arial">TextArea</font><font size="6"> and </font><font
size="5" face="Arial">TextField</font><font size="6"> classes</font></h2>

<p>These three classes supply facilitates for the input, and
output, of text information. The <font size="2" face="Arial">TextComponent</font>
class is not intended to be instantiated, although it is not
declared <font size="2" face="Arial"><b>abstract</b></font>, and
provides common behaviour for the single line <font size="2"
face="Arial">TextField</font> and multiple line <font size="2"
face="Arial">TextArea</font> classes. This section will only
introduce the <font size="2" face="Arial">TextField</font> class,
the <font size="2" face="Arial">TextArea</font> class will be
introduced in Chapter 5. The major resources of the <font
size="2" face="Arial">TextComponent</font> class are presented in
Table 2.19.</p>

<p align="center"><b><img src="table219.gif" width="600"
height="445"></b></p>

<p align="center"><b>Table 2.19</b> Major resources of the <font
face="Arial">TextComponent</font> class. </p>

<p align="left">There is no constructor for this class as it is
only intended that instances of the <font size="2" face="Arial">TextField</font>
or <font size="2" face="Arial">TextArea</font> classes will be
created, the major resources added by the <font size="2"
face="Arial">TextArea</font> class are presented in Table 2.20.</p>

<p align="center"><b><img src="table220.gif" width="603"
height="341"></b></p>

<p align="center"><b>Table 2.20</b> Major resources of the <font
face="Arial">TextField</font> class. </p>

<p>The constructors allow various combinations of the <font
size="2" face="Arial">String</font> to be initially displayed and
the number of columns to be specified. The number of columns
defaults to the number of characters in the <font size="2"
face="Arial">String</font> for the second constructor and zero
for the default constructor. The <font size="2" face="Arial">String</font>
contained within the <font size="2" face="Arial">TextComponet</font>
can be longer than the number of <font size="2" face="Arial">columns</font>
in which case it can be scrolled to the left and right by the
user's actions. If the <font size="2" face="Arial">echoChar</font>
attribute is set then the specified character will be used to
give the user feedback as they type in the field, as will be
demonstrated below. An <font size="2" face="Arial">ActionEvent</font>
is generated whenever the user activates the text in the
component, usually by pressing the <font size="2">&lt;ENTER&gt;</font>
key. For single line text, it is more convenient to handle <font
size="2" face="Arial">ActionEvent</font>s than to handle the <font
size="2" face="Arial">TextEvent</font>s which are generated every
time the text in the component changes. </p>

<p>To illustrate the use of <font size="2" face="Arial">TextField</font>
components a <font size="2" face="Arial"><i>PasswordEntry</i></font>
applet will be produced. This applet will start by inviting the
user to &quot;Please enter the magic word&quot; in a non-editable
<font size="2" face="Arial">TextField</font>. A second editable
text field with the echo character set to an asterisk (*) will
allow the user to type in an attempt. When the user presses the <font
size="2">&lt;ENTER&gt;</font> key the attempt will be checked and
if it is incorrect the password entry field will be cleared so
that the user can try again. When the user inputs the correct
password the password entry field will be removed from the
interface, and the prompt field will display &quot;Welcome to the
magic garden.&quot;. The appearance of the two states of the
applet are shown in Figure 2.15.</p>

<p align="center"><font size="2"><b><img src="fig215.gif"
width="330" height="145"></b></font></p>

<p align="center"><font size="2"><b>Figure 2.15</b> The two
states of the </font><font size="2" face="Arial"><i>PasswordEntry</i></font><font
size="2"><i> </i>applet.</font></p>

<p>The state transition diagram for this applet is given in
Figure 2.16.</p>

<p align="center"><font size="2"><b><img src="fig216.gif"
width="324" height="365"></b></font></p>

<p align="center"><font size="2"><b>Figure 2.16</b> The </font><font
size="2" face="Arial"><i>PasswordEntry</i></font><font size="2"><i>
</i>applet's STD.</font></p>

<p>The implementation of this class as far as the end of its
constructor is as follows. </p>

<pre><font size="3">0001  // Filename <i>PasswordEntry.java</i>.
0002  // Provides an initial example of the AWT TextField class.  
0003  // Written for the Java interface book Chapter 2 - see text.
0004  //
0005  // Fintan Culwin, v 0.2, August 1997.
0006  
0007  <b>import</b> java.awt.*;
0008  <b>import</b> java.awt.event.*;
0009  <b>import</b> java.applet.Applet;
0010  
0011  
0012  <b>public class</b> <i>PasswordEntry</i> <b>extends</b>    Applet 
0013                             <b>implements</b> ActionListener {
0014  
0015  <b>private</b> TextField <i>passwordField</i>;
0016  <b>private</b> TextField <i>promptField</i>;
0017  
0018     <b>public void</b> <i>init</i>() {
0019        
0020        <i>passwordField</i>  = <b>new</b> TextField( 8);
0021        <i>passwordField</i>.setEchoChar( '*');
0022        <i>passwordField</i>.addActionListener( <b>this</b>);
0023        
0024        <i>promptField</i> = <i>new</i> TextField( &quot;Please enter the magic word &quot;);
0025        <i>promptField</i>.setEditable( <b>false</b>);
0026       
0027        <b>this</b>.add( <i>promptField</i>); 
0028        <b>this</b>.add( <i>passwordField</i>);     
0029     } // End init.</font></pre>

<p>On lines 0015 and 0016 two instance attributes of the <font
size="2" face="Arial">TextField</font> class are declared, the <font
size="2" face="Arial"><i>promptField</i></font> to be used for
the prompt, shown on the left of Figure 2.15, and <font size="2"
face="Arial"><i>passwordField</i></font> used to collect the
user's input, shown on the right. On lines 0020 to 0022 the <font
size="2" face="Arial"><i>passwordField</i></font> is constructed
as an eight column empty <font size="2" face="Arial">TextField</font>
component with its echo character set to an asterisk and its <font
size="2" face="Arial">ActionListener</font> set to itself. On
lines 0024 and 0025 the non-editable <font size="2" face="Arial"><i>promptField</i></font>
is constructed containing the text specified. The two <font
size="2" face="Arial">TextField</font>s are added to the <font
size="2" face="Arial">applet Panel</font>, using its default <font
size="2" face="Arial">FlowLayout</font>, on lines 0027 and 0028
before <font size="2" face="Arial"><i>init</i></font>ialisation
finishes.</p>

<p>In order for this class to satisfy the requirement of the <font
size="2" face="Arial">ActionListener</font> interface it must
supply an <font size="2" face="Arial"><i>actionPerformed()</i></font>
method, as follows. </p>

<pre><font size="3">0032     <b>public void</b> <i>actionPerformed</i>( ActionEvent <i>event</i>){ 
0033     
0034     String <i>attempt</i> = <b>new</b> String( <i>passwordField</i>.getText());
0035       
0036          <b>if</b> ( <i>attempt</i>.equals( &quot;fintan&quot;)) { 
0037             <i>promptField</i>.setText( &quot;Welcome to the magic garden.&quot;);
0038             <i>passwordField</i>.setVisible( <b>false</b>);
0039             <i>promptField</i>.getParent().doLayout();
0040          } <b>else</b> { 
0041             passwordField.setText(&quot;&quot;); 
0042          } // End if. 
0043     } // End <i>actionPerformed</i>.</font></pre>

<p>This method will be called every time the user presses the <font
size="2">&lt;ENTER&gt;</font> key and its first step, on line
0034, is to obtain the text which the user has input using the <font
size="2" face="Arial"><i>passwordField</i></font> <font size="2"
face="Arial">getText()</font> method. The <font size="2"
face="Arial">String</font> obtained is then tested to see if it
is the magic word and if not the event handler will finish after
the <font size="2" face="Arial"><i>passwordField</i></font> <font
size="2" face="Arial">setText()</font> method has cleared the
password field, on line 0041. </p>

<p>If the user does enter the magic word the sequence of steps is
first, on lines 0037 and 0038, to change the text in the <font
size="2" face="Arial"><i>promptField</i></font> and to make the <font
size="2" face="Arial"><i>passwordField</i></font> invisible. The <font
size="2" face="Arial">doLayout()</font> method of the <font
size="2" face="Arial"><i>promptField</i></font>'s <font size="2"
face="Arial">Panel</font> parent is then called to cause the <font
size="2" face="Arial"><i>promptField</i></font> to be centred
within the available space, rather than to remain offset to the
left after the <font size="2" face="Arial"><i>passwordField</i></font>
disappears. </p>

<hr>

<blockquote>
    <p><b><i>Design Advice</i></b> </p>
    <p>A non-editable <font size="2" face="Arial">TextField</font>
    should only be used for a prompt when it accompanies another <font
    size="2" face="Arial">TextField</font>, in order that the
    appearance of the two components will be compatible.
    Otherwise a <font size="2" face="Arial">Label</font> should
    be used as a prompt. </p>
</blockquote>

<hr>

<p>An extensive example of the use of the <font size="2"
face="Arial">TextArea</font> class is included in Chapter 7 and a
brief example in the next chapter.</p>

<hr>

<blockquote>
    <p><a href="code2\text\passwordentry.java"><font size="5"><img
    src="list.gif" align="middle" border="0" width="40"
    height="35"> PasswordEntry.java</font></a></p>
    <p><a href="code2\text\passwordentry.html"><img src="run.gif"
    align="middle" border="0" width="40" height="27"><font
    size="5">PasswordEntry</font></a></p>
</blockquote>

<hr>

<blockquote>
    <p><a href="ch212.html"><img src="next.gif" align="middle"
    border="0" width="50" height="40"><font size="5">2.12 </font><font
    size="5" face="Arial">PopUp</font><font size="5"> menus </font></a></p>
    <p><a href="ch210.html"><font size="4"><img src="last.gif"
    align="middle" border="0" width="50" height="40"></font><font
    size="5">2.10 The </font><font size="5" face="Arial">Canvas</font><font
    size="5"> class</font></a></p>
</blockquote>

<hr>
</body>
</html>
