<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>

<head>
<meta http-equiv="Content-Type"
content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPad 2.0">
<title> 4.5 The TuttleTest demonstration class </title>
</head>

<body bgcolor="#FFFFFF">

<h2 align="center"><font size="6">4.5 The </font><font size="5"
face="Arial"><i>TuttleTest</i></font><font size="6">
demonstration class</font></h2>

<p>To conclude this chapter the <font size="2" face="Arial"><i>TuttleTest</i></font>
class which was used to provide the illustration in Figure 4.1
will be briefly introduced. The following chapters will present
some more sophisticated interfaces for the <font size="2"
face="Arial"><i>Tuttle</i></font> class. The implementation of
this class as far as its <font size="2" face="Arial"><i>init()</i></font>
method is as follows. </p>

<pre><font size="3">0001  // Filename <i>TuttleTest.java</i>.
0002  // First attempt at a <i>Tuttle</i> Interface,
0003  // interim version only.
0004  //
0005  // Written for the Java Interface Book Chapter 4.
0006  // Fintan Culwin, v 0.2, August 1997. 
0007  
0008  
0009  <b>import</b> java.awt.*;
0010  <b>import</b> java.awt.event.*;
0011  <b>import</b> java.applet.*;
0012  
0013  <b>import</b> <i>Tuttles.Tuttle</i>;
0014  
0015  
0016  <b>public class</b> <i>TuttleTest</i> <b>extends</b>    Applet
0017                          <b>implements</b> ActionListener {
0018  
0019  <b>private</b> <i>Tuttle theTuttle</i>; 
0020  <b>private</b> Label  feedbackLabel;
0021  <b>private</b> Panel  feedbackPanel;</font></pre>

<p>The context imports the <font size="2" face="Arial"><i>Tuttle</i></font>
class from the <font size="2" face="Arial"><i>Tuttles</i></font>
package and the <font size="2" face="Arial"><i>TuttleTest</i></font>
class is declared as implementing the <font size="2" face="Arial">ActionListener</font>
interface, as it will be its own listener when <font size="2"
face="Arial">ActionEvents</font> are generated by its buttons.
Three instance attributes are delcare don lines 0019 to 0021: an
instance of the <font size="2" face="Arial"><i>Tuttle</i></font>
class called <font size="2" face="Arial"><i>theTuttle</i></font>,
a <font size="2" face="Arial">Label</font> called <font size="2"
face="Arial">feedbackLabel</font> and a <font size="2"
face="Arial">Panel</font> called <font size="2" face="Arial">feedbackPanel</font>
upon which it will be mounted.</p>

<pre><font size="3">0023     <b>public void</b> <i>init</i>() { 
0024  
0025  <b>   </b>Panel  <i>tuttlePanel</i>, <i>tuttleButtonsPanel</i>;
0026     Button <i>fwdButton, bwdButton, rtnButton, ltnButton, rstButton,
</i>0027            <i>clrButton, cstButton, fgrButton, fglButton, fgbButton</i>, 
0028            <i>bgyButton, bgwButton, pdnButton, pupButton</i>;
0029  
0030        <b>this</b>.setLayout( <b>new</b> BorderLayout());
0031  
0032        <i>tuttlePanel</i> = <b>new</b> Panel();
0033        <i>tuttlePanel</i>.setBackground( Color.white);
0034        <i>theTuttle</i> = <b>new</b> Tuttle( <b>this</b>, 400, 400);
0035        <i>tuttlePanel</i>.add( <i>theTuttle</i>);
0036        
0037        <i>tuttleButtonsPanel</i> = <b>new</b> Panel();
0038        <i>tuttleButtonsPanel</i>.setLayout( <b>new</b> GridLayout( 2, 7));
0039  
0040        <i>fwdButton</i> = <b>new</b> Button( &quot;Fwd&quot;);
0041        <i>fwdButton</i>.setActionCommand( &quot;Fwd&quot;);
0042        <i>fwdButton</i>.addActionListener( <b>this</b>);
0043        <i>tuttleButtonsPanel</i>.add( <i>fwdButton</i>);
0044        
0045        <i>bwdButton</i> = <b>new</b> Button( &quot;Bwd&quot;);
0046        <i>bwdButton</i>.setActionCommand( &quot;Bwd&quot;);
0047        <i>bwdButton</i>.addActionListener( <b>this</b>);
0048        <i>tuttleButtonsPanel</i>.add( <i>bwdButton</i>);      

<b>----        //Other Button construction and configuration omitted!

</b>0114        <i>feedbackPanel</i> = <b>new</b> Panel();
0115        <i>feedbackPanel</i>.setBackground( Color.white);
0116        <i>feedbackLabel</i> = <b>new</b> Label();
0117        <i>feedbackPanel</i>.add( <i>feedbackLabel</i>);
0118        
0119        <b>this</b>.add( <i>tuttleButtonsPanel</i>, &quot;South&quot;);  
0120        <b>this</b>.add( <i>tuttlePanel</i>,        &quot;Center&quot;);
0121        <b>this</b>.add( <i>feedbackPanel</i>,      &quot;North&quot;);
0122        <b>this</b>.feedback();
0125     } // End <i>init</i>.</font></pre>

<p>This method declares two Panels, which will be required for
layout control on line 0025 and, on lines 0026 to 0028, the
fourteen buttons which are shown at the bottom of the interface.
The first part of the method, on line 0030, establishes a <font
size="2" face="Arial">BorderLayout</font> policy for the <font
size="2" face="Arial">Applet</font>. The <font size="2"
face="Arial"><i>Tuttle</i></font> instance, <font size="2"
face="Arial"><i>theTuttle</i></font>, is then created and mounted
in its own <font size="2" face="Arial"><i>Panel</i></font> in
lines 0032 to 0035.</p>

<p>Following this the <font size="2" face="Arial"><i>Panel</i></font>
to mount the buttons on is created and its layout policy set to a
2 row by 7 column <font size="2" face="Arial"><i>GridLayout</i></font>.
Each <font size="2" face="Arial">Button</font> in turn is then
created, has its <font size="2" face="Arial"><i>ActionCommand</i></font>
attribute set, has the <font size="2" face="Arial">Applet</font>
registered as its <font size="2" face="Arial">ActionListener</font>
and is <font size="2" face="Arial">add</font>ed to the <font
size="2" face="Arial"><i>tuttleButtonsPanel</i></font>. Once all <font
size="2" face="Arial">Button</font>s have been processed, lines
0114 to 0117 create the <font size="2" face="Arial"><i>feedbackLabel</i></font>
and install it onto its own <font size="2" face="Arial">Panel</font>.
The <font size="2" face="Arial"><i>init()</i></font> method
concludes by assembling the interface and calls the <font
size="2" face="Arial"><i>feedback()</i></font> method, as
follows, to produce the initial information display at the top of
the interface.</p>

<pre><font size="3">0187     <b>private void</b> <i>feedback</i>() {    
0188        <i>feedbackLabel</i>.setText( <i>theTuttle</i>.<i>getDetails</i>());
0189        <i>feedbackPanel</i>.doLayout();
0190     } // End <i>feedback</i>.
</font></pre>

<p>The <font size="2" face="Arial"><i>feedback()</i></font>
method obtains the information it needs by calling <font size="2"
face="Arial"><i>theTuttle</i></font>'s <font size="2"
face="Arial"><i>getDetails()</i></font> method and installs this <font
size="2" face="Arial">String</font> into the <font size="2"
face="Arial"><i>feedbackLabel</i></font>, calling the <font
size="2" face="Arial"><i>feedbackPanel</i></font>'s <font
size="2" face="Arial">doLayout()</font> method to ensure that the
size of the <font size="2" face="Arial">Label</font> is changed,
if necessary.</p>

<p>All <font size="2" face="Arial">ActionEvents</font> generated
by the <font size="2" face="Arial">Button</font>s are sent to the
<font size="2" face="Arial"><i>actionPerformed()</i></font>
method, which extracts the <font size="2" face="Arial"><i>commandString</i></font>
from it and calls the appropriate <font size="2" face="Arial"><i>Tuttle</i></font>
method with the required argument, if any, as follows. As
indicated in the implementation a movement, forwards or
backwards, is limited to 25 <font size="2" face="Arial"><i>tuttle</i></font>
steps and a turn, right or left, to 30 degrees. This limitation
will be addressed in the chapters which follow. </p>

<pre><font size="3">0129     <b>public void</b> <i>actionPerformed</i>( ActionEvent <i>event</i>) { 
0130     
0131     String <i>itsCommand</i> = <i>event</i>.getActionCommand();
0132     
0133        <b>if</b> ( <i>itsCommand</i>.equals(&quot;Fwd&quot;)) { 
0134           <i>theTuttle</i>.<i>forward</i>( 25);
0135        } <b>else if</b> ( <i>itsCommand</i>.equals(&quot;Bwd&quot;)) { 
0136           <i>theTuttle.backward</i>( 25);
0137        } <b>else if</b> ( <i>itsCommand</i>.equals(&quot;Rtn&quot;)) { 
0138           <i>theTuttle.turnRight</i>( 30);

<b>----           // Other branches omitted!

</b>0176        } <b>else if</b> ( <i>itsCommand</i>.equals(&quot;Pup&quot;)) { 
0177           <i>theTuttle</i>.<i>setPenUp</i>();
0178        } // End if. 
0179             
0180        <b>this</b>.<i>feedback</i>();
0181     } // End <i>actionPerformed</i>.</font></pre>

<p>Pressing all of the buttons at the bottom of the interface
will ensure that each of the methods which the <font size="2"
face="Arial"><i>Tuttle</i></font> class offers is called at least
once, thus producing an initial confidence that the <font
size="2" face="Arial"><i>Tuttle</i></font> class seems to be
working correctly.</p>

<p>&nbsp;</p>

<hr>

<blockquote>
    <p><a href="tuttletest.java"><font size="5"><img
    src="list.gif" align="middle" border="0" width="40"
    height="35"> TuttleTest.java</font></a></p>
    <p><a href="tuttletest.html"><font size="5"><img
    src="run.gif" align="absmiddle" border="0" width="40"
    height="27"> TuttleTest</font></a></p>
</blockquote>

<hr>

<blockquote>
    <p><a href="ch4sum.html"><font size="5"><img src="next.gif"
    align="middle" border="0" width="50" height="40"><b>Summary
    of Chapter 4</b></font></a></p>
    <p><a href="ch44.html"><font size="4"><img src="last.gif"
    align="middle" border="0" width="50" height="40"></font><font
    size="5">4.4 The </font><font size="5" face="Arial"><i>TuttleCursor</i></font><font
    size="5"> class</font></a></p>
</blockquote>

<hr>
</body>
</html>
