<html>

<head><meta http-equiv="pragma" content="no-cache">

<meta NAME="GENERATOR" CONTENT="Internet Assistant for Microsoft Word 2.0z">
<title>13.4 Iterator classes</title>

</head>

<body BGCOLOR="WHITE">

<h2>13.4 Iterator classes<br>
</h2>

<p>
The problem with the show list option, noted in the previous section,
could be solved by a definite iteration which obtains each element
in turn from the <font FACE="Arial">Vector</font> using
the <i><font FACE="Arial">elementAt()</font></i> action
and outputting it, preceded by its location. For example.<br>

<pre>
<font>0116    <b>static private void</b> <i>showOption</i>( Vector <i>aList</i>) { 
0117       
0118    <b>int</b>         <i>thisElement</i>;
0119    <i>EmailPerson</i> <i>fromList</i>;
0120   
0121       <b>for</b>( <i>thisElement</i> = 0; <i>thisElement</i> &lt; <i>aList</i>.size(); <i>thisElement</i>++){
0122          <i>fromList</i> = (<i>EmailPerson</i>) <i>aList</i>.elementAt( <i>thisElement</i>);
0123          System.out.println( (<i>thisElement</i> + 1) + &quot;  &quot; + <i>fromList</i>);       
1024       } // End for.         
1025   } // End <i>showOption</i>.<br>
</font>
</pre>

<p>
As the elements within the Vector are indexed from location 0
but have to be presented to the user indexed from location1, the
value of the loop index is incremented, on line 0123, as it is
output. Using the illustrative data above, this action would produce
the following output.<br>

<p>
<hr>
<ul>
<pre>
<font>1  E-mail fred@bedrock.quarry.com Name : Fred Flintstone  Phone : 111-222-3333
2  E-mail barney@bedrock.quarry.com Name : Barney Rubble  Phone : 222-333-4444</font>
</pre>
</ul>
<hr>

<p>
However, for some data structures, obtaining each element in sequence
in this manner is not possible or not appropriate, so Java supplies
a iterator facility called <font FACE="Arial">Enumeration</font>
which can be used to traverse a structure. One advantage of using
an iterator is that the precise data structure being used to implement
the iterative storage becomes irrelevant so long as it can supply
an <font FACE="Arial">Enumeration</font> object. So if
the <font FACE="Arial">Vector</font> in this example were
at some time during maintenance replaced by some other type of
storage the <i><font FACE="Arial">showOption()</font></i>
action above would be broken. However by using an <font FACE="Arial">Enumeration</font>
object, as will be illustrated below, it will still work so long
as the new data structure class supplies an action called <font FACE="Arial">elements()</font>
which returns an instance of an <font FACE="Arial">Enumeration</font>
class.<br>

<p>
The <font FACE="Arial">Enumeration</font> facility is defined
as an <i><b>interface</b></i>, not as a <i><b>class</b></i>, a
concept which will be fully explained in the next chapter. A class
which complies with the Enumeration interface must supply two
actions, a <b><font FACE="Arial">boolean</font></b> <font FACE="Arial">hasMoreElements()</font>
action which returns true as long as there are more elements to
iterate through and a <font FACE="Arial">nextElement()</font>
action which returns the next <font FACE="Arial">Object</font>
in sequence from the structure. The first call of the <font FACE="Arial">nextElements()</font>
action of a newly constructed <font FACE="Arial">Enumeration</font>
object will return the first element from the structure, or throw
a <font FACE="Arial">NoSuchElementException</font> if the
structure is empty. Each subsequent call will return the next
element from the structure, or throw the exception if all elements
have already been obtained.<br>

<p>
The <font FACE="Arial">Vector</font> class supplies an
<font FACE="Arial">elements()</font> action which returns
an <font FACE="Arial">Enumeration</font> object, allowing
the <i><font FACE="Arial">showOption</font></i> action
of the <i><font FACE="Arial">ContactList</font></i> application
to be implemented for a third time, assuming that the <font FACE="Arial">java.util.Elements</font>
interface has been imported, as follows.<br>

<pre>
<font>0116    <b>static private void</b> <i>showOption</i>( Vector <i>aList</i>) {  
0117   
0118    <b>int</b>         <i>thisElement</i> = 1;
0119    <i>EmailPerson</i> <i>fromList</i>;
0120    Enumeration <i>contacts</i>    = <i>aList</i>.elements();
0121   
0122      <b>while</b>( <i>contacts</i>.hasMoreElements()) { 
0123         <i>fromList</i> = (<i>EmailPerson</i>) <i>contacts</i>.nextElement();      
0124         System.out.println( <i>thisElement</i> + &quot;  &quot; + <i>fromList</i>);       
0125      } // End while;   
0126   } // End showOption.    <br>
</font>
</pre>

<p>
The <font FACE="Arial">Enumeration</font> object, called
<i><font FACE="Arial">contacts</font></i>, is obtained
on line 0120 from the <font FACE="Arial">Vector</font>
<i><font FACE="Arial">aList</font></i> using its <font FACE="Arial">elements()</font>
action. The <i><font FACE="Arial">hasMoreElements()</font></i>
action of this object is then used to control an indefinite iteration
on lines 0122 to 0126 within which the <i><font FACE="Arial">nextElement()</font></i>
is obtained from the <i><font FACE="Arial">contacts</font></i>
object on line 0123 and output on line 0125. The output from this
action would be identical to that produced by the previous version.
<br>
<br>
<p>
<hr>
<h2>
<ul>

<a HREF="chap13p5.html" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter13/chap13p5.html"><img SRC="..\next.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/next.gif" ALIGN="MIDDLE" BORDER="0" WIDTH="50" HEIGHT="40">
13.5 Hashtables</a>.
<p>
<a HREF="chap13p3.html" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter13/chap13p3.html"><img SRC="..\last.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/last.gif" ALIGN="MIDDLE" BORDER="0" WIDTH="50" HEIGHT="40">
13.3 Vectors</a>.
<p>
</ul>
</h2>
<hr>
</body>

</html>
&#26;