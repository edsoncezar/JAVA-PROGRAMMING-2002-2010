<html>

<head><meta http-equiv="pragma" content="no-cache">

<meta NAME="GENERATOR" CONTENT="Internet Assistant for Microsoft Word 2.0z">
<title>13.2 Ragged arrays</title>

</head>

<body BGCOLOR="WHITE">

<h2>13.2 Ragged arrays<br>
</h2>

<p>
The two dimensional array illustrated in the previous section
was a regular array; that is, all of the component arrays which
form its second dimension had exactly the same length. This is
not always appropriate; for example a salary structure may have
two grades, A and B, with a different number of points on each
grade. An example is given in Figure 13.2.a).<br>

<p>
<center><img SRC="c13p2i1.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter13/c13p2i1.gif" WIDTH="712" HEIGHT="137">
</center>


<p>
<center><font>Figure 13 a and b. Lecturers' salaries and
data structure diagram.<br>
</font></center>

<p>
The data structure diagram for this table cannot indicate the
size of a grade as the Lecturer A grade has four points but the
Lecturer B grade has only two points. A class to implement this
data structure is as follows. <br>

<pre>
<font>0001  // Filename <i>RaggedArray.java</i>.
0002  // Illustrates the construction and use of a 
0003  // two dimensional ragged array.
0004  //
0005  // Written for JFL Book Chapter 13.
0006  // Fintan Culwin, V 0.1, Jan 1997.
0007  
0008  <b>class</b> <i>RaggedArray</i> {  
0009  
0010  <b>private int</b> <i>salaries</i>[][];
0011  
0012     <b>public</b> <i>RaggedArray</i>() { 
0013     
0014        <i>salaries</i> = <b>new int</b>[ 2] [];
0015        
0016        <i>salaries</i>[ 0] = <b>new int</b>[ 4];
0017        <i>salaries</i>[ 0] [ 0] = 12345;  <i>salaries</i>[ 0] [ 1] = 23456;
0018        <i>salaries</i>[ 0] [ 2] = 34567;  <i>salaries</i>[ 0] [ 3] = 45678;
0019        
0020        <i>salaries</i>[ 1] = <b>new int</b>[ 2];
0021        <i>salaries</i>[ 1] [ 0] = 56789;  <i>salaries</i>[ 1] [ 1] = 67890;
0022     } // End <i>RaggedArray</i> default constructor.
0023  
0024  
0025     <b>public</b> String <i>toString</i>() {  
0026     
0027     StringBuffer    <i>theBuffer</i> = <b>new</b> StringBuffer();
0028     <b>int</b> <i>thisIndex</i>, <i>anotherIndex</i>;
0029     
0030        <b>for</b> ( <i>thisIndex</i> = 0; 
0031              <i>thisIndex</i> &lt; <i>salaries</i>.length;
0032              <i>thisIndex</i>++) { 
0033           <b>for</b>( <i>anotherIndex</i> = 0;
0034                <i>anotherIndex</i> &lt; <i>salaries</i>[ <i>thisIndex</i>].length;
0035                <i>anotherIndex</i>++) { 
0036              <i>theBuffer</i>.append( Integer.toString( 
0037                                   <i>salaries</i>[ <i>thisIndex</i>] [ <i>anotherIndex</i>]) + 
0038                                   &quot;    &quot;); 
0039           } // End for <i>anotherIndex</i>.
0040           <i>theBuffer</i>.append(&quot;\n&quot;);
0041        } // End for <i>thisIndex</i>.
0042        <b>return</b> <i>theBuffer</i>.toString();
0043     } // End <i>toString</i>.   
0044     
0045  } // End class <i>RaggedArray</i>.<br>
</font>
</pre>

<p>
Line 0010 again declares a two dimensional array of <b><font FACE="Arial">int</font></b>eger
values, this time called <i><font FACE="Arial">salaries</font></i>,
without actually intitialising the bounds of the dimensions. Within
the constructor, on line 0014, the bounds of the first dimension
are established. The phrase <b><font FACE="Arial">new&nbsp;int</font></b><font FACE="Arial">&nbsp;[&nbsp;2]&nbsp;[]</font>
states that there are two elements in the first dimension but
does not initialise the bounds of either. This is accomplished
on lines 0016 and 0020. For example, the phrase <i><font FACE="Arial">salaries</font></i><font FACE="Arial">[&nbsp;0]&nbsp;=&nbsp;<b>new</b>&nbsp;<b>int</b>[&nbsp;4]</font>
on line 0016, declares that the zeroeth element of the first dimension
of the array is itself a four element single dimensional array
of <b><font FACE="Arial">int</font></b>s.<br>

<p>
As the bounds of the array are not as clearly established in this
example, the length attribute of the arrays is used on lines 0031
and 0034 to determine the number of times that each of the loops
will iterate. The phrase on line 0031, <i><font FACE="Arial">salaries</font></i><font FACE="Arial">.length</font>,
determines the number of elements in the first dimension of the
array, in this example 2. On each iteration of this array the
phrase on line 0034, <i><font FACE="Arial">salaries</font></i><font FACE="Arial">[&nbsp;<i>thisIndex</i>].length</font>,
will determine the number of elements in each component array.
In this example it will be evaluated twice, firstly with <i><font FACE="Arial">thisIndex</font></i>
having the value 0 and will evaluate to 4, and secondly with <i><font FACE="Arial">thisIndex</font></i>
having the value 1 and evaluating to 2. <br>

<p>
The output of a demonstration test harness is illustrated below.
As with the <i><font FACE="Arial">QuarterlySales</font></i>
example above the implementation of the harness and the formatting
of the table will be left as an end of chapter exercise.

<p>
<hr>
<pre>
<ul>
<font>        Creating and outputting a RaggedArray instance ...

  12345    23456    34567    45678
  56789    67890<br>
<br>
</font>
</ul>
</pre>

<p>
<hr>
<h2>
<ul>
<a HREF="raggedarray.java" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter13/RaggedArray.java"><img SRC="..\list.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/list.gif" ALIGN="MIDDLE" BORDER="0" WIDTH="40" HEIGHT="35">
<i>RaggedArray.java</i> source code</a>.
<p>
<a HREF="raggedarraydemonstration.java" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter13/RaggedArrayDemonstration.java"><img SRC="..\list.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/list.gif" ALIGN="MIDDLE" BORDER="0" WIDTH="40" HEIGHT="35">
<i>RaggedArrayDemonstration.java</i> source code</a>.
<p>
<a HREF="chap13p3.html" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter13/chap13p3.html"><img SRC="..\next.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/next.gif" ALIGN="MIDDLE" BORDER="0" WIDTH="50" HEIGHT="40">
13.3 Vectors</a>.
<p>
<a HREF="chap13p1.html" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter13/chap13p1.html"><img SRC="..\last.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/last.gif" ALIGN="MIDDLE" BORDER="0" WIDTH="50" HEIGHT="40">
13.1 Two dimensional arrays</a>.
<p>
</ul>
</h2>
<hr>

</body>

</html>
&#26;