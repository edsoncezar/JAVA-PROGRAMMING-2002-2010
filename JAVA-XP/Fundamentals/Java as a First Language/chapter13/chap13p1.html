<html>

<head><meta http-equiv="pragma" content="no-cache">

<meta NAME="GENERATOR" CONTENT="Internet Assistant for Microsoft Word 2.0z">
<title>13.1 Two dimensional arrays</title>

</head>

<body BGCOLOR="WHITE">

<h2>13.1 Two dimensional arrays<br>
</h2>

<p>
Arrays were first introduced in Chapter 6 and were revisited in
the previous chapter. All array examples used so far have been
<i><b>one&nbsp;dimensional&nbsp;arrays</b></i>, that is they have
been an single iteration of data elements. It is also possible,
and for many requirements essential, to use arrays of two or more
dimensions. For example a commercial organisation may have three
different offices and require each office to return its quarterly
sales figures. This information would commonly be displayed as
a table, as illustrated in Figure 13.1.a. <br>

<p>
<center><font><img SRC="c13p1i1.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter13/c13p1i1.gif" WIDTH="731" HEIGHT="139"></center>
<p>

<center><font>Figure 13 a and b. Quarterly sales table
and data structure diagram.<br>
</font></center>
<p>
In order to represent this requirement elegantly an array of three
offices, each element of which is itself an array of four elements,
each of which is an integer value, would be appropriate. Such
a structure is known as a <i><b>two dimensional array</b></i>
and consists of an array whose component elements are themselves
arrays. The data structure diagram of the <i>SalesReturns</i>
structure is shown in Figure 13.1.b. The implementation of a class,
called <i><font FACE="Arial">QuarterlySales</font></i>,
to illustrate this example as far as the end of its constructor
is as follows. <br>

<pre>
<font>0001  // Filename <i>QuarterlySales.java</i>.
0002  // Illustrates the construction and use of a 
0003  // two dimensional array.
0004  //
0005  // Written for JFL Book Chapter 13.
0006  // Fintan Culwin, V 0.1, Jan 1997.
0007  
0008  <b>import</b> java.util.Random;
0009  <b>import</b> java.util.Date;
0010  
0011  <b>class</b> <i>QuarterlySales</i> {  
0012  
0013  <b>private static int</b> <i>NUMBER_OF_OFFICES</i>  = 3;
0014  <b>private static int</b> <i>NUMBER_OF_QUARTERS</i> = 4;
0015  
0016  <b>private int</b> <i>salesReturns</i>[][] = 
0017              <b>new int</b> [ <i>NUMBER_OF_OFFICES</i>] [ <i>NUMBER_OF_QUARTERS</i>];
0018  
0019  <b>private</b> Random <i>generator</i> = <b>new</b> Random( <b>new</b> Date().getTime()); 
0020  
0021     <b>public</b> <i>QuarterlySales</i>() { 
0022     
0023     <b>int</b> <i>thisOffice</i>, <i>thisQuarter</i>;
0024     
0025        <b>for</b>( <i>thisOffice</i> = 0; 
0026             <i>thisOffice</i> &lt; <i>NUMBER_OF_OFFICES</i>; 
0027             <i>thisOffice</i>++) { 
0028           <b>for</b>( <i>thisQuarter</i> = 0; 
0029                <i>thisQuarter</i> &lt; NUMBER_OF_QUARTERS; 
0030                <i>thisQuarter</i>++) { 
0031              <i>salesReturns</i>[ <i>thisOffice</i>] [ <i>thisQuarter</i>] = 2000 + 
0032                                  (<b>int</b>) (<i>generator</i>.nextDouble() * 5000.0);
0033           } // End for <i>thisQuarter</i>.
0034        } // End for <i>thisOffice</i>.
0035     } // End <i>QuarterlySales</i> default constructor.<br>
</font>
</pre>

<p>
On line 0016 The phrase <b><font FACE="Arial">int</font></b><font FACE="Arial">
<i>salesReturns</i>[][] </font>declares a two dimensional array
of <b><font FACE="Arial">int</font></b>eger values. However,
as with one dimensional arrays, this merely states that it is
a two dimensional array; it does not actually construct the array.
This is accomplished on line 0017 where the phrase <b><font FACE="Arial">new
int</font></b><font FACE="Arial"> [ <i>NUMBER_OF_OFFICES</i>]
[ <i>NUMBER_OF_QUARTERS</i>];</font> constructs a new two dimensional
array with its bounds initialised as stated, effectively 3 and
4. The constructor then, on lines 0025 to 0034, by means of a
double definite iteration, places a random <b><font FACE="Arial">int</font></b>eger
value into each element of the array. <br>

<p>
When this double loop iterates the outer loop index, <i><font FACE="Arial">thisOffice</font></i>,
will take the successive values 0, 1, 2. On each iteration of
this loop the inner loop index, <i><font FACE="Arial">thisQuarter</font></i>,
will take the values 0, 1, 2, 3. The effect is that the body of
the inner loop, on lines 0031 and 0032, will be executed 12 times
with the two indexes having the pattern of values [&nbsp;0]&nbsp;[&nbsp;0],
[&nbsp;0]&nbsp;[&nbsp;1], [&nbsp;0]&nbsp;[&nbsp;2], [&nbsp;1]&nbsp;[&nbsp;0],
[&nbsp;1]&nbsp;[&nbsp;1], &#133; etc. &#133; [&nbsp;2]&nbsp;[&nbsp;2],
[&nbsp;2]&nbsp;[&nbsp;3]. As with one dimensional arrays the first
element of each dimension of the array is in the zeroeth index
location, so this pattern of indexes will ensure that each element
is visited in turn.<br>

<p>
This can be confirmed by the only other action of the package,
a <i><font FACE="Arial">toString()</font></i> action, which
has a similar loop structure. The design of this action is as
follows. <br>

<p>
<center><img SRC="c13p1i2.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter13/c13p1i2.gif" WIDTH="615" HEIGHT="499">
</center>
<p>
The sales figures from each office are to appear on its own line
so the design indicates that each time an office is considered
a line containing its sales figures is prepared. This is accomplished
by appending each quarter's sales figure to a string buffer. Once
a complete line has been added to the buffer it is terminated
in order that the next line, if any, starts on a new line. The
implementation of this design is as follows. <br>

<pre>
<font>0038     <b>public</b> String <i>toString</i>() {  
0039     
0040     StringBuffer    <i>theBuffer</i> = <b>new</b> StringBuffer();
0041     <b>int</b> <i>thisOffice</i>, <i>thisQuarter</i>;
0042     
0043        <b>for</b>( <i>thisOffice</i> = 0; 
0044             <i>thisOffice</i> &lt; <i>NUMBER_OF_OFFICES</i>; 
0045             <i>thisOffice</i>++) { 
0046           <b>for</b>( <i>thisQuarter</i> = 0; 
0047                <i>thisQuarter</i> &lt; <i>NUMBER_OF_QUARTERS</i>; 
0048                <i>thisQuarter</i>++) {
0049              <i>theBuffer</i>.append( Integer.toString( 
0050                                   <i>sales</i>[ <i>thisOffice</i>] [ <i>thisQuarter</i>]) + 
0051                                   &quot;    &quot;); 
0052           } // End for <i>thisQuarter</i>.
0053           <i>theBuffer</i>.append(&quot;\n&quot;);
0054        } // End for <i>thisOffice</i>.   
0055        <b>return</b> <i>theBuffer</i>.toString();
0056     } // End <i>toString</i>.   
0057     
0058  } // End class <i>QuarterlySales</i>;<br>
</font>
</pre>

<p>
The demonstration test harness for this class merely creates an
instance of <i><font FACE="Arial">QuarterlySales</font></i>
and subsequently outputs it to the screen. An illustrative run
of this harness produced the following output.

<p>
<hr>
<pre>
<ul>
<font>     Creating and outputting a QuarterlySales instance ...

  6768    6318    6337    3525
  4832    6942    6525    5248
  5957    2689    3328    2217</font>
</pre>
</ul>
<hr>

<p>
The implementation of a suitable demonstration harness and the
upgrading of the <i><font FACE="Arial">toString()</font></i>
action to produce table titles, as shown in figure 13.1.a, will
be left as an end of chapter exercise.<br>
<br>


<p>
<hr>
<h2>
<ul>
<a HREF="quarterlysales.java" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter13/QuarterlySales.java"><img SRC="..\list.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/list.gif" ALIGN="MIDDLE" BORDER="0" WIDTH="40" HEIGHT="35">
<i>QuarterlySales.java</i> source code</a>.
<p>
<a HREF="quarterlysalesdemonstration.java" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter13/QuarterlySalesDemonstration.java"><img SRC="..\list.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/list.gif" ALIGN="MIDDLE" BORDER="0" WIDTH="40" HEIGHT="35">
<i>QuarterlySalesDemonstration.java</i> source code</a>.
<p>
<a HREF="chap13p2.html" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter13/chap13p2.html"><img SRC="..\next.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/next.gif" ALIGN="MIDDLE" BORDER="0" WIDTH="50" HEIGHT="40">
13.2 Ragged arrays</a>.
<p>
<a HREF="chap13.html" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter13/chap13.html"><img SRC="..\last.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/last.gif" ALIGN="MIDDLE" BORDER="0" WIDTH="50" HEIGHT="40">
Chapter 13 Standard Iterative Data Structures</a>.
<p>
</ul>
</h2>
<hr>

</body>

</html>
&#26;