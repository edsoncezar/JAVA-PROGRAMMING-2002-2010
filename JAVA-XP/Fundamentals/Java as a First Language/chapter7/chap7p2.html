<html>

<head><meta http-equiv="pragma" content="no-cache">

<meta NAME="GENERATOR" CONTENT="Internet Assistant for Microsoft Word 2.0z">
<title>7.2 The enableMenuOption(), disableMenuOption()
and showMenu() actions</title>

</head>

<body BGCOLOR="WHITE">

<h2>7.2 The <i>enableMenuOption</i>(), <i>disableMenuOption</i>()
and <i>showMenu</i>() actions<br>
</h2>

<p>
The implementation of the <i>enableMenuOption</i>() and <i>disableMenuOption()
</i>actions is straightforward, setting the corresponding value
of the <i>inUse</i> array to true or false respectively. The implementation
of these two actions is as follows. <br>

<pre>
0025   <b>public void</b> <i>enableMenuOption</i>( <b>int</b> <i>toEnable</i>){ 
0026      <i>inUse</i>[ <i>toEnable</i>] = <b>true</b>;
0027   } // end fun <i>enableMenuOption</i>.
0028 
0029   <b>public void</b> <i>disableMenuOption</i>( <b>int</b> <i>toDisable</i>){ 
0030      <i>inUse</i>[ <i>toDisable</i>] = <b>false</b>;
0031   } // end fun <i>enableMenuOption</i>.
</pre>

<p>
The <i>showMenu</i>() action has to display only the active menu
options, each preceded by a consecutive menu key. For example
if an instance of the <i>AdaptingMenu</i> class has the state
as shown in Figure 7.3, the menu presented to the user should
be as follows. <br>

<p>
<center><img SRC="c7p2i1.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter7/c7p2i1.gif" WIDTH="734" HEIGHT="180"></center>
<p>
<center>Figure 7.3. Example state of the attributes
of an <i>AdaptingMenu</i> instance</center>
<hr>

<pre>
                 Adapting Menu Demonstration 

       A First choice.
       B Third choice.

       Please enter your choice :
</pre>

<hr>

<p>
Figure 7.3 also illustrates the required state of the <i><font SIZE="2" FACE="Arial">optionKey</font></i>
array and the <i><font SIZE="2" FACE="Arial">minimumOption</font></i>
and <i><font SIZE="2" FACE="Arial">maximumOption</font></i> attributes
after the <i><font SIZE="2" FACE="Arial">showMenu</font></i>() action
has completed. The <i><font SIZE="2" FACE="Arial">optionKey</font></i>
array indicates which character is currently associated with each
menu option, or a space if the option is not in use. As with the
<i><font SIZE="2" FACE="Arial">BasicMenu</font></i> class the <i><font SIZE="2" FACE="Arial">minimumValidOption</font></i>
and <i><font SIZE="2" FACE="Arial">maximumValidOption</font></i>
attributes delineate the range of acceptable responses to the
menu. It is the responsibility of the <i><font SIZE="2" FACE="Arial">showMenu</font></i>()
action to ensure that these attributes are placed into this well
defined state. The design of the <i><font SIZE="2" FACE="Arial">showMenu</font></i>()
action is as follows. <br>

<p>
<center><img SRC="c7p2i2.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter7/c7p2i2.gif" WIDTH="683" HEIGHT="483"></center>
<p>
The basis of the design is first to set the <i><font SIZE="2" FACE="Arial">minimumOption</font></i>
to the value of a local variable called <i><font SIZE="2" FACE="Arial">thisOption</font></i>
and to call the <i><font SIZE="2" FACE="Arial">showTitle</font></i>()
action. Each menu option is then considered in turn and if it
is not currently in use the corresponding entry in the <i><font SIZE="2" FACE="Arial">optionKey</font></i>
array is set to a space. Otherwise the option must be in use and
it is output with a call to <i><font SIZE="2" FACE="Arial">showMenuLine</font></i>()
passing the value of <i><font SIZE="2" FACE="Arial">thisOption</font></i>
and the loop index <i><font SIZE="2" FACE="Arial">thisOne</font></i>
as arguments. The <i><font SIZE="2" FACE="Arial">optionKey</font></i>
entry is then set to the value of <i><font SIZE="2" FACE="Arial">thisOption</font></i>
before the value of <i><font SIZE="2" FACE="Arial">thisOption</font></i>
is incremented. The final action of <i><font SIZE="2" FACE="Arial">showMenu</font></i>()
is to set the <i><font SIZE="2" FACE="Arial">maximumOption</font></i>.
The implementation of this design is as follows.<br>

<pre>
0054   <b>private void</b> <i>showMenu</i>() {
0055    
0056   <b>int</b>  <i>thisOne</i>;
0057   <b>char</b> <i>thisOption</i> = 'A'; 
0058 
0059      <i>setMinimumOption</i>( <i>thisOption</i>);
0060 
0061      <i>showTitle</i>();
0062      
0063      System.out.println();
0064      <b>for</b> (<i>thisOne</i> = 0; 
0065           <i>thisOne</i> &lt; <i>optionKey</i>.length;
0066           <i>thisOne</i> ++  ) {
0067          <b>if</b> ( ! <i>inUse</i>[<i>thisOne</i>]) {  
0068             <i>optionKey</i>[ <i>thisOne</i>] = ' ';  
0069          } <b>else</b> { 
0070             <i>showMenuLine</i>( <i>thisOption</i>, <i>thisOne</i>);
0071             <i>optionKey</i>[ <i>thisOne</i>] = <i>thisOption</i>;
0072             <i>thisOption</i>++; 
0073          } // End if.
0074      } // End for.
0075      <i>setMaximumOption</i>( --<i>thisOption</i>); 
0076   } // End <i>showMenu</i>.      
</pre>

<p>
The key to this design is the relationship between <i><font SIZE="2" FACE="Arial">thisOption</font></i>
and <i><font SIZE="2" FACE="Arial">thisOne</font></i>. <i><font SIZE="2" FACE="Arial">ThisOption</font></i>
is only incremented whenever an option is output and so the menu
is presented with a continuous range of menu keys ('A',&nbsp;'B''&nbsp;'C'&nbsp;etc.).
The variable <i>thisOne</i> is the loop index and so it is incremented
on every iteration. Thus the values of <i><font SIZE="2" FACE="Arial">thisOption</font></i>
and <i><font SIZE="2" FACE="Arial">thisOne</font></i> will not always
both be incremented on every iteration.<br>
<br>


<p>
<hr>
<h2>
<ul>
<a HREF="chap7p3.html" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter7/chap7p3.html"><img SRC="..\next.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/next.gif" ALIGN="MIDDLE" BORDER="0" WIDTH="50" HEIGHT="40">
7.3 The <i>offerMenuAsInt</i>() action</a>.
<p>
<a HREF="chap7p1.html" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter7/chap7p1.html"><img SRC="..\last.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/last.gif" ALIGN="MIDDLE" BORDER="0" WIDTH="50" HEIGHT="40">
7.1 The <i>AdaptingMenu</i> class diagram, data attributes and constructor</a>.
</ul>
</h2>
<hr>
</body>

</html>
&#26;