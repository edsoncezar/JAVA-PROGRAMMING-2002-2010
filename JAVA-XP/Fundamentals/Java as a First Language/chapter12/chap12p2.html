<html>

<head><meta http-equiv="pragma" content="no-cache">

<meta NAME="GENERATOR" CONTENT="Internet Assistant for Microsoft Word 2.0z">
<title>12.2 The type application</title>

</head>

<body BGCOLOR="WHITE">

<h2>12.2 The <i>type</i> application<br>
</h2>

<p>
A small refinement to the <i><font FACE="Arial">TrivialFileDemo</font></i>
program will allow it to output the contents of any file specified
on the command line to be output. The changes to the design are
as follows. <br>

<p>
<center><img SRC="c12p2i1.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter12/c12p2i1.gif" WIDTH="619" HEIGHT="312">
</center>
<p>
The parts of the design below the <i>process&nbsp;stream</i> stage
is essentially identical to that of the <i>TrivialFileDemo</i>
given above. Before this a check is made upon the number of command
line arguments and, if other than a single argument is present
advice on the correct operation of the program is given before
the program <i><b>abends</b></i>. An abend is an <i><b>ab</b></i>orted
<i><b>end</b></i>ing of a program and is commonly used in situations
like this where an initial check indicates that the program cannot
continue. It should never be used in other situations, for example
to abend in the middle of a program. The implementation of this
design as far as the end of the <i>check&nbsp;command&nbsp;line&nbsp;arguments</i>
stage is as follows. <br>

<pre>
<font>0001  // Filename <i>Type.java</i>.
0002  // Read a text file named on the command line  
0003  // and output to the screen.
0004  //
0005  // Written for JFL Book Chapter 12.
0006  // Fintan Culwin, V 0.1, Jan 1997. 
0007  
0008  
0009  <b>import</b> java.io.*;
0010  
0011  <b>class</b> Type { 
0012   
0013      <b>public static void</b> <i>main</i>(String <i>args</i>[]) {
0014      
0015      DataInputStream  <i>inStream</i>;   
0016  
0017         <b>if</b> ( <i>args</i>.length != 1) { 
0018            System.out.println( 
0019               &quot;To use this utility you must give the name\n&quot; + 
0020               &quot;of a single file which you want output.\n&quot; + 
0021               &quot;You do not seem to have done this. \n\n&quot;);
0022               System.exit( -1);
0023         } // End if.
0024      <br>
</font>
</pre>

<p>
On line 0017 the <font FACE="Arial">length</font> attribute
of the <i><font FACE="Arial">args</font></i><font FACE="Arial">[]</font>
array is tested and if this indicates that a single argument has
not been supplied, which might be no arguments or more than one
argument, the advice on lines 0019 to 0021 is given to the user.
On line 0022 the <font FACE="Arial">System.exit()</font>
action is used to abend the program. The -1 argument to the action
indicates that the program finished due to an error, and can be
used by operating system batch scripts to take alternative actions
depending upon the success or failure of the program.<br>

<p>
The remaining parts of the implementation are essentially identical
to that of the <i><font FACE="Arial">TrivialFileDemo</font></i>,
with all references to the file &quot;test.txt&quot; replaced
with a reference to the first element in the <i><font FACE="Arial">args</font></i><font FACE="Arial">[]</font>
array. As was explained in Chapter 6 the first element in an array
is located at the zeroeth location, giving the following implementation.
<br>

<pre>
<font>0025         <b>try</b> { 
0026            <i>inStream</i>  = <b>new</b> DataInputStream( 
0027                                <b>new</b> FileInputStream( <i>args</i>[ 0]));
0028            
0029            <b>while</b> ( <i>inStream</i>.available() &gt; 0 ) { 
0030               System.out.println( <i>inStream</i>.readLine());
0031            } // end While.
0032            
0033            <i>inStream</i>.close(); 
0034         } <b>catch</b> ( java.io.IOException <i>exception</i>)  { 
0035            <b>if</b> ( <i>exception</i> <b>instanceof</b> FileNotFoundException) { 
0036               System.out.println( 
0037                   &quot;The file &quot; + <i>args</i>[ 0] + &quot; could not be found,\n&quot; +
0038                   &quot;or could not be opened.\n&quot;);
0039            } // End if.
0040         } // End try/ catch block.
0041      } // End main.
0042      
0043   } // End class <i>Type</i>.<br>
</font>
</pre>

<p>
This program can be demonstrated by executing it from the command
line with no arguments, with two arguments, with the name of a
file which does exist and with the name of a file which does not
exist.<br>
<br>


<p>
<hr>
<h2>
<ul>
<a HREF="type.java" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter12/Type.java"><img SRC="..\list.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/list.gif" ALIGN="MIDDLE" BORDER="0" WIDTH="40" HEIGHT="35">
<i>Type.java</i> source code</a>.
<p>
<a HREF="chap12p3.html" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter12/chap12p3.html"><img SRC="..\next.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/next.gif" ALIGN="MIDDLE" BORDER="0" WIDTH="50" HEIGHT="40">
12.3 An output file stream</a>.
<p>
<a HREF="chap12p1.html" tppabs="http://www.scism.sbu.ac.uk/jfl/Chapter12/chap12p1.html"><img SRC="..\last.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/last.gif" ALIGN="MIDDLE" BORDER="0" WIDTH="50" HEIGHT="40">
12.1 An initial example</a>.
</ul>
</h2>
<hr>
</body>

</html>
&#26;