<html>
<head><meta http-equiv="pragma" content="no-cache">
<title>The MonthPanel class - reConfigure() and dayIs() actions</title>
</head>
<body BGCOLOR="WHITE">
<a HREF="datep15.html" tppabs="http://www.scism.sbu.ac.uk/jfl/hci97/afternoon/datep15.html"><img SRC="last.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/hci97/afternoon/last.gif" ALIGN="LEFT" border="0" WIDTH="32" HEIGHT="26"></a>
<a HREF="datep17.html" tppabs="http://www.scism.sbu.ac.uk/jfl/hci97/afternoon/datep17.html"><img SRC="next.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/hci97/afternoon/next.gif" ALIGN="RIGHT" border="0" WIDTH="32" HEIGHT="26"></a>
<br CLEAR="ALL">
<hr>
<center><h1>The <i>MonthPanel</i> class -<br>
 <i>reConfigure()</i> and <i>dayIs()</i> actions</h1></center>
<p>
<pre>
0052     <b>protected void</b> <i>reConfigure</i>( <b>int</b> <i>year</i>, <b>int</b> <i>month</i>, <b>int</b> <i>day</i>) { 
0053     
0054     <b>int</b> <i>maxDay</i>   = <i>DateUtility</i>.<i>daysThisMonthIs</i>(   <i>year</i>, <i>month</i>);
0055     <b>int</b> <i>startDay</i> = <i>DateUtility.firstDayOfMonthIs</i>( <i>year</i>, <i>month</i>);
0056  
0057     <b>int</b> <i>thisOne</i>;
0058  
0059        <i>theFirstBox</i> = <i>startDay</i>;
0060        <b>if</b> ( <i>day</i> &gt; <i>maxDay</i>) { 
0061           <i>day</i> = <i>maxDay</i>;
0062        } //End if.
0063  
0064        <i>dayBoxes</i>[ <i>highlighted</i>].<i>clearHighlight</i>();
0065  
0066        <b>for</b> ( <i>thisOne</i> = 0; <i>thisOne</i> &lt; <i>MAX_BOXES</i>; <i>thisOne</i>++) { 
0067           <b>if</b> ( (<i>thisOne</i> &lt;  <i>startDay</i>) ||
0068                (<i>thisOne</i> &gt;= (<i>startDay</i> + <i>maxDay</i>)) ){     
0069              <i>dayBoxes</i>[ <i>thisOne</i>].<i>setDayNumber</i>( 0);  
0070           } <b>else</b> {      
0071              <i>dayBoxes</i>[ <i>thisOne</i>].<i>setDayNumber</i>( <i>thisOne</i> - <i>startDay</i> +1);
0072           } // End if.    
0073           <i>dayBoxes</i>[ <i>thisOne</i>].repaint();
0074        } // End for.
0075        
0076        <i>dayBoxes</i>[ <i>theFirstBox</i> + <i>day</i> -1].<i>setHighlight</i>();
0077        <i>highlighted</i> = <i>theFirstBox</i> + <i>day</i> -1;       
0078     } // End <i>reConfigure</i>.
</pre>

<p>
<h3>
This action commences, on lines 0054 and 0055, by establishing
the maximum number of days in the <i>month</i>
and <i>year</i> requested and the offset
for the first day of the month. Lines 0060 to 0062 then ensure
that the day number requested is not greater than the maximum
for the month, and any existing highlight is cleared on line 0064.
</h3>

<p>
<h3>
The loop on lines 0066 to 0074 then effects the reconfiguration
by setting the <i>dayNumber</i>s of
the <i>dayBox</i>es as required, with
boxes at the start and end of the array possibly being set inactive
by having their <i>dayNumber</i> attribute
set to 0.
</h3>
<p>
<h3>
The final step of the action is to set and record the identity
of the <i>highlighted</i> box. The implementation
of the <i>dayIs()</i> action makes use
of this attribute as follows. 
</h3>
<p>
<pre>
0081     <b>protected int</b> <i>dayIs</i>(){ 
0082        <b>return</b> <i>highlighted</i> - <i>theFirstBox</i> +1;
0083     } // End <i>dayIs</i>;
</pre>


<p>
<hr>
<center><a HREF="contents.html" tppabs="http://www.scism.sbu.ac.uk/jfl/hci97/afternoon/contents.html"><img SRC="up.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/hci97/afternoon/up.gif" border="0" WIDTH="32" HEIGHT="40"></a></center>
<p>
<hr>
