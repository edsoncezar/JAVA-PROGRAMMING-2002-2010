<html>
<head><meta http-equiv="pragma" content="no-cache">
<title>The MessageCanvas class - header and constructor </title>
</head>
<body BGCOLOR="WHITE">
<a HREF="sn4.html" tppabs="http://www.scism.sbu.ac.uk/jfl/hci97/afternoon/sn4.html"><img SRC="last.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/hci97/afternoon/last.gif" ALIGN="LEFT" border="0" WIDTH="32" HEIGHT="26"></a>
<a HREF="sn5.html" tppabs="http://www.scism.sbu.ac.uk/jfl/hci97/afternoon/sn5.html"><img SRC="next.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/hci97/afternoon/next.gif" ALIGN="RIGHT" border="0" WIDTH="32" HEIGHT="26"></a>
<br CLEAR="ALL">
<hr>
<center><h1>The <i><font FACE="Arial">MessageCanvas</font></i> class -<br>
 header and constructor</h1></center>
<p>
<pre>
0001  // Filename <i>MessageCanvas.java</i>.
0002  // Provides a reusable centred multi-line label component.
0003  // 
0004  // Written for the JI book, first used in Chapter 3.
0005  // Fintan Culwin, v 0.2, August 1997.
0006  
0007  
0008  <b>import</b> java.awt.*;
0009  <b>import</b> java.awt.event.*;
0010  <b>import</b> java.util.StringTokenizer;
0011  
0012  
0013  <b>public class</b> <i>MessageCanvas</i> <b>extends</b> Canvas { 
0014  
0015  <b>private int</b>    <i>maximumWidth</i>   = 0;
0016  <b>private int</b>    <i>characterHeight</i>;
0017  <b>private</b> String <i>theMessage</i>[];
0018  
0019  
0020     <b>public</b> <i>MessageCanvas</i>( String <i>message</i>) { 
0021                              
0022     StringTokenizer <i>tokenizer</i>     = <b>new</b> StringTokenizer( <i>message</i>, &quot;\n&quot;);
0023     <b>int</b>             <i>numberOfLines</i> = <i>tokenizer</i>.countTokens();
0024     <b>int</b>             <i>index</i>; 
0025     
0026        <i>theMessage</i> = <b>new</b> String[ <i>numberOfLines</i>]; 
0027        <b>for</b> ( <i>index</i> =0; <i>index</i> &lt; <i>numberOfLines</i>; <i>index</i>++){ 
0028           <i>theMessage</i>[ <i>index</i>] = <b>new</b> ((String) <i>tokenizer</i>.nextToken()).trim();
0029        } // End for.      
0030     } // End <i>MessageCanvas</i> constructor.
</pre>
<p>
<h3>
The data attributes, on lines 0015 to 0017, are used to record the maximum width of the message when it is displayed and the height of each line of characters. The third is an array ([]) of Strings which will be used to store the message. 
</h3>
<h3>
An instance of the StringTokenizer class can be used to iteratively split a String into its constituent tokens. In this example, line 0022, declares an instance which will regard each line as a separate token. 
</h3>
<h3>
Arrays in Java have to explicitly constructed indicating the maximum number of elements which they will contain, as illustrated on line 0026. Having constructed a suitably sized array the loop on lines 0027 to 0029 copies each line from the <i>message </i>into an element of the array.
</h3>
<p>
<hr>
<center><a HREF="contents.html" tppabs="http://www.scism.sbu.ac.uk/jfl/hci97/afternoon/contents.html"><img SRC="up.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/hci97/afternoon/up.gif" border="0" WIDTH="32" HEIGHT="40"></a></center>
<p>
<hr>
