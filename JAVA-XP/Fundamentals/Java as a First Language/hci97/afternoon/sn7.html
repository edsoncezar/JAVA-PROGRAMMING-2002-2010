<html>
<head><meta http-equiv="pragma" content="no-cache">
<title>The MessageCanvas class - paint() action
</title>
</head>
<body BGCOLOR="WHITE">
<a HREF="sn6.html" tppabs="http://www.scism.sbu.ac.uk/jfl/hci97/afternoon/sn6.html"><img SRC="last.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/hci97/afternoon/last.gif" ALIGN="LEFT" border="0" WIDTH="32" HEIGHT="26"></a>
<a HREF="sn8.html" tppabs="http://www.scism.sbu.ac.uk/jfl/hci97/afternoon/sn8.html"><img SRC="next.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/hci97/afternoon/next.gif" ALIGN="RIGHT" border="0" WIDTH="32" HEIGHT="26"></a>
<br CLEAR="ALL">
<hr>
<center><h1>The <i><font FACE="Arial">MessageCanvas</font></i>
class -<br>  <i>paint()</i> action </h1></center>
<p>
<pre>
0066     <b>public void </b>paint( Graphics context) { 
0067     
0068     <b>int         </b><i>index</i>;
0069     <b>int         </b><i>leftOffset</i>;
0070     <b>int         </b><i>totalHeight</i> = <i>theMessage</i>.length * <i>characterHeight</i>;
0071     <b>int         </b><i>itsWidth</i>    = <b>this</b>.size().width;
0072     <b>int         </b><i>fromTop</i>     = ((<b>this</b>.size().height - <i>totalHeight</i>) /2) +
0073                               <i>characterHeight</i>/2; 
0074     FontMetrics <i>theMetrics  </i>= <b>this</b>.<i>getFontMetrics</i>( <b>this</b>.getFont());    
0075  
0076        <b>for </b>( <i>index </i>=0; <i>index </i><<i>theMessage</i>.length; <i>index</i>++){  
0077           <i>leftOffset </i>= ( <i>itsWidth </i>- <i>theMetrics</i>.stringWidth( 
0078                                                     <i>theMessage</i>[ <i>index</i>]))/2;
0079           <i>context</i>.drawString( <i>theMessage</i>[ <i>index</i>], 
0080                               <i>leftOffset</i>,<i> fromTop</i>);
0081           <i>fromTop</i>+=<i> characterHeight</i>;                     
0082        } // End for.                                     
0083     } // End paint.
</pre>
<p>
<h3>
The <i>paint() </i>action is called by the run time environment whenever
it needs the component to redraw its contents. It operates by iterating 
through the stored array of Strings rendering each centred within the available 
width and the entire <i>message </i>centred within the available height. 
</h3>
<p>
<h3>
This is possibly one of the simplest realistic developer declared classes 
which can be provided and illustrates the ease with which a component, 
pre-declared or developer-declared, can be extended. It need not consider 
actions and attributes for such things as the foreground and background 
colours or the font to be used, as these are inherited from the Canvas class. 
</h3>
<p>
<h3>
(This component is not completely foolproof. For example it is possible 
for the Font to be changed after <i>addNotify()</i> has completed and so the size 
as indicated by <i>getPreferredSize()</i> will be invalid.) 
A demonstration of this component will be supplied in the <i>StikNote </i>applet. 
</h3>

<p>





<p>
<hr>
<center><a HREF="contents.html" tppabs="http://www.scism.sbu.ac.uk/jfl/hci97/afternoon/contents.html"><img SRC="up.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/hci97/afternoon/up.gif" border="0" WIDTH="32" HEIGHT="40"></a></center>
<p>
<hr>
