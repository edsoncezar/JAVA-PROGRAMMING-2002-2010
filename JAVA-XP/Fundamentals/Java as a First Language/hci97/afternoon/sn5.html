<html>
<head><meta http-equiv="pragma" content="no-cache">
<title>The MessageCanvas class - addNotify() and setSizes() actions  
</title>
</head>
<body BGCOLOR="WHITE">
<a HREF="sn4.html" tppabs="http://www.scism.sbu.ac.uk/jfl/hci97/afternoon/sn4.html"><img SRC="last.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/hci97/afternoon/last.gif" ALIGN="LEFT" border="0" WIDTH="32" HEIGHT="26"></a>
<a HREF="sn6.html" tppabs="http://www.scism.sbu.ac.uk/jfl/hci97/afternoon/sn6.html"><img SRC="next.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/hci97/afternoon/next.gif" ALIGN="RIGHT" border="0" WIDTH="32" HEIGHT="26"></a>
<br CLEAR="ALL">
<hr>
<center><h1>The <i><font FACE="Arial">MessageCanvas</font></i>
class -<br> <i>addNotify()</i> and <i>setSizes()</i> actions</h1></center>
<p>
<pre>
0033     <b>public void</b> <i>addNotify</i>() { 
0034        <b>super</b>.addNotify();
0035        <b>this</b>.<i>setSizes</i>();       
0036     } // End <i>addNotify</i>.
0037  
0038  
0039     <b>private void</b> <i>setSizes</i>(){
0040     
0041     FontMetrics     <i>theMetrics</i> =<b>this</b>.getFontMetrics( <b>this</b>.getFont()); 
0042     <b>int</b>             <i>thisWidth</i>;
0043     <b>int</b>             <i>index</i>; 
0044     
0045       <i>characterHeight</i> = <i>theMetrics</i>.getHeight();
0046       <b>for</b> ( <i>index</i> =0; <i>index</i> &lt; <i>theMessage</i>.length; <i>index</i>++){
0047           <i>thisWidth</i> = <i>theMetrics</i>.stringWidth( <i>theMessage</i>[ <i>index</i>]);
0048           <b>if</b> ( <i>thisWidth</i>&gt; <i>maximumWidth</i>) { 
0049              <i>maximumWidth</i> = <i>thisWidth</i>;
0050           } // End if. 
0051        } // End for.
</pre>
<p>
<h3>
<p>
<h3>
The <i><font FACE="Arial">addNotify()</font></i> action
is called when the component's peer is created in the native windowing
system and it is only at this stage that specific physical information,
such as the <font FACE="Arial">FontMetrics</font> which
are being used, is available. <br>
</h3>
<p>
<h3>
The MessageCanvas <i><font FACE="Arial">addNotify()</font></i>
action commences by calling its parent (<font FACE="Arial">Canvas</font>)
<font FACE="Arial">addNotify()</font> action and then calls
the private <i><font FACE="Arial">setSizes()</font></i> action
to establish the space which is required to display the <i><font FACE="Arial">message</font></i>.
To accomplish, on line ^p0041, the <font FACE="Arial">FontMetrics</font>
describing the <font FACE="Arial">Font</font> which will be used
to display the message are retrieved. <br>
</h3>
<p>
<h3>
Having done this the vertical space required for the message can
be computed from a consideration of the height of a single character.
The horizontal requirement can only be decided by iterating through
the array of <font FACE="Arial">String</font>s and recording the
width of the widest <font FACE="Arial">String</font> when rendered
in the <font FACE="Arial">Font</font>, using the <font FACE="Arial">FontMetric
stringWidth()</font> action. <br>
</h3>

</h3>

<p>
<hr>
<center><a HREF="contents.html" tppabs="http://www.scism.sbu.ac.uk/jfl/hci97/afternoon/contents.html"><img SRC="up.gif" tppabs="http://www.scism.sbu.ac.uk/jfl/hci97/afternoon/up.gif" border="0" WIDTH="32" HEIGHT="40"></a></center>
<p>
<hr>
