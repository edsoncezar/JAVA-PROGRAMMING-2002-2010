




















<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<title>Customizing Formats</title>
</head>
<body BGCOLOR="#ffffff">










<table width="100%">
<tr>
<td align=left>
<a href="numberformat.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=bottom border=0 alt="Previous | "></a><a
href="dateintro.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=bottom border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=bottom border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/internat.GIF" width=26 height=26 align=bottom border=0 alt="Internationalization | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>Formatting</em></strong></a>
</td>
</tr>
</table>
<p>
<center>
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
</center>
<p> 

<h2>
    Customizing Formats
</h2>
<p>
<blockquote>

You can use the <CODE>DecimalFormat</CODE> class to format decimal
numbers into locale-specific strings. This class allows you to control
the display of leading and trailing zeros, prefixes and suffixes,
grouping (thousands) separators, and the decimal separator. If you want
to change formatting symbols, such as the decimal separator, you can
use the <CODE>DecimalFormatSymbols </CODE> in conjunction with the
<CODE>DecimalFormat</CODE> class. These classes offer a great deal of
flexibility in the formatting of numbers, but they can make your code
more complex.
<P>
The text that follows uses examples that demonstrate the
<CODE>DecimalFormat </CODE> and <CODE>DecimalFormatSymbols</CODE>
classes. The code examples in this material are from a sample program
called
<a href="http://docs.rinet.ru/Jtuta/i18n/format/example-1dot1/DecimalFormatDemo.java">
<code>DecimalFormatDemo</code></a>.

<H4>Constructing Patterns</H4>
<blockquote>
You specify the formatting properties of <CODE>DecimalFormat</CODE>
with a pattern <CODE>String</CODE>. The pattern determines what the
formatted number looks like. For a full description of the pattern
syntax, see 
<a href="numberpattern.html"><code>Number Format Pattern Syntax</code></a>.
<P>
The example that follows creates a formatter by passing a pattern
<CODE>String</CODE> to the <CODE>DecimalFormat</CODE> constructor. The
<CODE>format</CODE> method accepts a <CODE>double</CODE> value as an
argument and returns the formatted number in a <CODE>String</CODE>:
<blockquote>
<pre>
DecimalFormat myFormatter = new DecimalFormat(pattern);
String output = myFormatter.format(value);
System.out.println(value + &quot; &quot; + pattern + &quot; &quot; + output);
</PRE>
</blockquote>

The output for the preceding lines of code is described in the
following table. The <CODE>value</CODE> is the number, a
<CODE>double</CODE> , that is to be formatted. The <CODE>pattern</CODE>
is the <CODE>String</CODE> that specifies the formatting properties.
The <CODE>output</CODE>, which is a <CODE>String</CODE>, represents the
formatted number.
<p>

<TABLE BORDER="1">
<CAPTION>
<H4>Output from <CODE>DecimalFormatDemo</CODE> Program</H4>
</CAPTION>
<TR>
<TH>
<CODE>value</CODE>
</TH>

<TH>
<CODE>pattern</CODE>
</TH>

<TH>
<CODE>output</CODE>
</TH>

<TH>
Explanation
</TH>
</TR>
<TR>
<TD>
123456.789
</TD>
<TD>
###,###.###
</TD>
<TD>
123,456.789
</TD>
<TD>
The pound sign (#) denotes a digit, the comma is a placeholder for the
grouping separator, and the period is a placeholder for the decimal
separator.
</TD>
</TR>
<TR>
<TD>
123456.789
</TD>
<TD>
###.##
</TD>
<TD>
123456.79
</TD>
<TD>
The <CODE>value</CODE> has three digits to the right of the decimal
point, but the <CODE>pattern</CODE> has only two. The
<CODE>format</CODE> method handles this by rounding up.
</TD>
</TR>
<TR>
<TD>
123.78
</TD>
<TD>
000000.000
</TD>
<TD>
000123.780
</TD>
<TD>
The <CODE>pattern</CODE> specifies leading and trailing zeros, because
the 0 character is used instead of the pound sign (#).
</TD>
</TR>
<TR>
<TD>
12345.67
</TD>
<TD>
$###,###.###
</TD>
<TD>
,345.67
</TD>
<TD>
The first character in the <CODE>pattern</CODE> is the dollar sign ($).
Note that it immediately precedes the leftmost digit in the formatted
<CODE>output</CODE>.
</TD>
</TR>
<TR>
<TD>
12345.67
</TD>
<TD>
\u00A5###,###.###
</TD>
<TD>
&#165;12,345.67
</TD>
<TD>
The <CODE>pattern</CODE> specifies the currency sign for Japanese yen
(&#165;) with the Unicode value 00A5.
</TD>
</TR>
</TABLE>
</blockquote>

<H4>Locale-Sensitive Formatting</H4>
<blockquote>
The preceding example created a <CODE>DecimalFormat</CODE> object for
the default <CODE>Locale</CODE>. If you want a
<CODE>DecimalFormat</CODE> object for a nondefault <CODE>Locale</CODE>,
you instantiate a <CODE>NumberFormat</CODE> and then cast it to
<CODE>DecimalFormat</CODE>. Here's an example:
<blockquote>
<pre>
NumberFormat nf = NumberFormat.getNumberInstance(loc);
DecimalFormat df = (DecimalFormat)nf;
df.applyPattern(pattern);
String output = df.format(value);
System.out.println(pattern + &quot; &quot; + output + &quot; &quot; + 
	           loc.toString());
</PRE>
</blockquote>
<P>
Running the previous code example results in the output that follows.
The formatted number, which is in the second column, varies with
<CODE>Locale</CODE>:
<blockquote>
<pre>
###,###.###	 123,456.789	 en_US
###,###.###	 123.456,789	 de_DE
###,###.###	 123 456,789	 fr_FR
</PRE>
</blockquote>
<P>
So far the formatting patterns discussed here follow the conventions of
U.S. English. For example, in the pattern ###,###.## the comma is the
thousands-separator and the period represents the decimal point. This
convention is fine, provided that your end users aren't exposed to it.
However, some applications, such as spreadsheets and report generators,
allow the end users to define their own formatting patterns. For these
applications the formatting patterns specified by the end users should
use localized notation. In these cases you'll want to invoke the
<CODE>applyLocalizedPattern</CODE> method on the
<CODE>DecimalFormat</CODE> object.
</blockquote>

<H4>Altering the Formatting Symbols</H4>
<blockquote>
You can use the
<a target="_top" href="http://java.sun.com/products/jdk/1.1/api/java.text.DecimalFormatSymbols.html">DecimalFormatSymbols</a><a target="_top" href="http://java.sun.com/products/jdk/1.1/api/java.text.DecimalFormatSymbols.html"><img src="http://docs.rinet.ru/Jtuta/images/apiIcon.gif" width=20 height=20 border=0 alt="(in the API reference documentation)"></a> class to change the symbols that appear in the formatted numbers
produced by the <CODE>format</CODE> method. These symbols include the
decimal separator, the grouping separator, the minus sign, and the
percent sign, among others.
<P>
The next example demonstrates the <CODE>DecimalFormatSymbols</CODE>
class by applying a strange format to a number. The unusual format is
the result of the calls to the <CODE>setDecimalSeparator</CODE>,
<CODE>setGroupingSeparator</CODE>, and <CODE>setGroupingSize</CODE>
methods.
<blockquote>
<pre>
DecimalFormatSymbols unusualSymbols = new DecimalFormatSymbols(currentLocale);
unusualSymbols.setDecimalSeparator('|');
unusualSymbols.setGroupingSeparator('^');

String strange = &quot;#,##0.###&quot;;
DecimalFormat weirdFormatter = 
               new DecimalFormat(strange unusualSymbols);
weirdFormatter.setGroupingSize(4);

String bizarre = weirdFormatter.format(12345.678);
System.out.println(bizarre);
</PRE>
</blockquote>
<P>
When run, this example prints the number in a bizarre format: 
<blockquote>
<pre>
1^2345|678
</PRE>
</blockquote>
</blockquote>

</blockquote>
<p>
<hr size=4>
<p> 
<table width="100%">
<tr>
<td align=left>
<a href="numberformat.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=top border=0 alt="Previous | "></a><a
href="dateintro.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=top border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=top border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/internat.GIF" width=26 height=26 align=top border=0 alt="Internationalization | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>Formatting</em></strong></a>
</td>
</tr>
</table>
</body>
</html>
