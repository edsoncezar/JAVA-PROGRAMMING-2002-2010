




















<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<title>Line Boundaries</title>
</head>
<body BGCOLOR="#ffffff">










<table width="100%">
<tr>
<td align=left>
<a href="sentence.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=bottom border=0 alt="Previous | "></a><a
href="convertintro.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=bottom border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=bottom border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/internat.GIF" width=26 height=26 align=bottom border=0 alt="Internationalization | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>Working with Text</em></strong></a>
</td>
</tr>
</table>
<p>
<center>
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
</center>
<p> 

<h2>
    Line Boundaries
</h2>
<p>
<blockquote>

Applications that format text or that perform line wrapping must locate
potential line breaks. You can find these line breaks, or boundaries,
with a <CODE>BreakIterator</CODE> that has been created with the
<CODE>getLineInstance </CODE> method:
<blockquote>
<pre>
BreakIterator lineIterator =
		BreakIterator.getLineInstance(currentLocale);
</PRE>
</blockquote>
<P>
This <CODE>BreakIterator</CODE>
determines the positions in a string where text can break to continue
on the next line. The positions detected by the
<CODE>BreakIterator</CODE> are potential line breaks. The actual line
breaks displayed on the screen may not be the same.
<P>
The two examples that follow use the
<a href="word.html#markBoundaries"><code>markBoundaries</code></a>
method of
<a href="http://docs.rinet.ru/Jtuta/i18n/text/example-1dot1/BreakIteratorDemo.java"><code>BreakIteratorDemo.java</code></a>
to show the line boundaries detected by a <CODE>BreakIterator</CODE>.
The <CODE>markBoundaries</CODE> method indicates line boundaries by
printing carets (^) beneath the target string.
<P>
According to a <CODE>BreakIterator</CODE>, a line boundary occurs after
the termination of a sequence of whitespace characters (space, tab, new
line). In the following example, note that you can break the line at
any of the boundaries detected:
<blockquote>
<pre>
She stopped.  She said, &quot;Hello there,&quot; and then went on.
^   ^         ^   ^     ^      ^     ^ ^   ^    ^    ^  ^
</PRE>
</blockquote>
<P>
<blockquote>
<pre>
Potential line breaks also occur immediately after a hyphen: 
There are twenty-four hours in a day.
^     ^   ^      ^    ^     ^  ^ ^   ^
</PRE>
</blockquote>
<P>
The next example breaks a long string of text into fixed-length lines
with a method called <CODE>formatLines</CODE>. This method uses a
<CODE>BreakIterator </CODE> to locate the potential line breaks. The
<CODE>formatLines</CODE> method is short, simple, and, thanks to the
<CODE>BreakIterator</CODE>, locale-independent. Here is the source
code:
<blockquote>
<pre>
static void formatLines(String target, int maxLength,
			Locale currentLocale) {

    BreakIterator boundary =
	BreakIterator.getLineInstance(currentLocale);
    boundary.setText(target);
    int start = boundary.first();
    int end = boundary.next();
    int lineLength = 0;

    while (end != BreakIterator.DONE) {
	String word = target.substring(start,end);
	lineLength = lineLength + word.length();
	if (lineLength &gt;= maxLength) {
	    System.out.println();
	    lineLength = word.length();
	}
	System.out.print(word);
	start = end;
	end = boundary.next();
    }
}
</PRE>
</blockquote>
<P>
The <CODE>BreakIteratorDemo</CODE> program invokes the <CODE>formatLines</CODE>
method as follows: 
<blockquote>
<pre>
String moreText = &quot;She said, \&quot;Hello there,\&quot; and then &quot; +
	 &quot;went on down the street. When she stopped &quot; +
	 &quot;to look at the fur coats in a shop window, &quot; +
	 &quot;her dog growled._ \&quot;Sorry Jake,\&quot; she said. &quot; +
	 &quot; \&quot;I didn't know you would take it personally.\&quot;&quot;;

formatLines(moreText, 30, currentLocale);
</PRE>
</blockquote>
<P>
The output from this call to <CODE>formatLines</CODE> is: 
<blockquote>
<pre>
She said, &quot;Hello there,&quot; and
then went on down the
street. When she stopped to
look at the fur coats in a
shop window, her dog
growled. &quot;Sorry Jake,&quot; she
said. &quot;I didn't know you
would take it personally.&quot;
</PRE>
</blockquote>

</blockquote>
<p>
<hr size=4>
<p> 
<table width="100%">
<tr>
<td align=left>
<a href="sentence.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=top border=0 alt="Previous | "></a><a
href="convertintro.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=top border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=top border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/internat.GIF" width=26 height=26 align=top border=0 alt="Internationalization | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>Working with Text</em></strong></a>
</td>
</tr>
</table>
</body>
</html>
