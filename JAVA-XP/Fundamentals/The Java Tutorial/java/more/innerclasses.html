


















<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<title>Inner Classes</title>
</head>
<body BGCOLOR="#ffffff">










<table width="100%">
<tr>
<td align=left>
<a href="nested.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=bottom border=0 alt="Previous | "></a><a
href="packages.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=bottom border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=bottom border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/javaHeader.gif" width=26 height=26 align=bottom border=0 alt="Learning the Java Language | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>More Features of the Java Language</em></strong></a>
</td>
</tr>
</table>
<p>
<center>
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
</center>
<p> 

<h2>
    Inner Classes
</h2>
<p>
<blockquote>

To help you get a handle on inner classes and what they are good for,
let's revisit the <code>Stack</code> class.
Suppose you want to add a feature to
this class that lets another class enumerate over the elements in the
stack using the interface defined in <code>java.util.Enumeration</code>.
This interface contains two method declarations:
<blockquote>
<pre>
public boolean hasMoreElements();
public Object nextElement();
</pre>
</blockquote>
The <code>Enumeration</code> interface defines
the interface for a single loop over the elements:
<blockquote>
<pre>
while (hasMoreElements())
    nextElement()
</pre>
</blockquote>
If <code>Stack</code> implemented the <code>Enumeration</code>
interface itself,
you could not restart the loop
and you could not enumerate the contents more than once.
Also, you couldn't allow two enumerations to happen simultaneously.
So <code>Stack</code> shouldn't implement <code>Enumeration</code>.
Rather, a helper class should do the work for <code>Stack</code>.
<p>
The helper class must have access to the <code>Stack</code>'s elements.
It also must
be able to access them directly because the <code>Stack</code>'s
public interface supports only LIFO access.
This is where inner classes come in.
<p>
Here's an implementation of <code>Stack</code>
that defines a helper class (called an <em>adapter class</em>)
for enumerating over its elements:
<blockquote>
<pre>
public class Stack
{
    private Vector items;

    // <em>code for Stack's methods and constructors not shown</em>

    public Enumeration enumerator() {
        return new StackEnum();
    }
    class StackEnum implements Enumeration {
        int currentItem = items.size() - 1;
        public boolean hasMoreElements() {
            return !(isEmpty());
        }
        public Object nextElement() {
            if (isEmpty())
                throw new NoSuchElementException();
            else
                return items.elementAt[currentItem--];
        }
    }
}
</pre>
</blockquote>
Note that the <code>StackEnum</code> class refers
directly to <code>Stack</code>'s <code>items</code> instance variable.
<p>
Inner classes are used primarily to implement adapter classes like the
one shown in this example. If you plan on handling events from the AWT,
then you'll want to know about using adapter classes because the
event-handling mechanism in the AWT makes extensive use of them.

<h4>Anonymous Classes</h4>
<blockquote>
As shown in
<a href="..\javaoo\innerclassadapter.html">
Using an Inner Class to Implement an Adapter</a>,
you can declare a class without a name. Here's yet another version of
the now-tired <code>Stack</code> class,
in this case using an anonymous class for
its enumerator:
<blockquote>
<pre>
public class Stack
{
    private Vector items;

    // <em>code for Stack's methods and constructors not shown</em>

    public Enumeration enumerator() {
        return new Enumeration () {
            int currentItem = items.size() - 1;
            public boolean hasMoreElements() {
                return !(isEmpty());
            }
            public Object nextElement() {
                if (isEmpty())
                    throw new NoSuchElementException();
                else
                    return items.elementAt[currentItem--];
            }
        }
    }
}
</pre>
</blockquote>
Anonymous classes can make code difficult to read. You should limit
their use to those classes that are very small (no more than a method
or two) and whose use is well-understood (like the AWT event-handling
adapter classes).
</blockquote>

</blockquote>
<p>
<hr size=4>
<p> 
<table width="100%">
<tr>
<td align=left>
<a href="nested.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=top border=0 alt="Previous | "></a><a
href="packages.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=top border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=top border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/javaHeader.gif" width=26 height=26 align=top border=0 alt="Learning the Java Language | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>More Features of the Java Language</em></strong></a>
</td>
</tr>
</table>
</body>
</html>
