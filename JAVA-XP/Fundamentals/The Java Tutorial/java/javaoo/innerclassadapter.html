


















<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<title>Using an Inner Class to Implement an Adapter</title>
</head>
<body BGCOLOR="#ffffff">










<table width="100%">
<tr>
<td align=left>
<a href="implementing.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=bottom border=0 alt="Previous | "></a><a
href="summary.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=bottom border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=bottom border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/javaHeader.gif" width=26 height=26 align=bottom border=0 alt="Learning the Java Language | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>Objects and Classes in Java</em></strong></a>
</td>
</tr>
</table>
<p>
<center>
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
</center>
<p> 

<h2>
    Using an Inner Class to Implement an Adapter
</h2>
<p>
<blockquote>

In the previous section, <code>Spot</code>
contains empty implementations because it
isn't interested in all of the kinds of mouse events.
In this section,
we rewrite <code>Spot</code> so that those empty methods aren't necessary.
This can
be done using an <em>inner class</em> to implement an adapter.
An inner class is one kind of <em>nested class</em>
(a class that is defined within another
class). To find out more about nested classes, read
<a href="..\more\nested.html">Implementing Nested Classes</a>.
<p>
The font changes in this new version of the applet show how this version
of the class differs from that in the previous section:
<blockquote>
<pre>
import java.applet.Applet;
import java.awt.*;
import java.awt.event.*;

public class <em>Adapter</em>Spot extends Applet //<em>no implements clause</em>
{
    private Point clickPoint = null;
    private static final int RADIUS = 7;

    public void init() {
        addMouseListener(<em>new MyMouseAdapter()</em>);
    }
    public void paint(Graphics g) {
        g.drawRect(0, 0, getSize().width - 1,
                         getSize().height - 1);
        if (clickPoint != null)
            g.fillOval(clickPoint.x-RADIUS,
                       clickPoint.y-RADIUS,
                       RADIUS*2, RADIUS*2);
    }
    <em>class MyMouseAdapter extends MouseAdapter </em> {
        public void mousePressed(MouseEvent event) {
            clickPoint = event.getPoint();
            repaint();
        }
    }
    <em>/* no empty methods! */</em>
}
</pre>
</blockquote>
<p>
Here's the running applet:
<p>
<APPLET CODE="Spot.class" CODEBASE="http://docs.rinet.ru:8080/Jtuta/java/javaOO/example-1dot1" WIDTH=150 HEIGHT=150>
</APPLET>

<blockquote><hr><strong>Note:</strong> The above applet requires JDK 1.1. If you are using an older browser that does not support 1.1, you won't be able to run the applet. Instead, you need to view this page in a 1.1 browser, such as HotJava, the JDK Applet Viewer (<code>appletviewer</code>), or certain versions of Netscape Navigator and Internet Explorer. For more information about running applets, refer to <a href="..\..\information\examples.html">About Our Examples</a>.<hr></blockquote>
Now, instead of implementing the interface itself, <code>AdapterSpot</code>
declares an inner class, <code>MyMouseAdapter</code>.
<code>MyMouseAdapter</code> is a subclass of
<code>MouseAdapter</code>, which implements the <code>MouseListener</code>
interface. <code>MouseAdapter</code> provides empty implementations
for all of the methods
declared in <code>MouseListener</code>.
Through the use of this inner class, the
<code>AdapterSpot</code> class can write
only the method for the one type of event
it is interested in: <code>mousePressed</code>.
<p>
You will see a lot of inner classes, and even implement some,
if you plan to handle events from the AWT.

<h4>Anonymous Classes</h4>
<blockquote>
In the previous example, the name of the inner class adds nothing to
the meaning of the program. You can forego naming an inner class and
just define it where it's used. This is called an <em>anonymous class</em>.
<p>
<hr>
<strong>Definition</strong>:
A class without a name is called an <em>anonymous class</em>.
<hr>
<p>
Here's yet another version of the applet,
rewritten to use an anonymous class (font changes show the
modifications):
<blockquote>
<pre>
import java.applet.Applet;
import java.awt.*;
import java.awt.event.*;

public class <em>Anonymous</em>Spot extends Applet {
    private Point clickPoint = null;
    private static final int RADIUS = 7;
    public void init() {
        addMouseListener(
            <em>new MouseAdapter() {
                public void mousePressed(MouseEvent event) {
                    clickPoint = event.getPoint();
                    repaint();
                }
            }</em>
        );
    }
    <em>/* paint method not shown */</em>
}
</pre>
</blockquote>
<p>
And here's the running applet:
<p>
<APPLET CODE="Spot.class" CODEBASE="http://docs.rinet.ru:8080/Jtuta/java/javaOO/example-1dot1" WIDTH=150 HEIGHT=150>
</APPLET>

<blockquote><hr><strong>Note:</strong> The above applet requires JDK 1.1. If you are using an older browser that does not support 1.1, you won't be able to run the applet. Instead, you need to view this page in a 1.1 browser, such as HotJava, the JDK Applet Viewer (<code>appletviewer</code>), or certain versions of Netscape Navigator and Internet Explorer. For more information about running applets, refer to <a href="..\..\information\examples.html">About Our Examples</a>.<hr></blockquote>
You should restrict your use of anonymous classes to those classes that
are for a single use and very small (no more than a method or two).
Otherwise, you may jeopardize the readability of your code.
</blockquote>

</blockquote>
<p>
<hr size=4>
<p> 
<table width="100%">
<tr>
<td align=left>
<a href="implementing.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=top border=0 alt="Previous | "></a><a
href="summary.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=top border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=top border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/javaHeader.gif" width=26 height=26 align=top border=0 alt="Learning the Java Language | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>Objects and Classes in Java</em></strong></a>
</td>
</tr>
</table>
</body>
</html>
