


















<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<title>Writing a finalize Method</title>
</head>
<body BGCOLOR="#ffffff">










<table width="100%">
<tr>
<td align=left>
<a href="classvars.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=bottom border=0 alt="Previous | "></a><a
href="spot.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=bottom border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=bottom border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/javaHeader.gif" width=26 height=26 align=bottom border=0 alt="Learning the Java Language | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>Objects and Classes in Java</em></strong></a>
</td>
</tr>
</table>
<p>
<center>
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
</center>
<p> 

<h2>
    Writing a finalize Method
</h2>
<p>
<blockquote>

When all references to an object are dropped, the object is no longer
required and becomes eligible for garbage collection. Before an object
is garbage collected, the runtime system calls its <code>finalize</code>
method to release system resources
such as open files or open sockets before the
object is collected.
<p>
Your class can provide for its finalization simply by defining and
implementing a <code>finalize</code> method in your class.
This method must be
declared as follows:
<blockquote>
<pre>
protected void finalize() throws Throwable
</pre>
</blockquote>
The <code>Stack</code> class creates a <code>Vector</code>
when it's created. To be complete and well-behaved,
the <code>Stack</code> class should release its reference
to the <code>Vector</code>. Here's the <code>finalize</code>
method for the <code>Stack</code> class: 
<blockquote>
<pre>
protected void finalize() throws Throwable {
    items = null;
    super.finalize();
}
</pre>
</blockquote>
The <code>finalize</code> method is declared in the <code>Object</code>
class. As a result, when you write a <code>finalize</code>
method for your class,
you are overriding the one in your superclass.
<a href="..\more\override.html">Overriding Methods</a>
talks more about how to override methods.
<p>
The last line of <code>Stack</code>'s finalize method calls the superclass's
<code>finalize</code> method.
Doing this cleans up any resources that the object may
have unknowingly obtained through methods inherited from the
superclass.

</blockquote>
<p>
<hr size=4>
<p> 
<table width="100%">
<tr>
<td align=left>
<a href="classvars.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=top border=0 alt="Previous | "></a><a
href="spot.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=top border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=top border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/javaHeader.gif" width=26 height=26 align=top border=0 alt="Learning the Java Language | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>Objects and Classes in Java</em></strong></a>
</td>
</tr>
</table>
</body>
</html>
