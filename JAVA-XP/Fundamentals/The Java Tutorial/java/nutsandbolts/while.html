


















<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<title>Control Flow Statements</title>
</head>
<body BGCOLOR="#ffffff">










<table width="100%">
<tr>
<td align=left>
<a href="expressions.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=bottom border=0 alt="Previous | "></a><a
href="arraysandstrings.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=bottom border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=bottom border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/javaHeader.gif" width=26 height=26 align=bottom border=0 alt="Learning the Java Language | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>The Nuts and Bolts of the Java Language</em></strong></a>
</td>
</tr>
</table>
<p>
<center>
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
</center>
<p> 

<h2>
    Control Flow Statements
</h2>
<p>
<blockquote>
 
The <code>countChars</code> method uses a
<a name=WHILE>
<code>while</code>
</a>
statement to loop
through all of the characters of the input source and count them:
<blockquote>
<pre>
import java.io.*;
public class Count {
    public static void countChars(Reader in) throws IOException
    {
        int count = 0;

        <strong>while</strong> (in.read() != -1)
            count++;
        System.out.println("Counted " + count + " chars.");
    }
    // <em>... main method omitted ...</em>
}
</pre>
</blockquote>
Generally speaking, a <code>while</code> statement performs
some action <em>while</em> a certain condition remains true.
The general syntax of the <code>while</code> statement is:
<blockquote>
<pre>
while (<em>expression</em>)
    <em>statement</em>
</pre>
</blockquote>
That is, while <em>expression</em> is true, do <em>statement</em>.
In <code>countChars</code>, while the <code>read</code>
method returns a value that is <em>not</em> -1, the program
increments <code>count</code>.
<p>
<hr>
<strong>By Convention</strong>: The opening curly bracket <code>{</code>
is at the end of the same line
as the <code>while</code> statement, and the closing curly bracket
<code>}</code> begins a
new line aligned with the <code>while</code>, as shown.
<hr>
<p>
<em>statement</em> can be one statement, as shown in <code>countChars</code>,
or it can be a statement block. A statement block is a series of legal
Java statements contained within curly brackets ('{' and '}'). For example,
suppose that in addition to incrementing <code>count</code> within the
<code>while</code> loop you also wanted to print the count each time a
character was read. You could write this instead:
<blockquote>
<pre>
. . .
while (in.read() != -1) {
    count++;
    System.out.println("Read a character. Count = " + count);
}
. . .
</pre>
</blockquote>
<p>
A statement such as the <code>while</code> statement is a <em>control
flow statement</em>, that is, it determines the order in which other statements
are executed. Besides <code>while</code>, the Java language supports
several other control flow statements, including:
<p>

<! -- TABLE -->
<table border cellpadding=5>
<th>Statement</th>
<th>Keyword</th>

<tr>
    <td>
	decision making
    </td>
    <td>
	<code>if-else</code>, <code>switch-case</code>
    </td>
</tr>
<tr>
    <td>
	loop
    </td>
    <td>
	<code>for</code>, <code>while</code>, <code>do-while </code>
    </td>
</tr>
<tr>
    <td>
	exception
    </td>
    <td>
	<code>try-catch-finally</code>, <code>throw</code>
    </td>
</tr>
<tr>
    <td>
	miscellaneous
    </td>
    <td>
	<code>break</code>, <code>continue</code>, <code>label: </code>, <code>return </code>
    </td>
</tr>

</table>
<p>

<strong>Note:</strong> Although <code>goto</code> is a reserved word,
currently the Java language does not support the <code>goto</code>
statement. Use <a href="#BREAKS">Branching Statements</a> instead.

<h4>The if-else Statement</h4>
<blockquote>
Java's <code>if</code>-<code>else</code> statement
provides your programs with the ability to selectively execute other
statements based on some criteria. For example, suppose that your
program printed debugging information based on the value of some
boolean variable named <code>DEBUG</code>. If <code>DEBUG</code> were set to <code>true</code>, then your
program would print debugging information such as the value of some
variable like <code>x</code>. Otherwise, your program
would proceed normally. A segment of code to implement this might
look like this:
<blockquote>
<pre>
. . .
if (DEBUG)
    System.out.println("DEBUG: x = " + x);
. . .
</pre>
</blockquote>
This is the simplest version of the <code>if</code> statement: the
statement governed by the <code>if</code> is executed if some condition
is true. Generally, the simple form of <code>if</code> can be written like this:
<blockquote>
<pre>
if (<em>expression</em>)
    <em>statement</em>
</pre>
</blockquote>
So, what if you wanted to perform a different set of statements if the
<em>expression</em> is false? Well, you can use the <code>else</code>
statement for that. Consider another example. Suppose that your program
needs to perform different actions depending on whether the user clicks
on the OK button or the Cancel button in an alert window. Your program
could do this using an <code>if</code> statement:
<blockquote>
<pre>
    . . .
    // <em>response is either OK or CANCEL depending</em>
    // <em>on the button that the user pressed</em>
    . . .
if (response == OK) {
    . . .
    // <em>code to perform OK action</em>
    . . .
} else {
    . . .
    // <em>code to perform Cancel action</em>
    . . .
}
</pre>
</blockquote>
This particular use of the <code>else</code> statement is the catch-all form.
The <code>else</code> block is executed if the <code>if</code> part is false.
There is another form of the <code>else</code> statement, <code>else if</code>
which executes a statement based on another expression. For example, suppose
that you wrote a program that assigned grades based on the value of a test score,
an A for a score of 90% or above, a B for a score of 80% or above and so on.
You could use an <code>if</code> statement with a series of companion
<code>else if</code> statements, and an <code>else</code> to write this code:
<blockquote>
<pre>
int testscore;
char grade;

if (testscore &gt;= 90) {
    grade = 'A';
} else if (testscore &gt;= 80) {
    grade = 'B';
} else if (testscore &gt;= 70) {
    grade = 'C';
} else if (testscore &gt;= 60) {
    grade = 'D';
} else {
    grade = 'F';
}
</pre>
</blockquote>
An <code>if</code> statement can have any number of companion <code>else if</code>
statements, but only one <code>else</code>. You may have noticed that some
values of <code>testscore</code> could satisfy more than one of the expressions
in the compound <code>if</code> statement. For instance, a score of 76 would
evaluate to <code>true</code> for two of the expressions in the <code>if</code> statement:
<code>testscore &gt;= 70</code> and <code>testscore &gt;= 60</code>.
However, as the runtime system processes a compound <code>if</code> statement
such as this one, once a condition is satisfied (76 &gt;= 70), the appropriate
statements are executed (<code>grade = 'C';</code>), and control passes out
of the <code>if</code> statement without evaluating the remaining conditions.
</blockquote>

<h4>The switch Statement</h4>
<blockquote>
Use the <code>switch</code> statement to conditionally perform statements
based on some expression. For example, suppose that your program
contained an integer named <code>month</code> whose value indicated the
month in some date. Suppose also that you wanted to display the name of
the month based on its integer equivalent. You could use Java's
<code>switch</code> statement to perform this feat:
<blockquote>
<pre>
int month;
. . .
switch (month) {
case 1:  System.out.println("January"); break;
case 2:  System.out.println("February"); break;
case 3:  System.out.println("March"); break;
case 4:  System.out.println("April"); break;
case 5:  System.out.println("May"); break;
case 6:  System.out.println("June"); break;
case 7:  System.out.println("July"); break;
case 8:  System.out.println("August"); break;
case 9:  System.out.println("September"); break;
case 10: System.out.println("October"); break;
case 11: System.out.println("November"); break;
case 12: System.out.println("December"); break;
}
</pre>
</blockquote>
The <code>switch</code> statement evaluates its expression,
in this case, the value of <code>month</code>, and executes the
appropriate <code>case</code> statement. Of course, you could
implement this as an <code>if</code> statement:
<blockquote>
<pre>
int month;
. . .
if (month == 1) {
    System.out.println("January");
} else if (month == 2) {
    System.out.println("February");
. . .
// <em>you get the idea</em>
. . .
</pre>
</blockquote>
Deciding whether to use an <code>if</code> statement or a <code>switch</code>
statement is a judgment call. You can decide which to use based on readability
and other factors.
Each <code>case</code> statement must be unique
and the value provided to each <code>case</code> statement must
be of the same data type as the data type returned by the expression
provided to the <code>switch</code> statement.
<p>
Another point of interest in the <code>switch</code> statement are the
<code>break</code> statements after each <code>case</code>. The <code>break</code>
statements cause control to break out of the <code>switch</code> and continue
with the first statement following the <code>switch</code>.
The <code>break</code> statements are necessary because <code>case</code>
statements fall through. That is, without an explicit <code>break</code>
control will flow sequentially through subsequent <code>case</code> statements.
In the previous example, you don't want control to flow from one <code>case</code>
to the next, so you have to put in <code>break</code> statements.
However, there are certain scenarios when you do want control to proceed
sequentially through <code>case</code> statements. Like in the following Java code that
computes the number of days in a month according to the old rhyme that
starts "Thirty days hath September...":
<blockquote>
<pre>
int month;
int numDays;
. . .
switch (month) {
case 1:
case 3:
case 5:
case 7:
case 8:
case 10:
case 12:
    numDays = 31;
    break;
case 4:
case 6:
case 9:
case 11:
    numDays = 30;
    break;
case 2:
    if ( ((year % 4 == 0) && !(year % 100 == 0)) || (year % 400 == 0) )
        numDays = 29;
    else
        numDays = 28;
    break;
}
</pre>
</blockquote>
Finally, you can use the <code>default</code> statement at the end of the
<code>switch</code> to handle all values that aren't explicitly handled
by one of the <code>case</code> statements.
<blockquote>
<pre>
int month;
. . .
switch (month) {
case 1:  System.out.println("January"); break;
case 2:  System.out.println("February"); break;
case 3:  System.out.println("March"); break;
case 4:  System.out.println("April"); break;
case 5:  System.out.println("May"); break;
case 6:  System.out.println("June"); break;
case 7:  System.out.println("July"); break;
case 8:  System.out.println("August"); break;
case 9:  System.out.println("September"); break;
case 10: System.out.println("October"); break;
case 11: System.out.println("November"); break;
case 12: System.out.println("December"); break;
<strong>default: System.out.println("Hey, that's not a valid month!");
    break;</strong>
}
</pre>
</blockquote>
</blockquote>

<h4>Loop Statements</h4>
<blockquote>
You were introduced to Java's <code>while</code> statement <a href=#WHILE>above</a>.
Java has two other looping constructs that you can use in your programs: the
<code>for</code> loop and the <code>do-while</code> loop.
<p>
Use the <code>for</code> loop when you know
the constraints of the loop (its initialization instruction, termination criteria,
and increment instruction). For instance, <code>for</code>
loops are often used to iterate over the elements in an array, or the characters
in a string.
<blockquote>
<pre>
// <em>a is an array of some kind</em>
. . .
int i;
int length = a.length;
for (i = 0; i &lt; length; i++) {
    . . .
    // <em>do something to the i th element of a</em>
    . . .
}
</pre>
</blockquote>
You know when writing the program that you want to start at the beginning of
the array, stop at the end, and hit every element. Thus the <code>for</code>
statement is a good choice. The general form of the <code>for</code> statement
can be expressed like this:
<blockquote>
<pre>
for (<em>initialization</em>; <em>termination</em>; <em>increment</em>)
    <em>statements</em>
</pre>
</blockquote>
<em>initialization</em> is a statement that initializes the loop--its executed once
at the beginning of the loop.
<em>termination</em> is an expression that determines when to terminate the loop.
This expression is evaluated at the top of each iteration of the loop. When the
expression evaluates to <code>false</code>, the <code>for</code> loop terminates.
Finally, <em>increment</em> is an expression that gets invoked for each iteration
through the loop. Any (or all) of these components can be empty statements (a single
semi-colon by itself).
<p>
Java provides another loop, the <code>do-while</code> loop, which is similar to
the <code>while</code> loop you met earlier except that the expression is evaluated
at the bottom of the loop:
<blockquote>
<pre>
do {
    <em>statements</em>
} while (<em>booleanExpression</em>);
</pre>
</blockquote>
The <code>do-while</code> statement is a less commonly used loop construct in
programming but does have its uses. For example, the <code>do-while</code> is
convenient to use when the statements within the loop must be executed at
least once. For example, when reading information from a file, you know that
you will always have to read at least one character:
<blockquote>
<pre>
int c;
Reader in;
. . .
do {
    c = in.read();
    . . .
} while (c != -1);
</pre>
</blockquote>
</blockquote>

<h4>Exception Handling Statements</h4>
<blockquote>
When an error occurs within a Java method, the method can throw an
exception to indicate to its caller that an error occurred and the
type of error that occured. The calling
method can use the <code>try</code>, <code>catch</code>, and
<code>finally</code> statements to catch and handle the exception. See
<a target="_top" href="..\..\essential\exceptions\index.html">Handling Errors Using Exceptions</a><a href="..\..\essential\exceptions\index.html"><img src="http://docs.rinet.ru/Jtuta/images/javaIcon.gif" width=20 height=20 border=0 alt="(in the Learning the Java Language trail)"></a> for information about throwing and handling exceptions.
</blockquote>

<a name="BREAKS">
<h4>Branching Statements</h4>
</a>
<blockquote>
You saw the <code>break</code> statement in action within the <code>switch</code>
statement earlier. As noted there, <code>break</code> causes the flow of control
to jump to the statement immediately following the current statement.
<p>
Another form of the <code>break</code> statement causes
flow of control to break out of a labeled statement. You label a statement
by placing a legal Java identifier (the label) followed by a colon (:)
before the statement:
<blockquote>
<pre>
<em>statementName</em>: <em>someJavaStatement</em>
</pre>
</blockquote>
To break out of the statement labeled <em><code>statementName</code></em> use
the following form of the <code>break</code> statement.
<blockquote>
<pre>
break <em>statementName</em>;
</pre>
</blockquote>
Labeled breaks are an alternative to the <code>goto</code> statement,
which is not supported by the Java language.
<p>
Use the <code>continue</code> statement within loops to jump to
another statement.
<hr>
<strong>Note:</strong> The <code>continue</code> statement can only be called
from within a loop.
<hr>
The <code>continue</code> statement has two forms: unlabeled and labeled. If you
use the unlabelled form, control transfers to the termination condition of the loop.
The termination condition gets re-evaluated at this point and the loop either
continues or not depending on the results of the test. In <code>for</code> and
<code>while</code> loops, this means that control returns to the top of the loop.
In <code>do-while</code> loops, this means that controls returns to the bottom of
the loop.
<p>
The labeled form of the <code>continue</code> statement
continues at the next iteration of the labeled loop.
Consider this implementation of the <code>String</code> class's <code>indexOf</code>
method which uses the labeled form of <code>continue</code>:
<blockquote>
<pre>
public int indexOf(String str, int fromIndex) {
    char[] v1 = value;
    char[] v2 = str.value;
    int max = offset + (count - str.count);
  test:
    for (int i = offset + ((fromIndex &lt; 0) ? 0 : fromIndex); i &lt;= max ; i++) {
        int n = str.count;
        int j = i;
        int k = str.offset;
        while (n-- != 0) {
            if (v1[j++] != v2[k++]) {
                continue test;
            }
        }    
        return i - offset;
    }
    return -1;
}
</pre>
</blockquote>
<p>
The last of Java's branching statements
the <code>return</code> statement. You use
<code>return</code> to exit from the current method and jump back to
the statement within the calling method that follows the original method call.
There are two forms of <code>return</code>: one that returns a value
and one that doesn't. To return a value, simply put the value (or an
expression that calculates the value after the <code>return</code> keyword:
<blockquote>
<pre>
return ++count;
</pre>
</blockquote>
The value returned by <code>return</code> must match the type of
method's declared return value.
<p>
When a method is declared <code>void</code> use the form of <code>return</code>
that doesn't return a value:
<blockquote>
<pre>
return;
</pre>
</blockquote>

</blockquote>

</blockquote>
<p>
<hr size=4>
<p> 
<table width="100%">
<tr>
<td align=left>
<a href="expressions.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=top border=0 alt="Previous | "></a><a
href="arraysandstrings.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=top border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=top border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/javaHeader.gif" width=26 height=26 align=top border=0 alt="Learning the Java Language | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>The Nuts and Bolts of the Java Language</em></strong></a>
</td>
</tr>
</table>
</body>
</html>
