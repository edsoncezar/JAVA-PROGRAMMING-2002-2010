




















<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<title>General Rules for Using Layout Managers</title>
</head>
<body BGCOLOR="#ffffff">










<table width="100%">
<tr>
<td align=left>
<a href="using.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=bottom border=0 alt="Previous | "></a><a
href="border.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=bottom border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=bottom border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/uiHeader.gif" width=26 height=26 align=bottom border=0 alt="Creating a GUI with JFC/Swing | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>Laying Out Components Within a Container</em></strong></a>
</td>
</tr>
</table>
<p>
<center>
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
</center>
<p> 

<h2>
    General Rules for Using Layout Managers
</h2>
<p>
<blockquote>

<!--possible applet:  custom Container that has buttons letting
us add/delete Components, and lets us know when the layout-related
methods are called. -->

Unless you explicitly tell a container not to use a layout manager,
the container is associated with its very own instance of a layout manager.
This layout manager is automatically consulted each time
the container might need to change its appearance.
Most layout managers don't require programs
to directly call their methods.

<h4>
<a name="choosing">
How to Choose a Layout Manager
</a>
</h4>
<blockquote>
The layout managers provided by the Java platform
have different strengths and weaknesses.
This section discusses some common layout scenarios
and which layout managers might work for each scenario.
If none of these layout managers is right for your situation, 
feel free to use other layout managers
that you write or find.

<p>

<dl>
<dt><strong>Scenario:</strong>
You need to display a component in as much space as it can get.
<dd>
Consider using
<a href="border.html"><code>BorderLayout</code></a> or
<a href="gridbag.html"><code>GridBagLayout</code></a>.
If you use <code>BorderLayout</code>,
you'll need to put the space-hungry component in the center.
With <code>GridBagLayout</code>,
you'll need to set the constraints for the component so that
<code>fill=GridBagConstraints.BOTH</code>.
Another possibility is to use 
<a href="box.html"><code>BoxLayout</code></a>,
making the space-hungry component
specify very large preferred and maximum sizes.

<p>

<dt><strong>Scenario:</strong>
You need to display a few components in a compact row
at their natural size.
<dd>
Consider using a <code>JPanel</code> to hold the components
and using either the <code>JPanel</code>'s default
<a href="flow.html"><code>FlowLayout</code></a> manager
or the 
<a href="box.html"><code>BoxLayout</code></a> manager.

<p>

<dt><strong>Scenario:</strong>
You need to display a few components of the same size
in rows and columns.
<dd>
<a href="grid.html"><code>GridLayout</code></a> is perfect for this.

<p>

<dt><strong>Scenario:</strong>
You need to display a few components in a row or column,
possibly with varying amounts of space between them,
custom alignment, or custom component sizes.
<dd>
<a href="box.html"><code>BoxLayout</code></a>
is perfect for this.

<p>

<dt><strong>Scenario:</strong>
You have a complex layout with many components.
<dd>
Consider either using 
<a href="gridbag.html"><code>GridBagLayout</code></a>
or grouping the components into one or more <code>JPanel</code>s
to simplify layout.
Each <code>JPanel</code> might use a different layout manager.

</dl>


</blockquote>
<h4>
<a name="creating">
How to Create a Layout Manager and Associate It with a Container
</a>
</h4>
<blockquote>
As we mentioned in
<a target="_top" href="..\overview\layout.html">Layout Management</a><a target="_top" href="..\overview\layout.html"><img src="http://docs.rinet.ru/Jtuta/images/uiIcon.gif" width=20 height=20 border=0 alt="(in the Creating a User Interface trail)"></a>, by convention each container has a layout manager.
All <code>JPanel</code> objects
are initialized to use a <code>FlowLayout</code>.
The content pane for all
<code>JApplet</code>,
<code>JDialog</code>, and
<code>JFrame</code> objects
is initialized to use a <code>BorderLayout</code>.
Other Swing containers 
tend to have very specialized layout managers
or, as in the case of 
<a target="_top" href="..\components\layeredpane.html"><code>JLayeredPane</code></a><a target="_top" href="..\components\layeredpane.html"><img src="http://docs.rinet.ru/Jtuta/images/uiIcon.gif" width=20 height=20 border=0 alt="(in the Creating a User Interface trail)"></a>, no layout manager at all.
[PENDING: reword other layout stuff to reflect this.]

<p>

If you want to use a container's default layout manager,
you don't have to do a thing.
The constructor for the container 
creates a layout manager instance
and initializes the container to use it.

<p>

To use a layout manager other than the default layout manager,
you must create an instance of the desired layout manager class
and tell the container to use it.
Normally, you would do this only for <code>JPanel</code>s
and content panes.
The following statement creates a <code>BorderLayout</code> manager
and sets it up as the layout manager for a panel.
<blockquote>
<pre>
aJPanel.setLayout(new BorderLayout());
</pre>
</blockquote>

Here is an example of making a <code>FlowLayout</code> object
the layout manager for a applet's content pane:

<blockquote>
<pre>
//In a JApplet subclass:
Container contentPane = getContentPane();
contentPane.setLayout(new FlowLayout());
</pre>
</blockquote>

For examples of creating each layout manager,
see the how-to section for the particular layout manager.


</blockquote>
<h4>
<a name="using">
Rules of Thumb for Using Layout Managers
</a>
</h4>

<blockquote>
The <code>Container</code>
methods that result in calls to the container's layout manager are
<code>add</code>,
<code>remove</code>,
<code>removeAll</code>,
<code>doLayout</code>,
<code>invalidate</code>,
<code>getAlignmentX</code>,
<code>getAlignmentY</code>,
<code>getPreferredSize</code>,
<code>getMinimumSize</code>,
and <code>getMaximumSize</code>.
The
<code>add</code>,
<code>remove</code>, and
<code>removeAll</code>
methods add and remove components from a container;
you can call them at any time.
The 
<code>doLayout</code> method,
which is called as the result of any paint request to a container
or of a <code>validate</code> call on the container, 
requests that the container
place and size itself and the components it contains;
you don't call the <code>doLayout</code> method directly.
[PENDING: check with aim]

<p>
If you change the size of a component,
even by indirect means such as changing its font,
the component should automatically resize and repaint itself.
If that doesn't happen for some reason, then
you should invoke the <code>revalidate</code> method on the component.
This request is passed up the containment hierarchy 
until it encounters a container,
such as a scroll pane or top-level container,
that shouldn't be affected by the component's resizing.
(This is determined by calling the container's
<code>isValidateRoot</code> method.)
The container is then laid out,
which has the effect of adjusting the revalidated component's
size and the size of all affected components.
After calling <code>revalidate</code> on a component,
you should then invoke <code>repaint</code> on it.
[PENDING: check]

<p>

The <code>getAlignmentX</code> and <code>getAlignmentY</code>
methods are called by layout managers
that try to align groups of components.
<code>BoxLayout</code> is the only layout manager
we discuss that calls these methods.
[PENDING: OverlayLayout also calls these methods
and implements LayoutManager2;
be careful about promises about "Java platform";
"layout managers discussed in this trail/book" is more
accurate.]

<p>
The <code>getPreferredSize</code>,
<code>getMinimumSize</code>,
and <code>getMaximumSize</code> methods
return the container's ideal, minimum, and maximum sizes, respectively.
The values returned are just hints;
a layout manager can ignore them.

<p>

</blockquote>


</blockquote>
<p>
<hr size=4>
<p> 
<table width="100%">
<tr>
<td align=left>
<a href="using.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=top border=0 alt="Previous | "></a><a
href="border.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=top border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=top border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/uiHeader.gif" width=26 height=26 align=top border=0 alt="Creating a GUI with JFC/Swing | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>Laying Out Components Within a Container</em></strong></a>
</td>
</tr>
</table>
</body>
</html>
