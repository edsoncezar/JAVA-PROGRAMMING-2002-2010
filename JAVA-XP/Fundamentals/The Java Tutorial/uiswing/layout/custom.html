




















<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<title>Creating a Custom Layout Manager</title>
</head>
<body BGCOLOR="#ffffff">










<table width="100%">
<tr>
<td align=left>
<a href="gridbagexample.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=bottom border=0 alt="Previous | "></a><a
href="none.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=bottom border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=bottom border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/uiHeader.gif" width=26 height=26 align=bottom border=0 alt="Creating a GUI with JFC/Swing | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>Laying Out Components Within a Container</em></strong></a>
</td>
</tr>
</table>
<p>
<center>
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
</center>
<p> 

<h2>
    Creating a Custom Layout Manager
</h2>
<p>
<blockquote>

<blockquote>
<hr>
<strong>Note:</strong>
Before you start creating a custom layout manager,
make sure that no existing layout manager will work.
In particular, 
<a href=gridbag.html><code>GridBagLayout</code></a>
and <a href=box.html><code>BoxLayout</code></a>
are flexible enough to work in many cases.
You can also find layout managers from other sources,
such as from the Internet.
Finally, you can simplify layout
by grouping components into containers
such as invisible 
<a target="_top" href="..\components\panel.html">panels</a><a target="_top" href="..\components\panel.html"><img src="http://docs.rinet.ru/Jtuta/images/uiIcon.gif" width=20 height=20 border=0 alt="(in the Creating a User Interface trail)"></a>.
<hr>
</blockquote>
<p>

To create a custom layout manager,
you must create a class that implements the
<a target="_top" href="http://java.sun.com/products/jdk/1.1/api/java.awt.LayoutManager.html"><code>LayoutManager</code></a><a target="_top" href="http://java.sun.com/products/jdk/1.1/api/java.awt.LayoutManager.html"><img src="http://docs.rinet.ru/Jtuta/images/apiIcon.gif" width=20 height=20 border=0 alt="(in the API reference documentation)"></a> interface.
You can either implement it directly,
or implement its subinterface, 
<a target="_top" href="http://java.sun.com/products/jdk/1.1/api/java.awt.LayoutManager2.html"><code>LayoutManager2</code></a><a target="_top" href="http://java.sun.com/products/jdk/1.1/api/java.awt.LayoutManager2.html"><img src="http://docs.rinet.ru/Jtuta/images/apiIcon.gif" width=20 height=20 border=0 alt="(in the API reference documentation)"></a>.

<p>

Every layout manager must implement at least
the following five methods, 
which are required by the <code>LayoutManager</code> interface:
<p>

<dl>
<dt><strong><code>void addLayoutComponent(String, Component)</code></strong>
<dd>Called by the <code>Container</code> <code>add</code> methods.
    Layout managers that don't associate strings with their components 
    generally do nothing in this method.

    <p>

<dt><strong><code>void removeLayoutComponent(Component)</code></strong>
<dd>Called by the <code>Container</code> <code>remove</code> and
    <code>removeAll</code> methods.
    Many layout managers 
    do nothing in this method,
    relying instead on querying the container for its components,
    using the <code>Container</code> <code>getComponents</code> method.

    <p>

<dt><strong><code>Dimension preferredLayoutSize(Container)</code></strong>
<dd>Called by the <code>Container</code> <code>getPreferredSize</code> method,
    which is itself called under a variety of circumstances.
    This method should calculate and return the ideal size of the container,
    assuming that the components it contains will be at or above
    their preferred sizes.
    This method must take into account the container's internal borders,
    which are returned by the
    <code>getInsets</code> method.

    <p>

<dt><strong><code>Dimension minimumLayoutSize(Container)</code></strong>
<dd>Called by the <code>Container</code> <code>getMinimumSize</code> method,
    which is itself called under a variety of circumstances.
    This method should calculate and return the minimum size of the container,
    assuming that the components it contains 
    will be at or above their minimum sizes.
    This method must take into account the container's internal borders,
    which are returned by the 
    <code>getInsets</code> method.

    <p>

<dt><strong><code>void layoutContainer(Container)</code></strong>
<dd>Called when the container is first displayed,
    and each time its size changes.
    A layout manager's <code>layoutContainer</code> method
    doesn't actually draw components.
    It simply invokes each component's 
    <code>resize</code>,
    <code>move</code>,
    and
    <code>reshape</code>
    methods to set the component's size and position.
    This method must take into account the container's internal borders,
    which are returned by the 
    <code>getInsets</code> method.
    You can't assume that the <code>preferredLayoutSize</code>
    or <code>minimumLayoutSize</code> method will be called
    before <code>layoutContainer</code> is called.

</dl>

<p>

Besides implementing the preceding five methods,
layout managers generally implement at least one public constructor
and the 
<code>toString</code>
method.

<p>

If you wish to support component
constraints, maximum sizes, or alignment,
then your layout manager should implement the
<code>LayoutManager2</code> interface.
That interface adds five methods to those
required by <code>LayoutManager</code>:

<ul>
<li> <code>addLayoutComponent(Component, Object)</code>
<li> <code>getLayoutAlignmentX(Container)</code>
<li> <code>getLayoutAlignmentY(Container)</code>
<li> <code>invalidateLayout(Container)</code>
<li> <code>maximumLayoutSize(Container)</code>
</ul>

For more information about these methods,
see the 
<a target="_top" href="http://java.sun.com/products/jdk/1.1/api/java.awt.LayoutManager2.html"><code>LayoutManager2</code> API documentation</a><a target="_top" href="http://java.sun.com/products/jdk/1.1/api/java.awt.LayoutManager2.html"><img src="http://docs.rinet.ru/Jtuta/images/apiIcon.gif" width=20 height=20 border=0 alt="(in the API reference documentation)"></a>.
Also see the source code for <code>BoxLayout</code>,
to see how it implements the <code>LayoutManager2</code> interface.

<p>

When implementing a layout manager,
you might want to use 
<a target="_top" href="http://java.sun.com/products/jfc/swingdoc-api/javax/swing/SizeRequirements.html"><code>SizeRequirements</code></a><a target="_top" href="http://java.sun.com/products/jfc/swingdoc-api/javax/swing/SizeRequirements.html"><img src="http://docs.rinet.ru/Jtuta/images/apiIcon.gif" width=20 height=20 border=0 alt="(in the API reference documentation)"></a> objects to help you determine
the size and position of components.
See the source code for <code>BoxLayout</code>
for an example of using <code>SizeRequirements</code>.

<p>

Here's <a href=http://docs.rinet.ru/Jtuta/uiswing/layout/example-swing/DiagonalLayout.java>source code</a>
for a custom layout manager named <code>DiagonalLayout</code>.
It lays out components diagonally, 
from left to right, 
with one component per row.
Here's an example of <code>DiagonalLayout</code> in action:
<p>

<blockquote><a href="customdemo.html" target="_blank"><IMG SRC="http://docs.rinet.ru/Jtuta/figures/uiswing/layout/13custom31.gif" WIDTH="325" HEIGHT="170" ALIGN="BOTTOM" NATURALSIZEFLAG="3" ALT="Click this figure to run the applet."></a><br><em>This is a picture of the applet's GUI.  To run the applet, click the picture.  The applet will appear in a new browser window.</em></blockquote>
</blockquote>
<p>
<hr size=4>
<p> 
<table width="100%">
<tr>
<td align=left>
<a href="gridbagexample.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=top border=0 alt="Previous | "></a><a
href="none.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=top border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=top border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/uiHeader.gif" width=26 height=26 align=top border=0 alt="Creating a GUI with JFC/Swing | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>Laying Out Components Within a Container</em></strong></a>
</td>
</tr>
</table>
</body>
</html>
