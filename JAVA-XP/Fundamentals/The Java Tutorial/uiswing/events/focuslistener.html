




















<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<title>How to Write a Focus Listener</title>
</head>
<body BGCOLOR="#ffffff">










<table width="100%">
<tr>
<td align=left>
<a href="documentlistener.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=bottom border=0 alt="Previous | "></a><a
href="internalframelistener.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=bottom border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=bottom border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/uiHeader.gif" width=26 height=26 align=bottom border=0 alt="Creating a GUI with JFC/Swing | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>Writing Event Listeners</em></strong></a>
</td>
</tr>
</table>
<p>
<center>
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
</center>
<p> 

<h2>
    How to Write a Focus Listener
</h2>
<p>
<blockquote>

Many components--even those primarily operated
with the mouse, such as buttons--can be operated
with the keyboard.
[PENDING: mention accessibility here?]
For a keypress to affect a component,
the component must have the keyboard focus.
<p>
From the user's point of view,
the component with the keyboard focus is generally
prominent--with a thicker boarder than usual, for example--
and the window containing the component is also more prominent
than other windows on-screen.
These visual cues let the user know
to which component any typing will go.
At most one component in the window
system can have the keyboard focus.
<p>
Focus events are generated
whenever a component gains or loses the
<em>keyboard focus</em>.
Exactly how components gain the focus
depends on the window system.
Typically, the user sets the focus
by clicking a window or component,
by tabbing between components,
or by otherwise interacting with a component.
Once the focus is in a window
(the window is <em>activated</em>),
a program can use the <code>Component</code>
<code>requestFocus</code> method to request
that a specific component get the focus.

<h4>Focus Event Methods</h4>
<blockquote>

The
<a target="_top" href="http://java.sun.com/products/jdk/1.1/api/java.awt.event.FocusListener.html"><code>FocusListener</code></a><a target="_top" href="http://java.sun.com/products/jdk/1.1/api/java.awt.event.FocusListener.html"><img src="http://docs.rinet.ru/Jtuta/images/apiIcon.gif" width=20 height=20 border=0 alt="(in the API reference documentation)"></a> interface 
and its corresponding adapter class, 
<a target="_top" href="http://java.sun.com/products/jdk/1.1/api/java.awt.event.FocusAdapter.html"><code>FocusAdapter</code></a><a target="_top" href="http://java.sun.com/products/jdk/1.1/api/java.awt.event.FocusAdapter.html"><img src="http://docs.rinet.ru/Jtuta/images/apiIcon.gif" width=20 height=20 border=0 alt="(in the API reference documentation)"></a>, contain two methods:

<dl>
<dt> <strong><code>void focusGained(FocusEvent)</code></strong>
<dd> Called
     just after the listened-to component gets the focus.
<dt> <strong><code>void focusLost(FocusEvent)</code></strong>
<dd> Called
     just after the listened-to component loses the focus.
</dl>

</blockquote>
<h4>Examples of Handling Focus Events</h4>
<blockquote>

The following applet demonstrates focus events.
By clicking the top button in the applet,
you can bring up a window 
that contains a variety of components.
A focus listener listens for focus events
on each component in the window,
including the window itself
(which is an instance of a <code>JFrame</code> subclass
called <code>FocusWindow</code>).

<p>

<blockquote><a href="focuseventdemo.html" target="_blank"><IMG SRC="http://docs.rinet.ru/Jtuta/figures/uiswing/events/FocusEventDemo.gif" WIDTH="400" HEIGHT="200" ALIGN="BOTTOM" NATURALSIZEFLAG="3" ALT="Click this figure to run the applet."></a><br><em>This is a picture of the applet's GUI.  To run the applet, click the picture.  The applet will appear in a new browser window.</em></blockquote>
<p>

<blockquote>
<hr>
<strong>Try this:</strong>
<ol>
<li> <strong>Bring up the Focus Event Window by clicking the top button
     in the applet.</strong>
     
<blockquote><IMG SRC="http://docs.rinet.ru/Jtuta/figures/uiswing/events/FocusEventDemoWindow.gif" WIDTH="374" HEIGHT="229" ALIGN="BOTTOM" NATURALSIZEFLAG="3" ALT=""></blockquote>     If necessary, click the Focus Event Window so that its
     contents can gain the keyboard focus.
     You'll see a "Focus gained" message
     in the applet's display area.
     The way in which its window gets the focus
     and which components get the focus
     are system dependent by default.
     You can detect when the window gets or loses the focus
     by implementing a <a href="windowlistener.html">window listener</a>
     and listening for window activation or deactivation events.
<li> <strong>Click the button at the right of the Focus Event Window,
     and then click in another component, such as the text field.</strong>
     <br>
     Notice that when the focus changes from one component to another,
     the first component generates a focus-lost event
     before the second component generates a focus-gained event.
<li> <strong>Try changing the focus by pressing Tab or Shift-Tab.</strong>
     <br>
     Most systems let you use the Tab key to cycle through 
     components that are able to get the focus.
<li> <strong>Iconify the Focus Event Window.</strong>
     <br>
     You should see a "Focus lost" message for the component
     that last had the focus.
</ol>
<hr>
</blockquote>

<p>

You can find the applet's code in 
<a href="http://docs.rinet.ru/Jtuta/uiswing/events/example-swing/FocusEventDemo.java">
<code>FocusEventDemo.java</code></a>.
Here is the applet's focus event handling code:

<blockquote>
<pre>
public class FocusEventDemo ... implements FocusListener ... {
	<em>...//where initialization occurs</em>
	window = new FocusWindow(this);
    ...
    public void focusGained(FocusEvent e) {
	displayMessage("Focus gained", e);
    }

    public void focusLost(FocusEvent e) {
	displayMessage("Focus lost", e);
    }

    void displayMessage(String prefix, FocusEvent e) {
	display.append(prefix
		       + ": "
		       + e.getComponent()
		       + newline); 
    }
    ...
}

class FocusWindow extends JFrame {
    ...
    public FocusWindow(FocusListener listener) {
	super("Focus Demo Window");
	this.addFocusListener(listener);
	...
	JLabel label = new JLabel("A Label");
	label.addFocusListener(listener);
	...
	JComboBox choice = new JComboBox(/* <em>list of items</em> */);
	...
	choice.addFocusListener(listener);
	...
	JButton button = new JButton("A Button");
	button.addFocusListener(listener);
	...
	JList list = new JList(/* <em>list of items</em> */);
	...
	list.addFocusListener(listener);
    }
}
</pre>
</blockquote>

<p>

</blockquote>
<h4>The FocusEvent Class</h4>
<blockquote>
Each focus event method has a single parameter: a
<a target="_top" href="http://java.sun.com/products/jdk/1.1/api/java.awt.event.FocusEvent.html"><code>FocusEvent</code></a><a target="_top" href="http://java.sun.com/products/jdk/1.1/api/java.awt.event.FocusEvent.html"><img src="http://docs.rinet.ru/Jtuta/images/apiIcon.gif" width=20 height=20 border=0 alt="(in the API reference documentation)"></a> object.
The <code>FocusEvent</code> class defines the following method:
<dl>
<dt> <strong><code>boolean isTemporary()</code></strong>
<dd> Returns true if a focus-lost event is temporary.
     You'll need to use this method if you're implementing
     a component that can indicate that it will get the
     focus if its window regains the focus.
</dl>


The <code>getComponent</code> method,
which <code>FocusEvent</code> inherits from
<a target="_top" href="http://java.sun.com/products/jdk/1.1/api/java.awt.event.ComponentEvent.html"><code>ComponentEvent</code></a><a target="_top" href="http://java.sun.com/products/jdk/1.1/api/java.awt.event.ComponentEvent.html"><img src="http://docs.rinet.ru/Jtuta/images/apiIcon.gif" width=20 height=20 border=0 alt="(in the API reference documentation)"></a>, returns the component that generated the focus event.

</blockquote>

</blockquote>
<p>
<hr size=4>
<p> 
<table width="100%">
<tr>
<td align=left>
<a href="documentlistener.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=top border=0 alt="Previous | "></a><a
href="internalframelistener.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=top border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=top border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/uiHeader.gif" width=26 height=26 align=top border=0 alt="Creating a GUI with JFC/Swing | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>Writing Event Listeners</em></strong></a>
</td>
</tr>
</table>
</body>
</html>
