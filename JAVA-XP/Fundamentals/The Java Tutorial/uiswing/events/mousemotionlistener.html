




















<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<title>How to Write a Mouse-Motion Listener</title>
</head>
<body BGCOLOR="#ffffff">










<table width="100%">
<tr>
<td align=left>
<a href="mouselistener.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=bottom border=0 alt="Previous | "></a><a
href="undoableeditlistener.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=bottom border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=bottom border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/uiHeader.gif" width=26 height=26 align=bottom border=0 alt="Creating a GUI with JFC/Swing | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>Writing Event Listeners</em></strong></a>
</td>
</tr>
</table>
<p>
<center>
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
</center>
<p> 

<h2>
    How to Write a Mouse-Motion Listener
</h2>
<p>
<blockquote>

Mouse-motion events tell you
when the user uses the mouse
(or a similar input device)
to move the onscreen cursor.
For information on listening for other kinds of mouse events,
such as clicks,
see <a href="mouselistener.html">How to Write a Mouse Listener</a>.

<p>

[PENDING: mention swing's MouseInputAdapter dodad] 


<h4>Mouse-Motion Event Methods</h4>
<blockquote>

The
<a target="_top" href="http://java.sun.com/products/jdk/1.1/api/java.awt.event.MouseMotionListener.html"><code>MouseMotionListener</code></a><a target="_top" href="http://java.sun.com/products/jdk/1.1/api/java.awt.event.MouseMotionListener.html"><img src="http://docs.rinet.ru/Jtuta/images/apiIcon.gif" width=20 height=20 border=0 alt="(in the API reference documentation)"></a> interface 
and its corresponding adapter class, 
<a target="_top" href="http://java.sun.com/products/jdk/1.1/api/java.awt.event.MouseMotionAdapter.html"><code>MouseMotionAdapter</code></a><a target="_top" href="http://java.sun.com/products/jdk/1.1/api/java.awt.event.MouseMotionAdapter.html"><img src="http://docs.rinet.ru/Jtuta/images/apiIcon.gif" width=20 height=20 border=0 alt="(in the API reference documentation)"></a>, contain these methods:

<dl>
<dt> <strong><code>void mouseDragged(MouseEvent)</code></strong>
<dd> Called
     in response to the user moving
     the mouse while holding a mouse button down.
     This event is fired by the component
     that fired the most recent mouse-pressed event,
     even if the cursor is no longer over that component.

<dt> <strong><code>void mouseMoved(MouseEvent)</code></strong>
<dd> Called
     in response to the user moving
     the mouse with no mouse buttons pressed.
     This event is fired by the component
     that's currently under the cursor.
</dl>

</blockquote>
<h4>Examples of Handling Mouse-Motion Events</h4>
<blockquote>

The following applet contains a mouse-motion listener.
It's exactly like the applet in 
<a href="mouselistener.html">How to Write a Mouse Listener</a>,
except for substituting <code>MouseMotionListener</code>
for <code>MouseListener</code>,
and implements the <code>mouseDragged</code> and
<code>mouseMoved</code> methods 
instead of the mouse listener methods.
You can find the applet's code in 
<a href="http://docs.rinet.ru/Jtuta/uiswing/events/example-swing/MouseMotionEventDemo.java"><code>MouseMotionEventDemo.java</code></a> and
<a href="http://docs.rinet.ru/Jtuta/uiswing/events/example-swing/BlankArea.java"><code>BlankArea.java</code></a>.

<p>

<blockquote><a href="mousemotioneventdemo.html" target="_blank"><IMG SRC="http://docs.rinet.ru/Jtuta/figures/uiswing/events/MouseMotionEventDemo.gif" WIDTH="450" HEIGHT="200" ALIGN="BOTTOM" NATURALSIZEFLAG="3" ALT="Click this figure to run the applet."></a><br><em>This is a picture of the applet's GUI.  To run the applet, click the picture.  The applet will appear in a new browser window.</em></blockquote>
<p>

<blockquote>
<hr>
<strong>Try this:</strong>
<ol>
<li> <strong>Move the cursor into the yellow rectangle
      at the top of the applet.</strong>
     <br>
     You'll see one or more mouse-moved events.
<li> <strong>Press and hold the mouse button,
     and then move the mouse so that the cursor
     is outside the yellow rectangle.</strong>
     <br>
     You'll see mouse-dragged events.
</ol>
<hr>
</blockquote>

<p>

The following code is from an event handling class in the 
<a href="http://docs.rinet.ru/Jtuta/uiswing/painting/example-swing/RectangleDemo.java"><code>RectangleDemo.java</code></a>
source file.
[PENDING: doublecheck code. should this demo use Swing's MouseInputAdapter?
update the demo code to be swing instead of AWT]
This class handles three kinds of events:
mouse presses, mouse drags, and mouse releases.
These events correspond to the 
<code>mousePressed</code> method
(from <code>MouseListener</code>), 
<code>mouseDragged</code>
(from <code>MouseMotionListener</code>), 
<code>mouseReleased</code>
(from <code>MouseListener</code>).
Thus, this class must implement both 
<code>MouseListener</code> and 
<code>MouseMotionListener</code>.
To avoid having to define too many empty methods,
this class doesn't implement 
<code>MouseListener</code> directly.
Instead, it extends MouseAdapter
 and implements only 
<code>MouseMotionListener</code> directly.

<blockquote>
<pre>
<em>...//where initialization occurs:</em>
    MyListener myListener = new MyListener();
    addMouseListener(myListener);
    addMouseMotionListener(myListener);
...
class MyListener extends MouseAdapter 
                 implements MouseMotionListener {
    public void mousePressed(MouseEvent e) {
        int x = e.getX();
        int y = e.getY();
        currentRect = new Rectangle(x, y, 0, 0);
        repaint();
    }

    public void mouseDragged(MouseEvent e) {
        updateSize(e);
    }

    public void mouseMoved(MouseEvent e) {
        //Do nothing.
    }

    public void mouseReleased(MouseEvent e) {
        updateSize(e);
    }

    void updateSize(MouseEvent e) {
        int x = e.getX();
        int y = e.getY();
        currentRect.setSize(x - currentRect.x,
                            y - currentRect.y);
        repaint();
    }
}
</pre>
</blockquote>

<p>

</blockquote>
<h4>Event Methods Used by Mouse-Motion Listeners</h4>
<blockquote>
Each mouse-motion event method has a single parameter --
and it's <em>not</em> called <code>MouseMotionEvent</code>!
Instead, each mouse-motion event method has a
<code>MouseEvent</code> argument.
See <a href="mouselistener.html#mousevent">The MouseEvent Class</a>
for information about using <code>MouseEvent</code> objects.
</blockquote>

</blockquote>
<p>
<hr size=4>
<p> 
<table width="100%">
<tr>
<td align=left>
<a href="mouselistener.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=top border=0 alt="Previous | "></a><a
href="undoableeditlistener.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=top border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=top border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/uiHeader.gif" width=26 height=26 align=top border=0 alt="Creating a GUI with JFC/Swing | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>Writing Event Listeners</em></strong></a>
</td>
</tr>
</table>
</body>
</html>
