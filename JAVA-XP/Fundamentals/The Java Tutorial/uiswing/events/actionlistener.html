




















<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<title>How to Write an Action Listener</title>
</head>
<body BGCOLOR="#ffffff">










<table width="100%">
<tr>
<td align=left>
<a href="handling.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=bottom border=0 alt="Previous | "></a><a
href="caretlistener.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=bottom border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=bottom border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/uiHeader.gif" width=26 height=26 align=bottom border=0 alt="Creating a GUI with JFC/Swing | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>Writing Event Listeners</em></strong></a>
</td>
</tr>
</table>
<p>
<center>
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
</center>
<p> 

<h2>
    How to Write an Action Listener
</h2>
<p>
<blockquote>

Action listeners are probably the easiest -- and most common --
event handlers to implement.
You implement an action listener
to respond to the user's indication
that some implementation-dependent action should occur.

<p>

When the user clicks a 
<a target="_top" href="..\components\button.html">button</a><a target="_top" href="..\components\button.html"><img src="http://docs.rinet.ru/Jtuta/images/uiIcon.gif" width=20 height=20 border=0 alt="(in the Creating a User Interface trail)"></a>, chooses a 
<a target="_top" href="..\components\menu.html">menu item</a><a target="_top" href="..\components\menu.html"><img src="http://docs.rinet.ru/Jtuta/images/uiIcon.gif" width=20 height=20 border=0 alt="(in the Creating a User Interface trail)"></a> or presses Return in a 
<a target="_top" href="..\components\textfield.html">text field</a><a target="_top" href="..\components\textfield.html"><img src="http://docs.rinet.ru/Jtuta/images/uiIcon.gif" width=20 height=20 border=0 alt="(in the Creating a User Interface trail)"></a>, an action event occurs.
The result is that an <code>actionPerformed</code> message 
is sent to all action listeners 
that are registered on the relevant component.

<h4>Action Event Methods</h4>
<blockquote>

The
<a target="_top" href="http://java.sun.com/products/jdk/1.1/api/java.awt.event.ActionListener.html"><code>ActionListener</code></a><a target="_top" href="http://java.sun.com/products/jdk/1.1/api/java.awt.event.ActionListener.html"><img src="http://docs.rinet.ru/Jtuta/images/apiIcon.gif" width=20 height=20 border=0 alt="(in the API reference documentation)"></a> interface contains a single method,
and thus has no corresponding adapter class.
Here is the lone <code>ActionListener</code> method:
<dl>
<dt> <strong><code>void actionPerformed(ActionEvent)</code></strong>
<dd> Called just after the user 
     informs the listened-to component
     that an action should occur.
</dl>

</blockquote>
<h4>Examples of Handling Action Events</h4>
<blockquote>

Here is the action event handling code from an applet named
<code>Beeper</code>:

<blockquote>
<pre>
public class Beeper ...  implements ActionListener {
    ...
    <em>//where initialization occurs:</em>
        button.addActionListener(this);
    ...
    public void actionPerformed(ActionEvent e) {
	Toolkit.getDefaultToolkit().beep();
    }
}
</pre>
</blockquote>

The <code>Beeper</code> applet is described
in this trail's introduction to events,
<a href="intro.html">Some Simple Event-Handling Examples</a>.
You can find the entire program in 
<a href="http://docs.rinet.ru/Jtuta/uiswing/events/example-swing/Beeper.java"><code>Beeper.java</code></a>.
The other example described int that section,
<a href="http://docs.rinet.ru/Jtuta/uiswing/events/example-swing/MultiListener.java"><code>MultiListener.java</code></a>,
has two action sources and two action listeners,
with one listener listening to both sources
and the other listening to just one.

<p>

Here are some more of the many source files in this tutorial
that contain action listeners:
<ul>
<li> <a href="http://docs.rinet.ru/Jtuta/applet/appletsonly/example-1dot1/ShowDocument.java"><code>ShowDocument.java</code></a>
<li> <a href="http://docs.rinet.ru/Jtuta/uiswing/components/example-swing/ButtonDemo.java"><code>ButtonDemo.java</code></a>
<li> <a href="http://docs.rinet.ru/Jtuta/uiswing/components/example-swing/DialogDemo.java"><code>DialogDemo.java</code></a>
<li> <a href="http://docs.rinet.ru/Jtuta/uiswing/components/example-swing/ListDialog.java"><code>ListDialog.java</code></a>
<li> <a href="http://docs.rinet.ru/Jtuta/uiswing/components/example-swing/MenuDemo.java"><code>MenuDemo.java</code></a>
<li> <a href="http://docs.rinet.ru/Jtuta/uiswing/components/example-swing/TextDemo.java"><code>TextDemo.java</code></a>
</ul>


</blockquote>
<h4>The ActionEvent Class</h4>
<blockquote>
The <code>actionPerformed</code> method has a single parameter: an
<a target="_top" href="http://java.sun.com/products/jdk/1.1/api/java.awt.event.ActionEvent.html"><code>ActionEvent</code></a><a target="_top" href="http://java.sun.com/products/jdk/1.1/api/java.awt.event.ActionEvent.html"><img src="http://docs.rinet.ru/Jtuta/images/apiIcon.gif" width=20 height=20 border=0 alt="(in the API reference documentation)"></a> object.
The <code>ActionEvent</code> class defines two useful methods:
<dl>
<dt><strong><code>String getActionCommand()</code></strong>
<dd>Returns the string associated with this action.
    Most objects that can generate actions
    support a method called <code>setActionCommand</code>
    that lets you set this string.
    If you don't set the action command explicitly,
    then it's generally the text displayed in the component.
    For objects with multiple items,
    and thus multiple possible actions,
    the action command is generally the name of the selected item. 

<dt><strong><code>int getModifiers()</code></strong>
<dd>Returns an integer representing
    the modifier keys the user was pressing
    when the action event occurred.
    You can use the <code>ActionEvent</code>-defined constants 
    <code>SHIFT_MASK</code>,
    <code>CTRL_MASK</code>,
    <code>META_MASK</code>, and
    <code>ALT_MASK</code>
    to determine which keys were pressed.
    For example, if the user Shift-selects a menu item,
    then the following expression is nonzero:
    <blockquote>
    <pre>
actionEvent.getModifiers() & ActionEvent.SHIFT_MASK
    </pre>
    </blockquote>
</dl>
Also useful is the <code>getSource</code> method,
which <code>ActionEvent</code> inherits from
<a target="_top" href="http://java.sun.com/products/jdk/1.1/api/java.util.EventObject.html"><code>EventObject</code></a><a target="_top" href="http://java.sun.com/products/jdk/1.1/api/java.util.EventObject.html"><img src="http://docs.rinet.ru/Jtuta/images/apiIcon.gif" width=20 height=20 border=0 alt="(in the API reference documentation)"></a> by way of <code>AWTEvent</code>.
See <a href="generalrules.html#awteventclass">The AWTEvent Class</a>.
</blockquote>

</blockquote>
<p>
<hr size=4>
<p> 
<table width="100%">
<tr>
<td align=left>
<a href="handling.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=top border=0 alt="Previous | "></a><a
href="caretlistener.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=top border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=top border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/uiHeader.gif" width=26 height=26 align=top border=0 alt="Creating a GUI with JFC/Swing | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>Writing Event Listeners</em></strong></a>
</td>
</tr>
</table>
</body>
</html>
