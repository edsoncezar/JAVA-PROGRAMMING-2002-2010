




















<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<title>How to Write an Internal Frame Listener</title>
</head>
<body BGCOLOR="#ffffff">










<table width="100%">
<tr>
<td align=left>
<a href="focuslistener.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=bottom border=0 alt="Previous | "></a><a
href="itemlistener.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=bottom border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=bottom border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/uiHeader.gif" width=26 height=26 align=bottom border=0 alt="Creating a GUI with JFC/Swing | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>Writing Event Listeners</em></strong></a>
</td>
</tr>
</table>
<p>
<center>
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
</center>
<p> 

<h2>
    How to Write an Internal Frame Listener
</h2>
<p>
<blockquote>

Internal frame events are to 
<a target="_top" href="..\components\internalframe.html"><code>JInternalFrame</code></a><a target="_top" href="..\components\internalframe.html"><img src="http://docs.rinet.ru/Jtuta/images/uiIcon.gif" width=20 height=20 border=0 alt="(in the Creating a User Interface trail)"></a> what window events are to
<a target="_top" href="..\components\frame.html"><code>JFrame</code></a><a target="_top" href="..\components\frame.html"><img src="http://docs.rinet.ru/Jtuta/images/uiIcon.gif" width=20 height=20 border=0 alt="(in the Creating a User Interface trail)"></a>.
Like window events,
internal frame events
notify listeners that the "window"
has been shown for the first time, disposed of,
iconified, deiconified,
activated, or deactivated.
Before using internal frame events, 
please familiarize yourself with
<a href="windowlistener.html">How to Write a Window Listener</a>.

<p>


<h4>Internal Frame Event Methods</h4>
<blockquote>
The
<a target="_top" href="http://java.sun.com/products/jfc/swingdoc-api/javax/swing/event/InternalFrameListener.html"><code>InternalFrameListener</code></a><a target="_top" href="http://java.sun.com/products/jfc/swingdoc-api/javax/swing/event/InternalFrameListener.html"><img src="http://docs.rinet.ru/Jtuta/images/apiIcon.gif" width=20 height=20 border=0 alt="(in the API reference documentation)"></a> interface 
and its corresponding adapter class, 
<a target="_top" href="http://java.sun.com/products/jfc/swingdoc-api/javax/swing/event/InternalFrameAdapter.html"><code>InternalFrameAdapter</code></a><a target="_top" href="http://java.sun.com/products/jfc/swingdoc-api/javax/swing/event/InternalFrameAdapter.html"><img src="http://docs.rinet.ru/Jtuta/images/apiIcon.gif" width=20 height=20 border=0 alt="(in the API reference documentation)"></a>, contain these methods:

<p>
<dl>
<dt> <strong><code>void internalFrameOpened(InternalFrameEvent)</code></strong>
<dd> Called
     just after the listened-to internal frame
     has been shown for the first time.

<p>
<dt> <strong><code>void internalFrameClosing(InternalFrameEvent)</code></strong>
<dd> Called
     in response to a user request that the listened-to internal frame
     be closed.
     By default, <code>JInternalFrame</code>
     hides the window when the user closes it.
     You can use the <code>JInternalFrame</code>
     <code>setDefaultCloseOperation</code>
     method to specify another option,
     which must be either <code>DISPOSE_ON_CLOSE</code>
     or <code>DO_NOTHING_ON_CLOSE</code>
     (both defined in <code>WindowConstants</code>, 
     an interface that
     <code>JInternalFrame</code> implements).
     Or by implementing an <code>internalFrameClosing</code>
     method in the internal frame's listener,
     you can add custom behavior 
     (such as bringing up dialogs or saving data)
     to internal frame closing.

<p>
<dt> <strong><code>void internalFrameClosed(InternalFrameEvent)</code></strong>
<dd> Called
     just after the listened-to internal frame has 
     been disposed of.

<p>
<dt> <strong><code>void internalFrameIconified(InternalFrameEvent)</code></strong>
     <br>
     <strong><code>void internalFrameDeiconified(InternalFrameEvent)</code></strong>
<dd> Called
     just after the listened-to internal frame
     is iconified or deiconified, respectively.

<p>
<dt> <strong><code>void internalFrameActivated(InternalFrameEvent)</code></strong>
     <br>
     <strong><code>void internalFrameDeactivated(InternalFrameEvent)</code></strong>
<dd> Called
     just after the listened-to internal frame
     is activated or deactivated, respectively.
</dl>

</blockquote>
<h4>Examples of Handling InternalFrameEvents</h4>
<blockquote>

The application shown in the following figure
demonstrates internal frame events.
The application listens for internal frame events
from the Event Generator frame,
displaying a message that describes each event.

<blockquote><IMG SRC="http://docs.rinet.ru/Jtuta/figures/uiswing/events/InternalFrameEventDemo.gif" WIDTH="511" HEIGHT="329" ALIGN="BOTTOM" NATURALSIZEFLAG="3" ALT="Screendump of InternalFrameEventDemo"></blockquote>
<blockquote>
<hr>
<strong>Try this:</strong>
<ol>
<li> Compile and run <code>InternalFrameEventDemo</code>.
     The source file is
     <a href="http://docs.rinet.ru/Jtuta/uiswing/events/example-swing/InternalFrameEventDemo.java">
     <code>InternalFrameEventDemo.java</code></a>.
     <br>
     See <a href="..\start\index.html">Getting Started with Swing</a> if you need help.

<li> Bring up the Event Generator internal frame
     by clicking the applet's top button.
     <br>
     You should see an "Internal frame opened" message
     in the display area 
[PENDING: but you don't!].
<li> Try various operations to see what happens.
     For example, click the Event Generator
     so that it gets activated.
     Click the Event Watcher so that the
     Event Generator gets deactivated.
     Click the Event Generator's decorations to 
     iconify, maximize, minimize, and close the window.
     <br>
     See <a href="windowlistener.html">How to Write a Window Listener</a>
     for information on what kinds of events you'll see.
</ol>
<hr>
</blockquote>

Here is the internal frame event handling code:

<blockquote>
<pre>
public class InternalFrameEventDemo ...
		     implements InternalFrameListener ... {
    ...
    protected void createListenedToWindow() {
	listenedToWindow = new JInternalFrame("Event Generator",
					      true,  //resizable
					      true,  //closable
					      true,  //maximizable
					      true); //iconifiable
	listenedToWindow.setDefaultCloseOperation(
				WindowConstants.DISPOSE_ON_CLOSE);
	...
    }

    public void internalFrameClosing(InternalFrameEvent e) {
	displayMessage("Internal frame closing", e);
    }

    public void internalFrameClosed(InternalFrameEvent e) {
	displayMessage("Internal frame closed", e);
	listenedToWindow = null;
    }

    public void internalFrameOpened(InternalFrameEvent e) {
	displayMessage("Internal frame opened", e);
    }

    public void internalFrameIconified(InternalFrameEvent e) {
	displayMessage("Internal frame iconified", e);
    }

    public void internalFrameDeiconified(InternalFrameEvent e) {
	displayMessage("Internal frame deiconified", e);
    }

    public void internalFrameActivated(InternalFrameEvent e) {
	displayMessage("Internal frame activated", e);
    }

    public void internalFrameDeactivated(InternalFrameEvent e) {
	displayMessage("Internal frame deactivated", e);
    }

    void displayMessage(String prefix, InternalFrameEvent e) {
	String s = prefix + ": " + e.getSource(); 
	display.append(s + newline);
    }

    public void actionPerformed(ActionEvent e) {
	if (e.getActionCommand().equals(SHOW)) {
	    ...
	    if (listenedToWindow == null) {
	        createListenedToWindow();
	        listenedToWindow.addInternalFrameListener(this);
	        ...
	    }
	} 
	...
    }
}
</pre>
</blockquote>

<p>

No other source files currently contain internal frame listeners.
However, internal frame listeners are very similar to window listeners,
and many Swing programs have window listeners:

<p>

<table>
<tr>
<th align=left> Example
<th align=left> Where Described
<th align=left> Notes

<tr>
<td>
<a target="_top" href="http://docs.rinet.ru/Jtuta/uiswing/components/example-swing/FrameDemo.java"><code>FrameDemo.java</code></a><a target="_top" href="http://docs.rinet.ru/Jtuta/uiswing/components/example-swing/FrameDemo.java"><img src="http://docs.rinet.ru/Jtuta/images/uiIcon.gif" width=20 height=20 border=0 alt="(in the Creating a User Interface trail)"></a><td>
<a target="_top" href="..\components\frame.html">How to Make Frames</a><a target="_top" href="..\components\frame.html"><img src="http://docs.rinet.ru/Jtuta/images/uiIcon.gif" width=20 height=20 border=0 alt="(in the Creating a User Interface trail)"></a><td> One of many examples that listens for 
     window closing events,
     so that the application can exit when its only window is closed.

<tr>
<td> 
<a target="_top" href="http://docs.rinet.ru/Jtuta/uiswing/components/example-swing/SliderDemo.java"><code>SliderDemo.java</code></a><a target="_top" href="http://docs.rinet.ru/Jtuta/uiswing/components/example-swing/SliderDemo.java"><img src="http://docs.rinet.ru/Jtuta/images/uiIcon.gif" width=20 height=20 border=0 alt="(in the Creating a User Interface trail)"></a><td> 
<a target="_top" href="..\components\slider.html">How to Use Sliders</a><a target="_top" href="..\components\slider.html"><img src="http://docs.rinet.ru/Jtuta/images/uiIcon.gif" width=20 height=20 border=0 alt="(in the Creating a User Interface trail)"></a><td> Listens for window iconify and deiconify events,
     so that it can stop the animation when the window isn't visible.


</table>

</blockquote>
<h4>The <code>InternalFrameEvent</code> Class</h4>
<blockquote>
Each internal frame event method has a single parameter: a
<a target="_top" href="http://java.sun.com/products/jfc/swingdoc-api/javax/swing/event/InternalFrameEvent.html"><code>InternalFrameEvent</code></a><a target="_top" href="http://java.sun.com/products/jfc/swingdoc-api/javax/swing/event/InternalFrameEvent.html"><img src="http://docs.rinet.ru/Jtuta/images/apiIcon.gif" width=20 height=20 border=0 alt="(in the API reference documentation)"></a> object.
The <code>InternalFrameEvent</code> class defines no generally
useful methods.
To get the internal frame that generated the event,
use the <code>getSource</code> method,
which <code>InternalFrameEvent</code> inherits from <code>EventObject</code>.


</blockquote>
</blockquote>
<p>
<hr size=4>
<p> 
<table width="100%">
<tr>
<td align=left>
<a href="focuslistener.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=top border=0 alt="Previous | "></a><a
href="itemlistener.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=top border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=top border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/uiHeader.gif" width=26 height=26 align=top border=0 alt="Creating a GUI with JFC/Swing | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>Writing Event Listeners</em></strong></a>
</td>
</tr>
</table>
</body>
</html>
