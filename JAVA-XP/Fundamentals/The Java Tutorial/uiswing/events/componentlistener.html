




















<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<title>How to Write a Component Listener</title>
</head>
<body BGCOLOR="#ffffff">










<table width="100%">
<tr>
<td align=left>
<a href="changelistener.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=bottom border=0 alt="Previous | "></a><a
href="containerlistener.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=bottom border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=bottom border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/uiHeader.gif" width=26 height=26 align=bottom border=0 alt="Creating a GUI with JFC/Swing | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>Writing Event Listeners</em></strong></a>
</td>
</tr>
</table>
<p>
<center>
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
</center>
<p> 

<h2>
    How to Write a Component Listener
</h2>
<p>
<blockquote>

One or more component events are generated
by a <code>Component</code> object
just after the component is hidden, made visible, moved, or resized.
An example of a component listener
might be in a GUI builder tool
that's displaying information about the size 
of the currently selected component,
and that needs to know when the component's size changes.
You shouldn't need to use component events
to manage basic layout and rendering.

<p>
The component-hidden and component-visible events
occur only as the result of calls to a <code>Component</code>'s
<code>setVisible</code> method
(or its deprecated equivalents,
<code>show</code> and <code>hide</code>).
For example, a window might be miniaturized into an icon (iconified)
without a component-hidden event being generated.

<h4>Component Event Methods</h4>
<blockquote>

The
<a target="_top" href="http://java.sun.com/products/jdk/1.1/api/java.awt.event.ComponentListener.html"><code>ComponentListener</code></a><a target="_top" href="http://java.sun.com/products/jdk/1.1/api/java.awt.event.ComponentListener.html"><img src="http://docs.rinet.ru/Jtuta/images/apiIcon.gif" width=20 height=20 border=0 alt="(in the API reference documentation)"></a> interface 
and its corresponding adapter class, 
<a target="_top" href="http://java.sun.com/products/jdk/1.1/api/java.awt.event.ComponentAdapter.html"><code>ComponentAdapter</code></a><a target="_top" href="http://java.sun.com/products/jdk/1.1/api/java.awt.event.ComponentAdapter.html"><img src="http://docs.rinet.ru/Jtuta/images/apiIcon.gif" width=20 height=20 border=0 alt="(in the API reference documentation)"></a>, contain four methods:

<dl>
<dt> <strong><code>void componentHidden(ComponentEvent)</code></strong>
<dd> Called
     after the listened-to
     component is hidden
     as the result of the <code>setVisible</code> method being called.
<p>
<dt> <strong><code>void componentMoved(ComponentEvent)</code></strong>
<dd> Called
     after the listened-to component moves,
     relative to its container.
     For example, if a window is moved,
     the window generates a component-moved event,
     but the components it contains do not.
<p>
<dt> <strong><code>void componentResized(ComponentEvent)</code></strong>
<dd> Called after the listened-to component's
     size (rectangular bounds) changes.
<p>
<dt> <strong><code>void componentShown(ComponentEvent)</code></strong>
<dd> Called
     after the listened-to component
     becomes visible
     as the result of the <code>setVisible</code> method being called.
</dl>

</blockquote>
<h4>Examples of Handling Component Events</h4>
<blockquote>

The following applet demonstrates component events.
The applet contains a button
that brings up a window (<code>JFrame</code>).
The window contains a panel
that has a label and a checkbox.
The checkbox controls whether the label is visible.
When you leave the applet's page,
the window disappears;
it reappears when you return to the applet's page.
A text area displays a message every time
the window, panel, label, or checkbox
generates a component event.

<p>

<blockquote><a href="componenteventdemo.html" target="_blank"><IMG SRC="http://docs.rinet.ru/Jtuta/figures/uiswing/events/ComponentEventDemo.gif" WIDTH="400" HEIGHT="200" ALIGN="BOTTOM" NATURALSIZEFLAG="3" ALT="Click this figure to run the applet."></a><br><em>This is a picture of the applet's GUI.  To run the applet, click the picture.  The applet will appear in a new browser window.</em></blockquote>
<p>

<blockquote>
<hr>
<strong>Try this:</strong>
<ol>
<li> <strong>Click the button labeled "Start playing...".</strong>
     <br>
     The window comes up,
     generating one or more component-shown and component-moved events.

<li> <strong>Click the checkbox to hide the label.</strong>
     <br>
     The label generates a component-hidden event.

<li> <strong>Click the checkbox again to show the label.</strong>
     <br>
     The label generates a component-shown event.

<li> <strong>Iconify and then deiconify the window
     that contains the label.</strong>
     <br>
     You do <em>not</em> get component-hidden or -shown events.
     If you want to be notified of iconification events,
     you should use a window listener.

<li> <strong>Resize the window that contains the label.</strong>
     <br>
     You'll see component-resized
     (and possibly component-moved) events
     from all four components -- label, checkbox, panel, and window.
     If the window and panel's layout manager didn't make every component
     as wide as possible,
     the panel, label, and checkbox wouldn't have been resized.
</ol>
<hr>
</blockquote>

<p>

You can find the applet's code in 
<a href="http://docs.rinet.ru/Jtuta/uiswing/events/example-swing/ComponentEventDemo.java"><code>ComponentEventDemo.java</code></a>.
Here is just the code related to handling component events:

<blockquote>
<pre>
public class ComponentEventDemo ... implements ComponentListener {
    ...
    <em>//where initialization occurs:</em>
        aFrame = new JFrame("A Frame");
        ComponentPanel p = new ComponentPanel(this);
        aFrame.addComponentListener(this);
        p.addComponentListener(this);
    ...

    public void componentHidden(ComponentEvent e) {
	displayMessage("componentHidden event from "
		       + e.getComponent().getClass().getName());
    }

    public void componentMoved(ComponentEvent e) {
	displayMessage("componentMoved event from "
		       + e.getComponent().getClass().getName());
    }

    public void componentResized(ComponentEvent e) {
	displayMessage("componentResized event from "
		       + e.getComponent().getClass().getName());
    }

    public void componentShown(ComponentEvent e) {
	displayMessage("componentShown event from "
		       + e.getComponent().getClass().getName());
    }
}


class ComponentPanel extends JPanel ... {
    ...
    ComponentPanel(ComponentEventDemo listener) {
        <em>...//after creating the label and checkbox:</em>
        label.addComponentListener(listener);
        checkbox.addComponentListener(listener);
    }
    ...
}
</pre>
</blockquote>

</blockquote>
<h4>The ComponentEvent Class</h4>
<blockquote>
Each component event method has a single parameter: a
<a target="_top" href="http://java.sun.com/products/jdk/1.1/api/java.awt.event.ComponentEvent.html"><code>ComponentEvent</code></a><a target="_top" href="http://java.sun.com/products/jdk/1.1/api/java.awt.event.ComponentEvent.html"><img src="http://docs.rinet.ru/Jtuta/images/apiIcon.gif" width=20 height=20 border=0 alt="(in the API reference documentation)"></a> object.
The <code>ComponentEvent</code> class defines the following useful method:
<dl>
<dt> <strong><code>Component getComponent()</code></strong>
<dd> Returns the component that generated the event.
     You can use this instead of the <code>getSource</code> method.
</dl>


</blockquote>
</blockquote>
<p>
<hr size=4>
<p> 
<table width="100%">
<tr>
<td align=left>
<a href="changelistener.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=top border=0 alt="Previous | "></a><a
href="containerlistener.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=top border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=top border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/uiHeader.gif" width=26 height=26 align=top border=0 alt="Creating a GUI with JFC/Swing | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>Writing Event Listeners</em></strong></a>
</td>
</tr>
</table>
</body>
</html>
