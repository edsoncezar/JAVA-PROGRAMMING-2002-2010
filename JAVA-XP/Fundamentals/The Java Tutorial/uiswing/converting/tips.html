




















<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<title>Component-Specific Conversion Tips</title>
</head>
<body BGCOLOR="#ffffff">










<table width="100%">
<tr>
<td align=left>
<a href="generaltips.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=bottom border=0 alt="Previous | "></a><a
href="examples.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=bottom border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=bottom border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/uiHeader.gif" width=26 height=26 align=bottom border=0 alt="Creating a GUI with JFC/Swing | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>Converting to Swing</em></strong></a>
</td>
</tr>
</table>
<p>
<center>
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
</center>
<p> 

<h2>
    Component-Specific Conversion Tips
</h2>
<p>
<blockquote>

[PENDING: this section is under construction.
Some of the sections below are our notes and not
actual content.]

<p>

<a name="applet">
<h4>Converting Applets</h4>
</a>
<blockquote>
As mentioned in
<a href="how.html#step8">
Step 8: Change calls to the <code>add</code>
    and <code>setLayout</code> methods</a>,
AWT programs add components directly to the <code>Applet</code> object
and directly set the applet's layout manager.
Swing applets, on the other hand, add components to
and set the layout manager on the 
<code>JApplet</code>'s <em>content pane</em>.
So to convert an applet, you must make the
source code changes described in that section.
<p>
[PENDING: Mention the need to convert the &lt;APPLET&gt; tag
for Java Plug-in.]
<p>
Furthermore,
while <code>FlowLayout</code> is the default layout manager
for AWT applets,
<code>BorderLayout</code> is the default layout manager
for Swing applets.
This has two repercussions:
<ol>
<li> If you want to use a <code>FlowLayout</code>,
     the Swing version of your program must use
     <code>setLayout</code> on the content pane to specify it.
<li> If you specified <code>BorderLayout</code> in your AWT applet,
     you can remove the <code>setLayout</code> statement from
     the Swing version.
</ol>
<p>
Don't paint directly in a <code>JApplet</code>
(any top-level container really)
because it will be covered by the applet's content pane.
Instead of seeing your painting, 
you'll just see a blank area.
The solution is to have a custom component do the painting,
and add it to the content pane.
See the instructions for 
<a href="#canvas">converting canvases</a>
for tips on choosing a class for the custom component,
and moving the paint code to the appropriate method.
</blockquote>

<a name="canvas">
<h4>Converting Canvases (Custom Components)</h4>
</a>
<blockquote>
Before converting a custom component,
check whether you can use a standard Swing component.
For example, if your custom component simply displays an image,
perhaps with some text,
then you can use a 
<a target="_top" href="..\components\label.html">Swing label</a><a target="_top" href="..\components\label.html"><img src="http://docs.rinet.ru/Jtuta/images/uiIcon.gif" width=20 height=20 border=0 alt="(in the Creating a User Interface trail)"></a>.
If your custom component implements a button with an image,
you can use a 
<a target="_top" href="..\components\button.html">Swing button</a><a target="_top" href="..\components\button.html"><img src="http://docs.rinet.ru/Jtuta/images/uiIcon.gif" width=20 height=20 border=0 alt="(in the Creating a User Interface trail)"></a> instead.
If you've implemented a tree or grid,
consider using a  
<a target="_top" href="..\components\tree.html">Swing tree</a><a target="_top" href="..\components\tree.html"><img src="http://docs.rinet.ru/Jtuta/images/uiIcon.gif" width=20 height=20 border=0 alt="(in the Creating a User Interface trail)"></a> or
<a target="_top" href="..\components\table.html">table</a><a target="_top" href="..\components\table.html"><img src="http://docs.rinet.ru/Jtuta/images/uiIcon.gif" width=20 height=20 border=0 alt="(in the Creating a User Interface trail)"></a>.

<p>

If no Swing component has the functionality you need,
then we recommend that you change the superclass of your
custom component from <code>Canvas</code>
to <code>JPanel</code>.
Then move the drawing code from <code>paint</code> or <code>update</code>
to a method named 
<code>paintComponent</code>.
At the top of that method, you should insert
<code>super.paintComponent(g)</code>.
[PENDING: see the drawing lesson, when it's converted,
for examples.]
You can remove all code related to double buffering,
since Swing provides that automatically.

<p>

Other superclasses, such as 
<code>Component</code> and
<a target="_top" href="..\components\components.html"><code>JComponent</code></a><a target="_top" href="..\components\components.html"><img src="http://docs.rinet.ru/Jtuta/images/uiIcon.gif" width=20 height=20 border=0 alt="(in the Creating a User Interface trail)"></a> might also be feasible.
Extending <code>JComponent</code> instead of
<code>Component</code>/<code>Container</code> gives you
automatic double buffering. 
Extending <code>JPanel</code> instead of <code>JComponent</code>
buys you two things: automatic background painting (which you can
turn off, if you like, using <code>setOpaque(false))</code>
plus the ability to
use borders to draw the edges of the component.
</blockquote>

<a name="choice">
<h4>Converting Choices</h4>
</a>
<blockquote>
AWT programs populate a <code>Choice</code> object
using the <code>addItem</code> method.
Swing programs populate a <code>JComboBox</code>
by creating a <code>Vector</code>, an array, or
a data model with the initial items in it.
Here's an example:
<p>
<table border=1 cellpadding=5>
<tr>
<th>AWT Code</th><th>Swing Code</th>
</tr>
<tr>
<td>
<pre>
String choiceprefix = "Choice item #";

Choice choice = new Choice();
for (int i = 0; i < 10; i++) {
    choice.addItem(choiceprefix + i);
}

</pre>
</td>
<td>
<pre>
String choiceprefix = "Choice item #";
<u>final int numItems = 10;
Vector vector = new Vector(numItems);</u>
for (int i = 0; i < <u>numItems</u>; i++) {
    <u>vector</u>.add<u>Element</u>(choiceprefix + i);
}
<u>JComboBox comboBox = new JComboBox(vector);</u>
</pre>
</td>
</tr>
</table>
</blockquote>

<a name="list">
<h4>Converting Lists</h4>
</a>
<blockquote>
You need to put lists in a scroll pane, whereas
in AWT-land you got them automatically.
When populating a list, you cannot do it the same
way you populated an AWT list.
Instead, you need to create a vector, array, or data model
with the initial items in it.

[PENDING: 
note that JList doesn't automatically have scroll bars,
unlike List.
Also note that JList doesn't generate action events.
Instead, you use a mouse listener and check for double clicks.]

</blockquote>

<a name="text">
<h4>Converting Text Components</h4>
</a>
<blockquote>
When converting AWT text areas, you normally have to put
the Swing text areas in a scroll pane and set the scroll
pane's preferred size. It's a little bit difficult to
figure out the relationship between the old row and column
arguments and the preferred size in pixels.
This means you can probably leave out the row and column
arguments for the text area's constructor.
Don't forget to change the add call to add the scroll pane
instead of the text area.
<p>
If you are using a GridBagLayout make sure that you then
apply the constraints to the scroll pane rather than to
the text area (otherwise you get a little itty bitty tiny
scroll pane, that actually seems to work).
<p>
In ContainerEventDemo, I forgot to set the preferred size
of the scroll pane, and it grew each time a line of text
was added to it rather than getting scrollbars.
<p>
Swing text components don't have an addTextListener method.
I converted the TextEventDemo to use document listener instead.
This might be a useful example on a conversion that isn't 1:1.
<p>
    If you want to add styled text to your program, convert to a
    <a href="..\components\editorpane.html">
    <code>JEditorPane</code> or a <code>JTextPane</code></a> instead.</td>
</blockquote>

</blockquote>
<p>
<hr size=4>
<p> 
<table width="100%">
<tr>
<td align=left>
<a href="generaltips.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=top border=0 alt="Previous | "></a><a
href="examples.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=top border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=top border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/uiHeader.gif" width=26 height=26 align=top border=0 alt="Creating a GUI with JFC/Swing | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>Converting to Swing</em></strong></a>
</td>
</tr>
</table>
</body>
</html>
