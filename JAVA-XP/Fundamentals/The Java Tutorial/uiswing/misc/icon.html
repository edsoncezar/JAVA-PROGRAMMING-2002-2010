




















<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<title>How to Use Icons</title>
</head>
<body BGCOLOR="#ffffff">










<table width="100%">
<tr>
<td align=left>
<a href="border.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=bottom border=0 alt="Previous | "></a><a
href="plaf.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=bottom border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=bottom border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/uiHeader.gif" width=26 height=26 align=bottom border=0 alt="Creating a GUI with JFC/Swing | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>Using Other Swing Features</em></strong></a>
</td>
</tr>
</table>
<p>
<center>
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
</center>
<p> 

<h2>
    How to Use Icons
</h2>
<p>
<blockquote>

Some Swing components,
such as <code>JLabel</code> and <code>JButton</code>,
can be decorated with an <em>icon</em> --
a fixed-sized picture.
In Swing, an icon is an object that adheres to the 
<a target="_top" href="http://java.sun.com/products/jfc/swingdoc-api/javax/swing/Icon.html"><code>Icon</code></a><a target="_top" href="http://java.sun.com/products/jfc/swingdoc-api/javax/swing/Icon.html"><img src="http://docs.rinet.ru/Jtuta/images/apiIcon.gif" width=20 height=20 border=0 alt="(in the API reference documentation)"></a> interface.
Swing provides a particularly useful implementation of
the <code>Icon</code> interface:
<a target="_top" href="http://java.sun.com/products/jfc/swingdoc-api/javax/swing/ImageIcon.html"><code>ImageIcon</code></a><a target="_top" href="http://java.sun.com/products/jfc/swingdoc-api/javax/swing/ImageIcon.html"><img src="http://docs.rinet.ru/Jtuta/images/apiIcon.gif" width=20 height=20 border=0 alt="(in the API reference documentation)"></a>, which paints an icon from a JPEG or GIF image.
<p>
<blockquote>
<hr>
<strong>Note to AWT Programmers:</strong>
An <code>ImageIcon</code> object uses
<code>MediaTracker</code> to load
its image from a filename, URL, or other source.
<code>ImageIcon</code>
is a handy, easier-to-use alternative for <code>Image</code>
because <code>ImageIcon</code> handles the
relationship with the <code>MediaTracker</code>
and keeps track of the loading status of the image
so you don't have to.
However, you can get the <code>Image</code> object
from an <code>ImageIcon</code> if you need more control.
See 
<a target="_top" href="..\painting\usingimages.html">Using Images</a><a target="_top" href="..\painting\usingimages.html"><img src="http://docs.rinet.ru/Jtuta/images/uiIcon.gif" width=20 height=20 border=0 alt="(in the Creating a User Interface trail)"></a> for more information about <code>Image</code>
and <code>MediaTracker</code>.
<hr>
</blockquote>

<p>
Here's an applet
that uses image icons for two different purposes:
<p>

<blockquote><a href="icondemoapplet.html" target="_blank"><IMG SRC="http://docs.rinet.ru/Jtuta/figures/uiswing/misc/IconDemoApplet.gif" WIDTH="410" HEIGHT="441" ALIGN="BOTTOM" NATURALSIZEFLAG="3" ALT="Click this figure to run the applet."></a><br><em>This is a picture of the applet's GUI.  To run the applet, click the picture.  The applet will appear in a new browser window.</em></blockquote>
<p>

An image icon in a label implements the photograph area for the applet.
The applet also uses image icons to decorate the
<strong>Previous Picture</strong>
and 
<strong>Next Picture</strong> 
buttons at the bottom of the applet window.

<blockquote>
<hr>
<strong>Try this:</strong>
<ol>
<li> Run the applet.
     <br>
     The applet above runs using Java Plug-in.
     If you prefer, you can run the applet with
     a browser or Applet Viewer that supports JDK 1.1 and Swing.
     Here's a file that contains the
     <code>&lt;APPLET&gt;</code> tag for running the 
     <a href="http://docs.rinet.ru/Jtuta/uiswing/misc/example-swing/IconDemoApplet.java">
     <code>IconDemoApplet.java</code></a>
     applet.
     For information on running applets, see
     <a href="..\start\swingapplet.html">Running Swing Applets</a>.
<li> Push the 
<strong>Previous Picture</strong>
and 
<strong>Next Picture</strong> 
     buttons
     to view the photos.
<li> Hold the mouse over a photo.
     A tool tip appears that indicates the filename of the current photo
     and its width and height.
<li> To view your own photos,
     modify the applet parameters.
     You need to provide the name, caption, width, and height
     for each photo to be viewed.
     During initialization, the applet reads its parameters and
     stores the information in a vector of
     <a href="http://docs.rinet.ru/Jtuta/uiswing/misc/example-swing/Photo.java"><code>Photo</code></a> objects.
</ol>
<hr>
</blockquote>

Let's first look at the code from <code>IconDemoApplet.java</code>
that creates and initializes
the arrows used on the next and previous buttons
because the code is very simple:
<blockquote>
<pre>
//<em>create the image icons for the next and previous buttons</em>
ImageIcon nextIcon = new ImageIcon(getURL("images/right.gif"));
ImageIcon previousIcon = new ImageIcon(getURL("images/left.gif"));
...
//<em>use them to create a buttons</em>
previous = new JButton("Previous Picture", previousIcon);
...
next = new JButton("Next Picture", nextIcon);
</pre>
</blockquote>
The single argument to the image icon constructor is the URL
of the file containing the image.
The <code>getURL</code> method appends the applet's code base
to the name of the file containing the image for the icon.
You can copy this method for use in your applets.
<blockquote>
<pre>
protected URL getURL(String filename) {
    URL codeBase = this.getCodeBase();
    URL url = null;

    try {
        url = new URL(codeBase, filename);
    } catch (java.net.MalformedURLException e) {
        System.out.println("Couldn't create image: badly specified URL");
        return null;
    }
    return url;
}
</pre>
</blockquote>
The <code>ImageIcon</code> class provides several other
constructors for creating image icons from a byte array,
an <code>Image</code>, or from a filename.
<p>

Now let's look at the code that loads the photo images:

<blockquote>
<pre>
//<em>where the member variables are declared</em>
Vector pictures;
...
	//<em>early in the init method</em>
        pictures = parseParameters();

	//<em>create the image icon for the photo</em>
	Photo first = (Photo)pictures.firstElement();
	ImageIcon icon = new ImageIcon(getURL(first.filename));
        first.setIcon(icon);
	...
</pre>
</blockquote>
This code creates a <code>Vector</code> of
<code>Photo</code> objects (in the <code>parseParameters</code>
method which is not shown).
Each <code>Photo</code> object contains the name, caption, width,
and height of the photo it represents, and after the picture's
been displayed the first time, it's image icon.
The image icon for the first photo
is created in the <code>init</code> method of the applet
and cached in the appropriate <code>Photo</code> object right away.
<p>
Image icons for the other photos get cached the first
time the user views it.
Here's the code from the buttons' <code>actionPerformed</code> method
that determines if a picture has been viewed before.
If not, the code creates a new image icon and caches it.
<blockquote>
<pre>
Photo pic = (Photo)pictures.elementAt(current);
icon = pic.getIcon();
if (icon == null) {
    icon = new ImageIcon(getURL(pic.filename));
    pic.setIcon(icon);
}
iconLabel.setText("");
iconLabel.setIcon(icon);
iconLabel.setToolTipText(pic.filename + ": " + icon.getIconWidth() +
			 " X " + icon.getIconHeight());
</pre>
</blockquote>
Why all the fuss about caching image icons?
The program runs faster because image icons are created only once
and the corresponding images are loaded only once.
If you remove the explicit image icon caching from this program,
a second viewing of a photo still appears to happen more quickly
than the first.
This implies that some implicit image caching is going on
within the Java platform.
However, this is a side-effect of the implementation
and is not guaranteed.
<p>
The code also sets the photo's tool tip:
The program calls <code>ImageIcon</code>'s
<code>getIconWidth</code> and <code>getIconHeight</code> methods
to get information for the label's tool tip.
The width and height provided by the image icon
are more likely to be correct than
those provided by the applet parameters.

<h4>
<a name="api">The Icon API</a>
</h4>
<blockquote>
The following tables list the commonly used
<code>ImageIcon</code> constructors and methods.
The API for using image icons falls into three categories:

<ul>
<li><a href="#contents">Setting or Getting the Image Painted by the Image Icon</a>
<li><a href="#info">Setting or Getting Information about the Image Icon</a>
<li><a href="#loadstatus">Watching the Image Icon's Image Load</a>
</ul>

<table border=1>
<caption><a name="contents">Setting or Getting the Image Painted by the Image Icon</a></caption>
<tr>
<th>Method or Constructor
<th>Purpose

<tr>
<td><font size=2><code>
    <br>
    ImageIcon(byte[])
    <br>
    ImageIcon(byte[], String)
    <br>
    ImageIcon(Image)
    <br>
    ImageIcon(Image, String)
    <br>
    ImageIcon(String)
    <br>
    ImageIcon(String, String)
    <br>
    ImageIcon(URL)
    <br>
    ImageIcon(URL, String) </code>

<td>Create a <code>ImageIcon</code> instance,
    initializing it to contain the specified image.
    The first argument indicates the source --
    image, byte array, filename, or URL --
    from which the image icon's image should be loaded.
    The second argument, when present,
    provides a description for the image.
    The description is a short textual description of the
    image that could be used in a variety of ways,
    such as alternate text for the image.

<tr>
<td><font size=2><code>void setImage(Image)
    <br>
    Image getImage()</code></font>
<td>Set or get the image displayed by the image icon.

</table>

<p>
<table border=1>
<caption><a name="info">Setting or Getting Information about the Image Icon</a></caption>
<tr>
<th>Method
<th>Purpose

<tr>
<td><font size=2><code>void setDescription(String)
    <br>
    String getDescription()</code></font>
<td>Set or get a description of the image.

<tr>
<td><font size=2><code>int getIconWidth()
    <br>
    int getIconHeight()</code></font>
<td>Get the size of the image icon.

</table>
<p>
<table border=1>
<caption><a name="loadstatus">Watching the Image Icon's Image Load</a></caption>
<tr>
<th>Method
<th>Purpose

<tr>
<td><font size=2><code>void setImageObserver(ImageObserver)
    <br>
    ImageObserver getImageObserver()</code></font>
<td>Set or get an image observer for the image icon.

<tr>
<td><font size=2><code>int getImageLoadStatus()</code></font>
<td>Get the loading status of the image icon's image.
    The set of values returned by this method are defined by <code>MediaTracker</code>.

</table>

</blockquote>

<h4>
<a name="eg">Examples that Use Icons</a>
</h4>
<blockquote>
The following table lists
just a few of the many examples 
that use <code>ImageIcon</code>.
<p>
<table>
<tr>
<th align=left> Example
<th align=left> Where Described
<th align=left> Notes

<tr>
<td> <a href="http://docs.rinet.ru/Jtuta/uiswing/misc/example-swing/IconDemoApplet.java">
     <code>IconDemoApplet.java</code></a>
<td> This page.
<td> An applet.  
     Uses a label to show large images;
     uses buttons that have both images and text.

<tr>
<td> <a href="http://docs.rinet.ru/Jtuta/uiswing/components/example-swing/ButtonDemo.java"><code>ButtonDemo.java</code></a>
<td> <a href="..\components\button.html">How to Use Buttons, Check Boxes, and Radio Buttons</a>
<td> Shows how to use icons in an application's buttons.

<tr>
<td> <a href="http://docs.rinet.ru/Jtuta/uiswing/components/example-swing/CheckBoxDemo.java"><code>CheckBoxDemo.java</code></a>
<td> <a href="..\components\button.html#checkbox">How to Use Check Boxes</a>
<td> Uses multiple JPEG images.

<tr>
<td> <a href="http://docs.rinet.ru/Jtuta/uiswing/components/example-swing/LabelDemo.java"><code>LabelDemo.java</code></a>
<td> <a href="..\components\label.html">How to Use Labels</a>
<td> Demonstrates using icons in an application's label,
     with and without accompanying text.


<tr>
<td> <a href="http://docs.rinet.ru/Jtuta/uiswing/components/example-swing/DialogDemo.java"><code>DialogDemo.java</code></a>,
     <a href="http://docs.rinet.ru/Jtuta/uiswing/components/example-swing/CustomDialog.java"><code>CustomDialog.java</code></a>,
<td> <a href="..\components\dialog.html">How to Make Dialogs</a>
<td> Shows how to use standard icons in dialogs.

<tr>
<td> <a href="http://docs.rinet.ru/Jtuta/uiswing/components/example-swing/TreeIconDemo.java"><code>TreeIconDemo.java</code></a>
<td> <a href="..\components\tree.html">How to Use Trees</a>
<td> Shows how to change the icons displayed by a tree's nodes.

<tr> 
<td> <a href="http://docs.rinet.ru/Jtuta/uiswing/misc/example-swing/ActionDemo.java"><code>ActionDemo.java</code></a>
<td> <a href="action.html">How to Use Actions</a>
<td> Shows how to specify the icon in a tool-bar button or menu item
     using an <code>Action</code>.

</table>

</blockquote>


</blockquote>
<p>
<hr size=4>
<p> 
<table width="100%">
<tr>
<td align=left>
<a href="border.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=top border=0 alt="Previous | "></a><a
href="plaf.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=top border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=top border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/uiHeader.gif" width=26 height=26 align=top border=0 alt="Creating a GUI with JFC/Swing | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>Using Other Swing Features</em></strong></a>
</td>
</tr>
</table>
</body>
</html>
