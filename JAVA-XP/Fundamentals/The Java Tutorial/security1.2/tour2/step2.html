




















<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<title>See How to Restrict Applications</title>
</head>
<body BGCOLOR="#ffffff">










<table width="100%">
<tr>
<td align=left>
<a href="step1.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=bottom border=0 alt="Previous | "></a><a
href="step3.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=bottom border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=bottom border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/security1_2Header.gif" width=26 height=26 align=bottom border=0 alt="Security in JDK 1.2  | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>Quick Tour of Controlling Applications</em></strong></a>
</td>
</tr>
</table>
<p>
<center>
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
</center>
<p> 

<h2>
    See How to Restrict Applications
</h2>
<p>
<blockquote>

As you saw in the <a href = "step1.html">previous step</a>, a security manager is 
<i>not</i> automatically installed when an <i>application</i> is 
running. To apply the same security policy to an application found on the local file 
system as to downloaded applets, you can invoke 
the interpreter with the new <code>-Djava.security.manager</code> 
command line argument.

<p>To execute the <code>GetProps</code> 
application with the default security manager, type the following:

<blockquote>
<pre>
<b>java -Djava.security.manager GetProps</b>
</pre>
</blockquote>

Here's the output from the program:

<blockquote>
<pre>
C:\TEST>java -Djava.security.manager GetProps
    About to get os.name property value
      The name of your operating system is: Windows 95
    About to get java.version property value
      The version of the JVM you are running is: JDK 1.2
    About to get user.home property value
    Caught exception java.security.AccessControlException: access denied (java.util.
      PropertyPermission user.home read)
</pre>
</blockquote>

<p>The process is shown in the following figure.

<blockquote><IMG SRC="http://docs.rinet.ru/Jtuta/figures/security1.2/step3.gif" WIDTH="308" HEIGHT="173" ALIGN="BOTTOM" NATURALSIZEFLAG="3" ALT=""></blockquote>
<br>

<H3>Security-Sensitive Properties</H3> 

<blockquote>

The system policy file, loaded by default, 
grants all code permission to access some commonly useful properties
such as <code>"os.name"</code> and <code>"java.version"</code>.
These properties are not
security-sensitive, so granting such permissions does not pose a problem.

<p>The other properties <code>GetProps</code> tries to access,
<code>"user.home"</code> and <code>"java.home"</code>, 
are <i>not</i> among the properties for which
the system policy file grants read permission. Thus as soon as
<code>GetProps</code> attempts to access the first of these properties  
(<code>"user.home"</code>),
the security manager prevents the access and reports an 
<code>AccessControlException</code>. 
This exception indicates that the policy currently in
effect, which consists of entries in one or more policy files, doesn't allow 
permission to read the <code>"user.home"</code> property.

</blockquote>

<H3>The System Policy File</H3>

<blockquote>

<p>The system policy file is by default located at:

<pre>
  <b>Windows</b>:
    <i>java.home</i>\lib\security\java.policy  
  <b>UNIX</b>:
    <i>java.home</i>/lib/security/java.policy  
</pre>

Note that <i>java.home</i> represents the value of the 
<code>"java.home"</code>
property, which is a system property specifying the 
directory into which the JDK was installed.
Thus if the JDK was installed in the directory named <code>C:\jdk1.2</code> on 
Windows and <code>/jdk1.2</code> on UNIX,
the system policy file is located at

<pre>
  <b>Windows</b>:
    C:\jdk1.2\lib\security\java.policy  
  <b>UNIX</b>:
    /jdk1.2/lib/security/java.policy  
</pre>

<p><a href="http://docs.rinet.ru/Jtuta/security1.2/tour2/example-1dot2/java.policy">Here</a> 
is a copy of the system policy file.

</blockquote>

</blockquote>
<p>
<hr size=4>
<p> 
<table width="100%">
<tr>
<td align=left>
<a href="step1.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=top border=0 alt="Previous | "></a><a
href="step3.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=top border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=top border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/security1_2Header.gif" width=26 height=26 align=top border=0 alt="Security in JDK 1.2  | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>Quick Tour of Controlling Applications</em></strong></a>
</td>
</tr>
</table>
</body>
</html>

