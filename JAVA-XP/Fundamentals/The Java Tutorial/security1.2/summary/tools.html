




















<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<title>Tools Summary</title>
</head>
<body BGCOLOR="#ffffff">










<table width="100%">
<tr>
<td align=left>
<a href="apicore.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=bottom border=0 alt="Previous | "></a><a
href="files.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=bottom border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=bottom border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/security1_2Header.gif" width=26 height=26 align=bottom border=0 alt="Security in JDK 1.2  | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>Summaries</em></strong></a>
</td>
</tr>
</table>
<p>
<center>
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
</center>
<p> 

<h2>
    Tools Summary
</h2>
<p>
<blockquote>

<P>Below is a brief summary of the security tools, with links to
the more detailed documentation.

<p>The <code>keytool</code>, <code>jar</code>, <code>jarsigner</code>, and
<code>policytool</code> tools are available in JDK 1.2 to facilitate various
security-related operations. (Note: the <code>jar</code> tool was also 
available in JDK 1.1.)

<p>The <code>keytool</code> and <code>jarsigner</code> tools replace
<b>javakey</b>, which was an interim tool introduced in JDK 1.1. 
These new tools provide more features than <b>javakey</b>,
including the ability to protect the keystore and private keys
with passwords, and the ability to verify signed JAR files in addition
to generating them. The new
keystore architecture replaces the identity database that <b>javakey</b>
created and managed. It is possible to import the information from
an identity database into a keystore, via a <code>keytool</code> command.

<H3>Key and Certificate Management Tool (<code>keytool</code>)</H3>

<blockquote>

<p>Use the Key and Certificate Management Tool (invoked by using the 
<code>keytool</code> command) to create public/private key pairs, issue certificate
requests (which you send to the appropriate Certification Authority),
import certificate replies (obtained from the Certification Authority
you contacted), designate public keys belonging to other parties as
trusted, and to manage your keystore.

<p>Keys and certificates are 
used to digitally sign your applications and applets (see
<code>jarsigner</code> below).  A <i>keystore</i> is
a protected database that holds keys and certificates for an enterprise.
Access to a keystore is guarded by a password (defined at the time
the keystore is created, by the person who creates the keystore, and
changeable only when providing the current password).  In
addition, each private key in a keystore can be guarded by
its own password.

<p>The basic format of the command for invoking <code>keytool</code> is:

<blockquote>
<pre>
<b>keytool <i>command options</i></b>
</pre>
</blockquote>

Sample commands are:

<ul>
 
<li><code>-certreq</code> - Generate a Certificate Signing Request (CSR) 
to be sent to a Certification Authority (CA) so they'll authenticate your public key.
 
<li><code>-delete</code> - Remove the specified keystore entry.
 
<li><code>-export</code> - Export the public key certificate in the specified entry to a file.
 
<li><code>-genkey</code> - Create a keystore entry containing a newly generated private key and 
corresponding public key. The latter is placed in a self-signed certificate.
 
<li><code>-import</code> - Import either a certificate to be treated as a "trusted certificate"
or a certificate reply returned by a CA. The latter will be used to replace the corresponding
self-signed certificate in the keystore.
  
<li><code>-identitydb</code> - Import information from a JDK 1.1.x-style identity database.

<li><code>-keypasswd</code> - Assign a password to a private key in a key/certificate entry.
 
<li><code>-list </code> - List the keystore entries.
 
<li><code>-printcert</code> - Print out the information in a specified file containing a certificate.
 
<li><code>-storepasswd</code> - Assign a password to the keystore.

</ul>

Each command has a number of options, some of which are required, and
some of which have default values if not specified.

<p>There are three options that may appear for all commands operating on a
keystore:

<ul>

<li><code>-storetype <i>storetype</i></code> - this specifies
the type of keystore to be instantiated.

<li><code>-keystore <i>keystore</i></code>
The name (and optionally path) of the keystore. Defaults to the file
<em>.keystore</em> in the user's home directory, as determined by the 
<code>"user.home"</code> system property. 

<li><code>-storepass <i>storepass</i></code> - this specifies
the password which is used to protect the integrity of the
keystore.

<li><code>-v <i>storepass</i></code> - this specifies verbose output.
If this appears, it signifies "verbose" mode; detailed certificate
information will be output.

</ul>

<p>Other sample options are:

<ul>

<li><code>-alias <i>aliasName</i></code> - this specifies
the alias used to refer to a particular keystore entry.

<li><code>-validity <i>numDays</i></code> - this specifies
the length of time during which the enclosed certificate should be considered
valid (default: 90 days).

<li><code>-keypass <i>keypass</i></code> - this specifies
the password which is used to protect the integrity of the private key in a
keystore entry.

</ul>

<p>Examples of the use of <code>keytool</code> are shown in the

<a target="_top" href="..\toolsign\index.html">Signing Code and Granting It Permissions</a><a href="..\toolsign\index.html"><img src="http://docs.rinet.ru/Jtuta/images/jdk1-2.gif" width=20 height=20 border=0 alt="(in the Java Security 1.2 trail)"></a>
and

<a target="_top" href="..\toolfilex\index.html">Exchanging Files</a><a href="..\toolfilex\index.html"><img src="http://docs.rinet.ru/Jtuta/images/jdk1-2.gif" width=20 height=20 border=0 alt="(in the Java Security 1.2 trail)"></a>
lessons.

</blockquote>


<H3>Java Archive Tool (<code>jar</code>)</H3>

<blockquote>

<p>Use the Java Archive Tool (invoked by using the <code>jar</code> command)
to create JAR files. 

<p>The Java Archive (JAR) file format enables you to bundle multiple files 
into a single archive file. Typically a JAR file will contain the class files and 
auxiliary resources associated with applets and applications. When you want
to "digitally sign" code, you use the <code>jar</code> tool to place it in
a JAR file and the <code>jarsigner</code> tool to sign the JAR file (after generating
or importing appropriate keys into your keystore using <code>keytool</code>).

<p>The basic format of the command for creating a JAR file is:

<blockquote>
<pre>
<b>jar cf <i>jar-file input-file(s)</i></b>
</pre>
</blockquote>

Let's look at the options and arguments used in this command:
<ul>
<li>The <tt>c</tt> option indicates that you want to <em>create</em> 
a JAR file.
<li>The <tt>f</tt> option indicates that you want the output to go to 
a <em>file</em> rather than to stdout.
<li><tt>jar-file</tt> is the name that you want the resulting JAR 
file to have. You can use any filename for a JAR file. By convention, 
JAR filenames are usually given a <tt>.jar</tt> extension, though 
this is not required.
<li>The <tt>input-file(s)</tt> argument is a space-delimited list 
of one or more files that you want to be placed in your JAR file. The 
<tt>input-file(s)</tt> argument can contain the wildcard <tt>*</tt> symbol. 
If any of the "input-files" are directories, the contents of those 
directories are added to the JAR archive recursively.
</ul>
<p>
The <tt>c</tt> and <tt>f</tt> options can appear in either  
order, but there must not be any space between them.
<p>
You can add a number of additional options to the <tt>cf</tt> options 
of the basic command. One we'll use in our lessons is the <code>v</code> option:

<ul>
<li><tt>v</tt> - produces <em>verbose</em> 
output on stdout while the JAR file is being built.  The verbose 
output tells you the name of each file as it's added to the JAR file.  
</ul>

<p>See the

<a target="_top" href="..\..\jar\index.html">The Java Archive (JAR) File Format</a><a href="..\..\jar\index.html"><img src="http://docs.rinet.ru/Jtuta/images/javaIcon.gif" width=20 height=20 border=0 alt="(in the Learning the Java Language trail)"></a>
trail for more information about JAR files and the <code>jar</code> tool. Also
see the

<a target="_top" href="..\toolsign\index.html">Signing Code and Granting It Permissions</a><a href="..\toolsign\index.html"><img src="http://docs.rinet.ru/Jtuta/images/jdk1-2.gif" width=20 height=20 border=0 alt="(in the Java Security 1.2 trail)"></a>
and

<a target="_top" href="..\toolfilex\index.html">Exchanging Files</a><a href="..\toolfilex\index.html"><img src="http://docs.rinet.ru/Jtuta/images/jdk1-2.gif" width=20 height=20 border=0 alt="(in the Java Security 1.2 trail)"></a>
lessons for examples of the use of the <code>jar</code> tool.

</blockquote>


<H3>JAR Signing and Verification Tool (<code>jarsigner</code>)</H3>

<blockquote>

<p>Use the JAR Signing and Verification Tool (invoked by using the 
<code>jarsigner</code> command) to sign JAR files, or to verify signatures on
signed JAR files.  

<p>The <code>jarsigner</code> tool accesses a
keystore that is created and managed by <code>keytool</code>, when it needs to find
the private key and its associated certificate chain
to use when signing a JAR file.  Since accesses to the
keystore and to private keys are protected by passwords, only people who know the
passwords will be able to access a key and use it to sign
a JAR file.  The <code>jarsigner</code> tool prompts for needed passwords.

<p>The basic form of the command for signing a JAR file is 

<blockquote>
<pre>
<b>jarsigner <i>options jar-file alias</i></b>
</pre>
</blockquote>

In this command:
<ul>
<li><tt>options</tt> are optional specifications, some of which are described below.
<li><tt>jar-file</tt> is the pathname of the JAR file that's to 
be signed. 
<li><tt>alias</tt> is the alias identifying the private key 
that's to be used to sign the JAR file, and the key's associated certificate (chain).
</ul>
<p>
The <code>jarsigner</code> tool will prompt you for the passwords for the keystore 
and for the private key whose keystore entry is referenced by the alias.  
<p>
This basic form of the command assumes that the keystore to be used 
is in a file named <tt>.keystore</tt> in your home directory.  It 
will <em>overwrite</em> the original JAR file with the signed JAR file. 

<p>
In practice, you may want to use this command in conjunction with 
one or more of the following options, which must precede the <tt>jar-file</tt> 
pathname:
<ul>
<li><tt>-keystore</tt>&nbsp;<i>url</i> - specifies a keystore to 
be used if you don't want to use the <tt>.keystore</tt> default 
database.
<li><tt>-storepass</tt>&nbsp;<i>password</i> - allows you to enter the 
keystore's password on the command line rather than be prompted for it.
<li><tt>-keypass</tt>&nbsp;<i>password</i> - allows you to enter your 
alias's password on the command line rather than be prompted for it.
<li><tt>-signedjar</tt>&nbsp;<i>file</i> - specifies the name of the 
signed JAR file to be generated if you don't want the original unsigned 
file to be overwritten with the signed file.
</ul>

<p>See the

<a target="_top" href="..\..\jar\sign\index.html">Signing and Verifying JAR Files</a><a href="..\..\jar\sign\index.html"><img src="http://docs.rinet.ru/Jtuta/images/javaIcon.gif" width=20 height=20 border=0 alt="(in the Learning the Java Language trail)"></a>
lesson of the Java Archive (JAR) File Format trail for more information about 
the JAR Signing and Verification Tool. Also
see the

<a target="_top" href="..\toolfilex\index.html">Exchanging Files</a><a href="..\toolfilex\index.html"><img src="http://docs.rinet.ru/Jtuta/images/jdk1-2.gif" width=20 height=20 border=0 alt="(in the Java Security 1.2 trail)"></a>
lessons for examples of the use of the <code>jarsigner</code> tool.

</blockquote>


<H3>Policy Tool (<code>policytool</code>) GUI tool</H3>

<blockquote>

<p>Use the Policy Tool (invoked by using the <code>policytool</code> 
command) to create and modify the external policy
configuration files that define your installation's security
policy. 

<p>This tool has a Graphical User Interface, so you select buttons and
other options rather than type in commands as for the other tools. See the

<a target="_top" href="..\tour1\index.html">Quick Tour of Controlling Applets</a><a href="..\tour1\index.html"><img src="http://docs.rinet.ru/Jtuta/images/jdk1-2.gif" width=20 height=20 border=0 alt="(in the Java Security 1.2 trail)"></a>
,

<a target="_top" href="..\tour2\index.html">Quick Tour of Controlling Applications</a><a href="..\tour2\index.html"><img src="http://docs.rinet.ru/Jtuta/images/jdk1-2.gif" width=20 height=20 border=0 alt="(in the Java Security 1.2 trail)"></a>
, and

<a target="_top" href="..\toolsign\index.html">Signing Code and Granting It Permissions</a><a href="..\toolsign\index.html"><img src="http://docs.rinet.ru/Jtuta/images/jdk1-2.gif" width=20 height=20 border=0 alt="(in the Java Security 1.2 trail)"></a>
lessons for examples of the use of the <code>policytool</code>.

</blockquote>


<p>
<h3>Online Tools Documentation</h3>

<blockquote>

Complete documentation for the security tools is available on the public
java.sun.com web site:
<ul>
<li><a href="http://java.sun.com/products/jdk/1.2/docs/tooldocs/win32/jar.html">
jar documentation with Windows examples</a>
<li><a href="http://java.sun.com/products/jdk/1.2/docs/tooldocs/solaris/jar.html">
jar documentation with Solaris examples</a> <p>

<li><a href="http://java.sun.com/products/jdk/1.2/docs/tooldocs/win32/jarsigner.html">
jarsigner documentation with Windows examples</a>
<li><a href="http://java.sun.com/products/jdk/1.2/docs/tooldocs/solaris/jarsigner.html">
jarsigner documentation with Solaris examples</a> <p>

<li><a href="http://java.sun.com/products/jdk/1.2/docs/tooldocs/win32/keytool.html">
keytool documentation with Windows examples</a>
<li><a href="http://java.sun.com/products/jdk/1.2/docs/tooldocs/solaris/keytool.html">
keytool documentation with Solaris examples</a> <p>

<li><a href="http://java.sun.com/products/jdk/1.2/docs/tooldocs/win32/policytool.html">
policytool documentation with Windows examples</a>
<li><a href="http://java.sun.com/products/jdk/1.2/docs/tooldocs/solaris/policytool.html">
policytool documentation with Solaris examples</a>

</ul>

</blockquote>


</blockquote>
<p>
<hr size=4>
<p> 
<table width="100%">
<tr>
<td align=left>
<a href="apicore.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=top border=0 alt="Previous | "></a><a
href="files.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=top border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=top border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/security1_2Header.gif" width=26 height=26 align=top border=0 alt="Security in JDK 1.2  | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>Summaries</em></strong></a>
</td>
</tr>
</table>
</body>
</html>
