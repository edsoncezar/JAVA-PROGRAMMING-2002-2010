




















<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<title>Save the Signature and the Public Key in Files</title>
</head>
<body BGCOLOR="#ffffff">










<table width="100%">
<tr>
<td align=left>
<a href="step3.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=bottom border=0 alt="Previous | "></a><a
href="step5.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=bottom border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=bottom border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/security1_2Header.gif" width=26 height=26 align=bottom border=0 alt="Security in JDK 1.2  | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>Generating and Verifying Signatures</em></strong></a>
</td>
</tr>
</table>
<p>
<center>
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
</center>
<p> 

<h2>
    Save the Signature and the Public Key in Files
</h2>
<p>
<blockquote>

Now that you have generated a signature for some data, 
you need to save the signature bytes in one file and the public key bytes in another
so you can send (via modem, floppy, mail, and so on) someone else 

<ul>

<li>the data for which the signature was generated,<p>
<li>the signature, and<p>
<li>the public key

</ul>

The receiver can verify that the data came from you and
was not modified in transit by running the <code>VerSig</code> program
you will generate in the upcoming 
<a href = "versig.html">Verifying a Digital Signature</a> 
steps. That program uses the public key
to verify that the signature received is the true signature for the
data received.

<p>Recall that the signature was placed in a byte array named <code>realSig</code>.
You can save the signature bytes in a file named <code>sig</code> via the following.

<blockquote>
<pre>
        /* save the signature in a file */
        FileOutputStream sigfos = new FileOutputStream("sig");
        sigfos.write(realSig);
        sigfos.close();
</pre>
</blockquote>

Recall from the <a href = "step2.html">
Generate Public and Private Keys</a> step that the
public key was placed in a PublicKey object 
named <code>pub</code>. 
You can get the encoded key bytes by calling the <code>getEncoded</code> 
method and then store the encoded bytes in a file. You can name the file
whatever you want. If, for example, your name is Susan, you might
name it something like <code>suepk</code> (for "Sue's public key"),
as in the following:

<blockquote>
<pre>
        /* save the public key in a file */
        byte[] key = pub.getEncoded();
        FileOutputStream keyfos = new FileOutputStream("suepk");
        keyfos.write(key);
        keyfos.close();
</pre>
</blockquote>



</blockquote>
<p>
<hr size=4>
<p> 
<table width="100%">
<tr>
<td align=left>
<a href="step3.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=top border=0 alt="Previous | "></a><a
href="step5.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=top border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=top border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/security1_2Header.gif" width=26 height=26 align=top border=0 alt="Security in JDK 1.2  | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>Generating and Verifying Signatures</em></strong></a>
</td>
</tr>
</table>
</body>
</html>
