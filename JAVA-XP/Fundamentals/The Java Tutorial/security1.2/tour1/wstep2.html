




















<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<title>Grant the Required Permission</title>
</head>
<body BGCOLOR="#ffffff">










<table width="100%">
<tr>
<td align=left>
<a href="wstep1.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=bottom border=0 alt="Previous | "></a><a
href="wstep3.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=bottom border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=bottom border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/security1_2Header.gif" width=26 height=26 align=bottom border=0 alt="Security in JDK 1.2  | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>Quick Tour of Controlling Applets</em></strong></a>
</td>
</tr>
</table>
<p>
<center>
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
</center>
<p> 

<h2>
    Grant the Required Permission
</h2>
<p>
<blockquote>

To grant the <code>WriteFile</code> applet permission to
create and to write to the <code>writetest</code> file,
you must create a policy entry granting this permission.
To do so, choose
the <b>Add Policy Entry</b> button
in the main Policy Tool window.
This brings up the Policy Entry dialog box,
as shown in the following figure.

<blockquote><IMG SRC="http://docs.rinet.ru/Jtuta/figures/security1.2/AddEntryBlank1.gif" WIDTH="601" HEIGHT="277" ALIGN="BOTTOM" NATURALSIZEFLAG="3" ALT=""></blockquote>
<p>A policy entry specifies one or more permissions for code from a particular
<i>code source</i> - code from a particular location (URL), 
code signed by a
particular entity, or both.

<p>The <b>CodeBase</b> and the <b>SignedBy</b> text boxes are used to
specify which code you want to grant the permission(s) you
will be adding. 

<ul>

<li>A <b>CodeBase</b> value indicates the code source location; 
you grant the permission(s)
to code from that location.
An empty <b>CodeBase</b> entry signifies
"any code" -- it doesn't matter where the code originates.<p>

<li>A <b>SignedBy</b> 
value indicates the alias for a certificate stored in a keystore.
The public key within that certificate is used to verify the digital
signature on the code; you grant
the permission(s) to code signed by the private key corresponding
to the public key in the keystore entry specified by the alias.
The <b>SignedBy</b> entry is optional; omitting it 
signifies "any signer" -- it doesn't matter whether 
the code is signed or by whom.

</ul>

<p>If you have both a  <b>CodeBase</b> and a <b>SignedBy</b>
entry, the permission(s) will be granted
only to code that is both from the specified location <i>and</i> signed by
the named alias.

<p>To grant <code>WriteFile</code> the permission it needs, you can grant the
permission to all code from the location (URL) where 
<code>WriteFile.class</code> is stored.

<p>Type the following URL
into the <b>CodeBase</b> text box of the Policy Entry dialog box:

<blockquote>
<pre>
http://java.sun.com/docs/books/tutorial/security1.2/tour1/example-1dot2/
</pre>
</blockquote>

(Note, this is a URL and thus must always have
slashes, not backslashes.)


<p>Leave the <b>SignedBy</b> text box blank, since you aren't requiring the code
to be signed.

<p><font size="-1">
<blockquote>
<hr>
<b>Note:</b> If you wanted to grant the permission to any code 
(<code>.class</code> file) not just from the directory specified previously
but from the <code>security1.2</code> directory 
<i>and its subdirectories</i>, you'd type the
following URL into the <b>CodeBase</b> box:
</font>

<blockquote>
<pre>
http://java.sun.com/docs/books/tutorial/security1.2/-
</pre>
</blockquote>
<hr>
</blockquote>


<p>You've specified where the code comes from (the 
<b>CodeBase</b>), and that the code does not have to be signed 
(since there's no <b>SignedBy</b> 
value). Now you are ready to grant  permissions to that code.

<p>Choose the <b>Add Permission</b> button to
bring up the Permissions dialog box.

<blockquote><IMG SRC="http://docs.rinet.ru/Jtuta/figures/security1.2/AddPermBlank.gif" WIDTH="701" HEIGHT="251" ALIGN="BOTTOM" NATURALSIZEFLAG="3" ALT=""></blockquote>
Do the following
to grant code from the specified <b>CodeBase</b>
permission to write (and thus also to create) the file named
<code>writetest</code>.

<ol>

<li>Choose <b>File Permission</b> from the Permission drop-down list. The
complete permission type name (<code>java.io.FilePermission</code>)
now appears in the text box to the right of the drop-down list.<p>

<li>Type the following in the text box to the right of the list labeled
Target Name to specify the file named <code>writetest</code>:

<blockquote>
<pre>
<b>writetest</b>
</pre>
</blockquote>

<li>Specify write access by choosing the <b>write</b> option from the 
Actions drop-down list.

</ol>

Now the Permissions dialog box looks like the following.

<blockquote><IMG SRC="http://docs.rinet.ru/Jtuta/figures/security1.2/WQ1addFilePerm.gif" WIDTH="696" HEIGHT="251" ALIGN="BOTTOM" NATURALSIZEFLAG="3" ALT=""></blockquote>
<p>Choose the
<b>OK</b> button. The new permission appears in a line
in the Policy Entry dialog. So now the policy entry window looks like this.

<blockquote><IMG SRC="http://docs.rinet.ru/Jtuta/figures/security1.2/WQ1addEntry1.gif" WIDTH="601" HEIGHT="309" ALIGN="BOTTOM" NATURALSIZEFLAG="3" ALT=""></blockquote>
<p>You are now done specifying this policy entry, so choose the <b>Done</b> 
button in the Policy Entry dialog. The Policy Tool window now contains a line
representing the policy entry, showing the 
<b>CodeBase</b> value.

<blockquote><IMG SRC="http://docs.rinet.ru/Jtuta/figures/security1.2/WQ1ptOneCB1.gif" WIDTH="501" HEIGHT="240" ALIGN="BOTTOM" NATURALSIZEFLAG="3" ALT=""></blockquote>

</blockquote>
<p>
<hr size=4>
<p> 
<table width="100%">
<tr>
<td align=left>
<a href="wstep1.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=top border=0 alt="Previous | "></a><a
href="wstep3.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=top border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=top border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/security1_2Header.gif" width=26 height=26 align=top border=0 alt="Security in JDK 1.2  | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>Quick Tour of Controlling Applets</em></strong></a>
</td>
</tr>
</table>
</body>
</html>


