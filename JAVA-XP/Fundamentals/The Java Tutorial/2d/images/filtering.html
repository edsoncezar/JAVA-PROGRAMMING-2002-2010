


















<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<title>Filtering a BufferedImage</title>
</head>
<body BGCOLOR="#ffffff">










<table width="100%">
<tr>
<td align=left>
<a href="immediate.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=bottom border=0 alt="Previous | "></a><a
href="doublebuffering.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=bottom border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=bottom border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/security1_2Header.gif" width=26 height=26 align=bottom border=0 alt="2D Graphics | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>Manipulating and Displaying Images</em></strong></a>
</td>
</tr>
</table>
<p>
<center>
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
</center>
<p> 

<h2>
    Filtering a BufferedImage
</h2>
<p>
<blockquote>

The Java 2D API defines several filtering operations for
<CODE>BufferedImage </CODE> objects. Each image-processing operation is
embodied in a class that implements the <CODE>BufferedImageOp</CODE>
interface. The image manipulation is performed in the image operation's
<CODE>filter</CODE> method. The <CODE>BufferedImageOp</CODE>
classes in the Java 2D API support
<UL>
<LI> Affine transformation
<LI> Amplitude scaling
<LI> Lookup-table modification
<LI> Linear combination of bands
<LI> Color conversion
<LI> Convolution
</UL>
<P>
To filter a <CODE>BufferedImage</CODE> using one of the image operation
classes, you
<OL>
<LI> Construct an instance of one of the <CODE>BufferedImageOp</CODE>
     classes: <CODE>AffineTransformOp</CODE>, <CODE>BandCombineOp</CODE>,
     <CODE>ColorConvertOp</CODE>, <CODE>ConvolveOp</CODE>,
     <CODE>LookupOp</CODE>, or <CODE>RescaleOp</CODE>.
<LI> Call the image operation's <CODE>filter</CODE> method, passing in
     the <CODE>BufferedImage</CODE> that you want to filter and the
     <CODE>BufferedImage</CODE> where you want to store the results.
</OL>

<H4>Example: ImageOps</H4>
<blockquote>
This program illustrates the use of four image-filter operations:
low-pass, sharpen, lookup, and rescale.
 
<blockquote><IMG SRC="http://docs.rinet.ru/Jtuta/figures/2d/2D-54.gif" WIDTH="550" HEIGHT="550" ALIGN="BOTTOM" NATURALSIZEFLAG="3" ALT=""></blockquote>
<P>
You can see the complete code for this program in
<a href="http://docs.rinet.ru/Jtuta/2d/images/example-1dot2/ImageOps.java"><code>ImageOps.java</code></a>.
To run the applet, you will also need
this HTML file,
<a href="example-1dot2\imageops.html"><code>ImageOps.html</code></a>,
which includes the applet and these
two images files:
<a href="http://docs.rinet.ru/Jtuta/2d/images/example-1dot2/images/bld.jpg"><code>bld.jpg</code></a>
and
<a href="http://docs.rinet.ru/Jtuta/2d/images/example-1dot2/images/boat.gif"><code>boat.gif</code></a>.

The sharpen filter is performed by using a <CODE>ConvolveOp</CODE>.
Convolution is the process of weighting or averaging the value of each
pixel in an image with the values of neighboring pixels. Most
spatial-filtering algorithms are based on convolution operations.
<P>
To construct and apply the sharpen filter to the
<CODE>BufferedImage,</CODE> this sample uses code similar to the
following snippet.
<BLOCKQUOTE>
<pre>
public static final float[] SHARPEN3x3 = {
                            0.f, -1.f, 0.f,
                            -1.f, 5.0f, -1.f,
                            0.f, -1.f, 0.f};
BufferedImage dstbimg = new 
              BufferedImage(iw,ih,BufferedImage.TYPE_INT_RGB);
Kernel kernel = new Kernel(3,3,SHARPEN3x3);
ConvolveOp cop = new ConvolveOp(kernel,
                                ConvolveOp.EDGE_NO_OP,
                                null);
cop.filter(srcbimg,dstbimg);
</pre>
</BLOCKQUOTE>
<P>
The <CODE>Kernel </CODE> object mathematically defines how each output
pixel is affected by pixels in its immediate area.The definition of the
<CODE>Kernel</CODE> determines the results of the filter. For more
information about how kernels work with <CODE>ConvolveOp</CODE>
, see the Image Processing and Enhancement section in the
<A HREF="http://java.sun.com/products/jdk/1.2/docs/guide/2d/spec/j2d-image.fm8.html">
 Java 2D Programmer's Guide</a>.
</blockquote>

</blockquote>
<p>
<hr size=4>
<p> 
<table width="100%">
<tr>
<td align=left>
<a href="immediate.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=top border=0 alt="Previous | "></a><a
href="doublebuffering.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=top border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=top border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/security1_2Header.gif" width=26 height=26 align=top border=0 alt="2D Graphics | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>Manipulating and Displaying Images</em></strong></a>
</td>
</tr>
</table>
</body>
</html>
