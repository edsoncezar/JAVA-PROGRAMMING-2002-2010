


















<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<title>Constructing Complex Shapes from Geometry Primitives</title>
</head>
<body BGCOLOR="#ffffff">










<table width="100%">
<tr>
<td align=left>
<a href="quality.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=bottom border=0 alt="Previous | "></a><a
href="user.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=bottom border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=bottom border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/security1_2Header.gif" width=26 height=26 align=bottom border=0 alt="2D Graphics | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>Displaying Graphics with Graphics2D</em></strong></a>
</td>
</tr>
</table>
<p>
<center>
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
</center>
<p> 

<h2>
    Constructing Complex Shapes from Geometry Primitives
</h2>
<p>
<blockquote>

Constructive area geometry (CAG) is the process of creating new
geometric shapes by performing boolean operations on existing ones. In
the Java 2D API a special type of <CODE>Shape</CODE>
called an <CODE>Area</CODE> supports boolean operations.
You can construct an <CODE>Area</CODE> from any
<CODE>Shape</CODE> .
<P>
<CODE>Areas</CODE> support the following boolean operations:
<p>
<TABLE>
<TR>
<TD>
<IMG SRC="http://docs.rinet.ru/Jtuta/figures/2d/2D-47.gif" WIDTH="131" HEIGHT="86" ALT=""></TD>
<TD>
Union
</TD>
<TD>
<IMG SRC="http://docs.rinet.ru/Jtuta/figures/2d/2D-48.gif" WIDTH="131" HEIGHT="86" ALT=""></TD>
<TD>
Subtraction
</TD>
</TR>
<TR>
<TD>
<IMG SRC="http://docs.rinet.ru/Jtuta/figures/2d/2D-49.gif" WIDTH="135" HEIGHT="89" ALT=""></TD>
<TD>
Intersection
</TD>
<TD>
<IMG SRC="http://docs.rinet.ru/Jtuta/figures/2d/2D-50.gif" WIDTH="134" HEIGHT="88" ALT=""></TD>
<TD>
Exclusive-or (<CODE>XOR</CODE>)
</TD>
</TR>
</TABLE>

<H4>Example: Areas</H4>
<blockquote>
In this example <CODE>Area</CODE> objects construct a pear shape from
several ellipses.

<blockquote><IMG SRC="http://docs.rinet.ru/Jtuta/figures/2d/2D-51.gif" WIDTH="150" HEIGHT="200" ALIGN="BOTTOM" NATURALSIZEFLAG="3" ALT=""></blockquote>
<P>
The leaves are each created by performing an intersection on two overlapping circles. 
<BLOCKQUOTE>
<pre>
leaf = new Ellipse2D.Double();
...
leaf1 = new Area(leaf);
leaf2 = new Area(leaf);
...
leaf.setFrame(ew-16, eh-29, 15.0, 15.0);
leaf1 = new Area(leaf);
leaf.setFrame(ew-14, eh-47, 30.0, 30.0);
leaf2 = new Area(leaf);
leaf1.intersect(leaf2);
g2.fill(leaf1);
...
leaf.setFrame(ew+1, eh-29, 15.0, 15.0);
leaf1 = new Area(leaf);
leaf2.intersect(leaf1);
g2.fill(leaf2);
</pre>
</BLOCKQUOTE>
<P>
Overlapping circles are also used to construct the stem through a subtraction operation.
<BLOCKQUOTE>
<pre>
stem = new Ellipse2D.Double();
...
stem.setFrame(ew, eh-42, 40.0, 40.0);
st1 = new Area(stem);
stem.setFrame(ew+3, eh-47, 50.0, 50.0);
st2 = new Area(stem);
st1.subtract(st2);
g2.fill(st1);
</pre>
</BLOCKQUOTE>
<P>
The body of the pear is constructed by performing a union operation on
a circle and an oval.
<BLOCKQUOTE>
<pre>
circle = new Ellipse2D.Double();
oval = new Ellipse2D.Double();
circ = new Area(circle);
ov = new Area(oval);
...
circle.setFrame(ew-25, eh, 50.0, 50.0);
oval.setFrame(ew-19, eh-20, 40.0, 70.0);
circ = new Area(circle);
ov = new Area(oval);
circ.add(ov);
g2.fill(circ);
</pre>
</BLOCKQUOTE>
<P>
You can find the complete code in
<a href="http://docs.rinet.ru/Jtuta/2d/display/example-1dot2/Pear.java"><code>Pear.java</code></a>
and an HTML file that includes the applet in
<a href="example-1dot2\pear.html"><code>Pear.html</code></a>.
</blockquote>

</blockquote>
<p>
<hr size=4>
<p> 
<table width="100%">
<tr>
<td align=left>
<a href="quality.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=top border=0 alt="Previous | "></a><a
href="user.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=top border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=top border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/security1_2Header.gif" width=26 height=26 align=top border=0 alt="2D Graphics | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>Displaying Graphics with Graphics2D</em></strong></a>
</td>
</tr>
</table>
</body>
</html>
