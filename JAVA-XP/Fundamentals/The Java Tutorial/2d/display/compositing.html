


















<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<title>Compositing Graphics</title>
</head>
<body BGCOLOR="#ffffff">










<table width="100%">
<tr>
<td align=left>
<a href="clipping.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=bottom border=0 alt="Previous | "></a><a
href="quality.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=bottom border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=bottom border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/security1_2Header.gif" width=26 height=26 align=bottom border=0 alt="2D Graphics | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>Displaying Graphics with Graphics2D</em></strong></a>
</td>
</tr>
</table>
<p>
<center>
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
<IMG SRC="http://docs.rinet.ru/Jtuta/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
</center>
<p> 

<h2>
    Compositing Graphics
</h2>
<p>
<blockquote>

The <CODE>AlphaComposite</CODE> class encapsulates various compositing
styles, which determine how overlapping objects are rendered. An
<CODE>AlphaComposite</CODE> can also have an alpha value that specifies
the degree of transparency: alpha&nbsp;=&nbsp;1.0 is totally opaque,
alpha&nbsp;=&nbsp;0.0 totally transparent (clear).
<CODE>AlphaComposite</CODE> supports most of the standard Porter-Duff
compositing rules shown in the following table.
<p>
<TABLE BORDER="1">
<TR>
<TD>
Source-over (<CODE>SRC_OVER</CODE>)<BR>
<IMG SRC="http://docs.rinet.ru/Jtuta/figures/2d/2D-39.gif" WIDTH="173" HEIGHT="72" ALT=""></TD>
<TD>
If pixels in the object being rendered (the source) have the same
location as previously rendered pixels (the destination), the source
pixels are rendered over the destination pixels.
</TD>
</TR>
<TR>
<TD>
Source-in (<CODE>SRC_IN</CODE>)<BR>
<IMG SRC="http://docs.rinet.ru/Jtuta/figures/2d/2D-40.gif" WIDTH="65" HEIGHT="76" ALT=""></TD>
<TD>
If pixels in the source and the destination overlap, only the source
pixels in the overlapping area are rendered.
</TD>
</TR>
<TR>
<TD>
Source-out (<CODE>SRC_OUT</CODE>)<BR>
<IMG SRC="http://docs.rinet.ru/Jtuta/figures/2d/2D-41.gif" WIDTH="84" HEIGHT="93" ALT=""></TD>
<TD>
If pixels in the source and the destination overlap, only the source
pixels outside of the overlapping area are rendered. The pixels in the
overlapping area are cleared.
</TD>
</TR>
<TR>
<TD>
Destination-over (<CODE>DST_OVER</CODE>)<BR>
<IMG SRC="http://docs.rinet.ru/Jtuta/figures/2d/2D-42.gif" WIDTH="92" HEIGHT="91" ALT=""></TD>
<TD>
If pixels in the source and the destination overlap, only the source
pixels outside of the overlapping area are rendered. The pixels in the
overlapping area are not changed.
</TD>
</TR>
<TR>
<TD>
Destination-in (<CODE>DST_IN</CODE>)<BR>
<IMG SRC="http://docs.rinet.ru/Jtuta/figures/2d/2D-43.gif" WIDTH="80" HEIGHT="74" ALT=""></TD>
<TD>
If pixels in the source and the destination overlap, the alpha from the
source is applied to the destination pixels in the overlapping area. If
the alpha = 1.0, the pixels in the overlapping area are unchanged; if
the alpha is 0.0, pixels in the overlapping area are cleared.
</TD>
</TR>
<TR>
<TD>
Destination-out (<CODE>DST_OUT</CODE>)<BR>
<IMG SRC="http://docs.rinet.ru/Jtuta/figures/2d/2D-44.gif" WIDTH="87" HEIGHT="74" ALT=""></TD>
<TD>
If pixels in the source and the destination overlap, the alpha from the
source is applied to the destination pixels in the overlapping area. If
the alpha = 1.0, the pixels in the overlapping area are cleared; if the
alpha is 0.0, the pixels in the overlapping area are unchanged.
</TD>
</TR>
<TR>
<TD>
Clear (<CODE>CLEAR</CODE>)<BR>
<IMG SRC="http://docs.rinet.ru/Jtuta/figures/2d/2D-45.gif" WIDTH="90" HEIGHT="85" ALT=""></TD>
<TD>
If the pixels in the source and the destination overlap, the pixels in
the overlapping area are cleared.
</TD>
</TR>
</TABLE>
<P>
To change the compositing style used by <CODE>Graphics2D</CODE>, you
create an <CODE>AlphaComposite</CODE> object and pass it into the
<CODE>setComposite</CODE> method.

<H4>Example: Composite</H4>
<blockquote>
This program illustrates the effects of various compositing style and
alpha combinations.
<blockquote><IMG SRC="http://docs.rinet.ru/Jtuta/figures/2d/2D-46.gif" WIDTH="300" HEIGHT="300" ALIGN="BOTTOM" NATURALSIZEFLAG="3" ALT=""></blockquote><P>
A new <CODE>AlphaComposite</CODE> object <EM CLASS="Emphasis">ac</EM>
is constructed by calling <CODE>AlphaComposite</CODE>.<CODE>getInstance</CODE>
and specifying the desired compositing rule. 
<BLOCKQUOTE>
<pre>
AlphaComposite ac =
               AlphaComposite.getInstance(AlphaComposite.SRC);
</pre>
</BLOCKQUOTE>
<P>
When a different compositing rule or alpha value is selected,
<CODE>AlphaComposite.getInstance</CODE> is called again, and the new
<CODE>AlphaComposite</CODE> is assigned to <EM
CLASS="Emphasis">ac</EM>. The selected alpha is applied in addition to
the per-pixel alpha value and is passed as a second parameter to
<CODE>AlphaComposite</CODE>.<CODE>getInstance</CODE>.

<BLOCKQUOTE>
<pre>
ac = AlphaComposite.getInstance(getRule(rule), alpha);
</pre>
</BLOCKQUOTE>
<P>
The composite attribute is modified by passing the
<CODE>AlphaComposite</CODE> object to <CODE>Graphics 2D</CODE>
<CODE>setComposite</CODE>. The objects are rendered into a
<CODE>BufferedImage</CODE> and are later copied to the screen, so the
composite attribute is set on the <CODE>Graphics2D</CODE> context for
the <CODE>BufferedImage</CODE>:
<BLOCKQUOTE>
<pre>
BufferedImage buffImg = new BufferedImage(w, h,
                            BufferedImage.TYPE_INT_ARGB);
Graphics2D gbi = buffImg.createGraphics();
...
gbi.setComposite(ac);
</pre>
</BLOCKQUOTE>
<P>
You can find the full code in
<a href="http://docs.rinet.ru/Jtuta/2d/display/example-1dot2/Composite.java"><code>Composite.java</code></a>
and an HTML file that includes the applet in
<a href="example-1dot2\composite.html"><code>Composite.html</code></a>.

</blockquote>

</blockquote>
<p>
<hr size=4>
<p> 
<table width="100%">
<tr>
<td align=left>
<a href="clipping.html"><img src="http://docs.rinet.ru/Jtuta/images/PreviousArrow.gif" width=26 height=26 align=top border=0 alt="Previous | "></a><a
href="quality.html"><img src="http://docs.rinet.ru/Jtuta/images/NextArrow.gif" width=26 height=26 align=top border=0 alt="Next | "></a><a
href="..\..\trailmap.html"><img src="http://docs.rinet.ru/Jtuta/images/WayUpArrow.gif" width=26 height=26 align=top border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/Jtuta/images/security1_2Header.gif" width=26 height=26 align=top border=0 alt="2D Graphics | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>Displaying Graphics with Graphics2D</em></strong></a>
</td>
</tr>
</table>
</body>
</html>
