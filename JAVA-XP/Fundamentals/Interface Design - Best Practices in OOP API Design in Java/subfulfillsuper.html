<HTML>
<HEAD>
<TITLE>Make sure subtypes fulfill the semantic contracts of their supertypes</TITLE>
<META name="description" content="An object-oriented design idiom from Interface Design: Best Practices in Object-Oriented API Design in Java by Bill Venners.">
<META name="keywords" content="Java Design, Java Book, Object Oriented Design, Thread Safe Design">
<LINK rel="stylesheet" type="text/css" href="http://www.artima.com/artima.css">
</HEAD>
<BODY text="#000000" alink="#006666">
<TABLE width="100%" cellspacing="0">
<TR>
<TD align="left" valign="bottom">
<A href="http://www.artima.com/index.jsp"><IMG src="..\images\ac.gif" alt="artima.com" border="0" width="150" height="31"></A>
</TD>
<TD align="right">
<a href="http://www.artima.com/cgi-bin/redirect.cgi/e556561e?REGION=Cyan&CAMPAIGN=Default&ACCOUNT=Artima&BANNER=ObjDesWkshp" ><img src="..\cgi-bin\getimage.cgi\e556561e\region=cyan&campaign=default&account=artima&banner" border=0 width=468 height=60 alt="ad" ></a>
</TD>
</TR>
</TABLE>
<TABLE width="100%" bgcolor="#006666">
<TR>
<TD align="center">
<DIV class="ml">
<A href="http://www.artima.com/search.html" class="hl">Search</A>&nbsp;|
<A href="http://www.artima.com/java/index.html" class="hl">Java</A>&nbsp;|
<A href="http://www.artima.com/javadesign/index.html" class="hl">Design</A>&nbsp;|
<A href="http://www.artima.com/jvm/index.html" class="hl">JVM</A>&nbsp;|
<A href="http://www.artima.com/jini/index.html" class="hl">Jini</A>&nbsp;|
<A href="http://www.artima.com/forums/index.jsp" class="hl">Forums</A>&nbsp;|
<A href="http://www.artima.com/javaseminars/index.html" class="hl">Seminars</A>&nbsp;|
<A href="http://lists.artima.com/mailman/listinfo/artima-newsletter/" class="hl">Subscribe</A>
</DIV>
</TD>
</TR>
</TABLE>
<BR>
<DIV class="vegies">
<DIV class="tc">
<SPAN class="sts">Interface Design by Bill Venners</SPAN><BR>
<SPAN class="ts">Make sure subtypes fulfill the semantic contracts of their supertypes</SPAN><BR>
</DIV>

<!--BEGIN_PRECISE_OBJECT_LINKS-->
<CENTER>
<FONT size="1" face="geneva, arial, sans-serif">
<STRONG>
<A href="index.html">Interface&nbsp;Design</A>&nbsp;|
<A href="contents.html">Contents</A>&nbsp;|
<A href="explicit.html">Previous</A>&nbsp;|
<A href="optional.html">Next</A>
</STRONG>
</FONT>
</CENTER>
<!--END_PRECISE_OBJECT_LINKS-->

<H2>Fulfilling the Semantic Contract</H2>
<UL>
<LI>
Guideline: <EM>Make sure subtypes fulfill the semantic contract of their
supertypes.</EM>
<LI>
An <CODE>OverdraftAccount</CODE> IS-AN <CODE>Account</CODE> means:
I can use an <CODE>OverdraftAccount</CODE> where an <CODE>Account</CODE>
is called for.
<LI>
Compiler will complain if the <CODE>OverdraftAccount</CODE>'s interface
isn't compatible with <CODE>Account</CODE>'s.
<LI>
But the compiler won't say a word if <CODE>OverdraftAccount</CODE>'s violates
<CODE>Account</CODE>'s semantic contract.
</UL>

<HR align="left" width="100%" size="4" noshade>
<H2>Why Fulfill the Semantic Contract?</H2>
<UL>
<LI>
If an <CODE>OverdraftAccount</CODE> violates the semantic contract of
<CODE>Account</CODE>, you can't be sure you can use an
<CODE>OverdraftAccount</CODE> where an <CODE>Account</CODE> is needed.
<LI>
Put another way: If <CODE>OverdraftAccount</CODE> violates the semantic
contract of <CODE>Account</CODE>,<BR>
<BLOCKQUOTE>
<CODE>OverdraftAccount</CODE>
IS-<EM>NOT</EM>-AN <CODE>Account</CODE>.
</BLOCKQUOTE>
<LI>
If you don't, you can't take advantage of polymorphism and dynamic binding
<LI>
If you don't, you muddle the meaning of inheritance
</UL>

<UL>
<LI>
<CODE>CloneNotSupportedException</CODE>
</UL>

<P>
That's big fence country up there.

<P>
The subfence must be completely enclosed by the superfence. Refer to Collection, Set example
from interface extension guideline.

<P>
Use Venn diagrams to show the problem of mismatched concepts of semantics
by various programmer parties (API designs, clients, service providers)
Show a Venn oval with three points in it, p1, p2, p3. Say those points could
represent different implementations by 3 different vendors, or 3 subsequent
implementations by the same vendor. None of those implementation points will
break client code so long as all clients and all service providers have
appropriate expectations. As Robert Frost said, "Good fences make good neighbors."
</TD>
</TR>

</DIV>
<HR width="100%">
<TABLE width="100%">
<TR>
<TD align="left">
<DIV class="sp">
Last Updated: Sunday, March 3, 2002<BR>
<A href="http://www.artima.com/copyright.html">Copyright</A> &copy; 1996-2002 Artima Software, Inc. All Rights Reserved.
</DIV>
</TD>
<TD align="right">
<DIV class="sp">
URL: http://www.artima.com/interfacedesign/SubFulfillSuper.html<BR>
Artima.com is created by <A href="http://www.artima.com/consulting.html">Bill Venners</A>
</DIV>
</TD>
</TR>
</TABLE>
</BODY>
</HTML>
