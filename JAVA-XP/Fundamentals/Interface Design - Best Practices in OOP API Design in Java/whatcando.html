<HTML>
<HEAD>
<TITLE>Use interfaces to define large families or to say "What objects can do."</TITLE>
<META name="description" content="An object-oriented design idiom from Interface Design: Best Practices in Object-Oriented API Design in Java by Bill Venners.">
<META name="keywords" content="Java Design, Java Book, Object Oriented Design, Thread Safe Design">
<LINK rel="stylesheet" type="text/css" href="http://www.artima.com/artima.css">
</HEAD>
<BODY text="#000000" alink="#006666">
<TABLE width="100%" cellspacing="0">
<TR>
<TD align="left" valign="bottom">
<A href="http://www.artima.com/index.jsp"><IMG src="..\images\ac.gif" alt="artima.com" border="0" width="150" height="31"></A>
</TD>
<TD align="right">
<a href="http://www.artima.com/cgi-bin/redirect.cgi/2182912a?REGION=Cyan&CAMPAIGN=Default&ACCOUNT=Artima&BANNER=ObjDesWkshp" ><img src="..\cgi-bin\getimage.cgi\2182912a\region=cyan&campaign=default&account=artima&banner" border=0 width=468 height=60 alt="ad" ></a>
</TD>
</TR>
</TABLE>
<TABLE width="100%" bgcolor="#006666">
<TR>
<TD align="center">
<DIV class="ml">
<A href="http://www.artima.com/search.html" class="hl">Search</A>&nbsp;|
<A href="http://www.artima.com/java/index.html" class="hl">Java</A>&nbsp;|
<A href="http://www.artima.com/javadesign/index.html" class="hl">Design</A>&nbsp;|
<A href="http://www.artima.com/jvm/index.html" class="hl">JVM</A>&nbsp;|
<A href="http://www.artima.com/jini/index.html" class="hl">Jini</A>&nbsp;|
<A href="http://www.artima.com/forums/index.jsp" class="hl">Forums</A>&nbsp;|
<A href="http://www.artima.com/javaseminars/index.html" class="hl">Seminars</A>&nbsp;|
<A href="http://lists.artima.com/mailman/listinfo/artima-newsletter/" class="hl">Subscribe</A>
</DIV>
</TD>
</TR>
</TABLE>
<BR>
<DIV class="vegies">
<DIV class="tc">
<SPAN class="sts">Interface Design by Bill Venners</SPAN><BR>
<SPAN class="ts">Use interfaces to define large families or to say "What objects can do."</SPAN><BR>
</DIV>

<!--BEGIN_PRECISE_OBJECT_LINKS-->
<CENTER>
<FONT size="1" face="geneva, arial, sans-serif">
<STRONG>
<A href="index.html">Interface&nbsp;Design</A>&nbsp;|
<A href="contents.html">Contents</A>&nbsp;|
<A href="siginterface.html">Previous</A>&nbsp;|
<A href="interfaceextension.html">Next</A>
</STRONG>
</FONT>
</CENTER>
<!--END_PRECISE_OBJECT_LINKS-->

<P>
Adjective interface: Way to do callbacks. Include performance of these kinds of services
in my contract.

<H2>How to use <CODE>interface</CODE>s</H2>
<UL>
<LI>
Guideline: <EM>Use </EM><CODE>interface</CODE><EM>s to say "What objects can
do" or "What can be done to an object."</EM>
<LI>
<CODE>interface</CODE>s don't say "What objects are."
<LI>
<CODE>interface</CODE>s say what objects can do <EM>no matter what
objects are</EM>
</UL>

<HR align="left" width="100%" size="4" noshade>
<H2>Some <CODE>interface</CODE> Examples</H2>
<UL>
<LI>
<CODE>Comparable</CODE> means: an object can compare
itself with another object
of the same type if I invoke <CODE>compareTo()</CODE> on the
object
<PRE>
public interface Comparable {

    int compareTo(Object o);
}
</PRE>
<LI>
<CODE>Cloneable</CODE> means: I can clone an object (meta-semantics)
<PRE>
public interface Cloneable {
}
</PRE>
<LI>
<CODE>Comparable</CODE> also means: I can sort an array or collection
with <CODE>Arrays.sort()</CODE> or <CODE>Collections.sort()</CODE> (meta-semantics)
</UL>

<HR align="left" width="100%" size="4" noshade>
<H2>Pulling <CODE>interface</CODE>s out of Thin Air</H2>
<UL>
<LI>
So interfaces are great. They separate implementation from
class signatures, allowing us more freedom to change our
implementation. So should I use an interface to wrap every
class whose implementation might change in the future?
Depending on your level of paranoia about implementation changes,
this could include almost every class of a program.
<LI>
Don't look at classes and try to figure out what
method subsets should form <CODE>interface</CODE>s
<P>
<BLOCKQUOTE>
Sum (k=0 to n) n! / (n - k)! k!, where n = num methods
</BLOCKQUOTE>
<P>
<LI>
Create <CODE>interface</CODE>s to accept as parameters to, or provide
as return types of, your class's methods
<LI>
<CODE>interface</CODE> parameter types: your class/interface more versatile
<LI>
<CODE>interface</CODE> return types: your class/interface easier to evolve, subclass
<LI>
Also, can discover interfaces as
concepts independent from any classes, but which don't serve as
parameter or return value types: e.g., UI factory interfaces.
</UL>

<HR align="left" width="100%" size="4" noshade>
<H2>Adding a Notification Service to <CODE>OverdraftAccount</CODE></H2>
<UL>
<LI>
<CODE>interface</CODE>s arise when you define the semantic contract
of a class (define how the class will be used)
<LI>
What if another part of your program needs to know when an
<CODE>OverdraftAccount</CODE> gets overdrawn (or paid back)?
</UL>
<PRE>
 1 // In file ex3/OverdraftAccount.java
 2
 3 public class OverdraftAccount extends Account {
 4
       //...
74
75     public void addOverdraftListener(OverdraftListener l) {
76         //...
77     }
78
79     public void removeOverdraftListener(
80         OverdraftListener l) {
81         //...
82     }
83
84 }

 1 // In file ex3/OverdraftEvent.java
 2
 3 public class OverdraftEvent
 4     extends java.util.EventObject {
 5
 6     private long overdraft;
 7
 8     // overdraft is the current value of overdraft
 9     // in US pennies. overdraft will be either some
10     // positive number or zero. If zero, it indicates
11     // that the overdraft has just been paid back.
12     // If positive, it means that the account was just
13     // overdrawn. (If $50 has been loaned to the
14     // account holder, overdraft will be 5000)
15     public OverdraftEvent(Object source, long overdraft) {
16
17         super(source);
18         this.overdraft = overdraft;
19     }
20
21     public long getOverdraft() {
22         return overdraft;
23     }
24
25 }

 1 // In file ex3/OverdraftListener.java
 2
 3 public interface OverdraftListener
 4     extends java.util.EventListener {
 5
 6     void overdraftOccurred(OverdraftEvent e);
 7
 8     void overdraftRepaid(OverdraftEvent e);
 9
10 }
</PRE>

</TD>
</TR>

</DIV>
<HR width="100%">
<TABLE width="100%">
<TR>
<TD align="left">
<DIV class="sp">
Last Updated: Sunday, March 3, 2002<BR>
<A href="http://www.artima.com/copyright.html">Copyright</A> &copy; 1996-2002 Artima Software, Inc. All Rights Reserved.
</DIV>
</TD>
<TD align="right">
<DIV class="sp">
URL: http://www.artima.com/interfacedesign/WhatCanDo.html<BR>
Artima.com is created by <A href="http://www.artima.com/consulting.html">Bill Venners</A>
</DIV>
</TD>
</TR>
</TABLE>
</BODY>
</HTML>
