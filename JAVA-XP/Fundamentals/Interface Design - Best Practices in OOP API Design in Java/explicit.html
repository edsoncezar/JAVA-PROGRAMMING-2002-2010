<HTML>
<HEAD>
<TITLE>Make the semantic contract as explicit as possible</TITLE>
<META name="description" content="An object-oriented design idiom from Interface Design: Best Practices in Object-Oriented API Design in Java by Bill Venners.">
<META name="keywords" content="Java Design, Java Book, Object Oriented Design, Thread Safe Design">
<LINK rel="stylesheet" type="text/css" href="http://www.artima.com/artima.css">
</HEAD>
<BODY text="#000000" alink="#006666">
<TABLE width="100%" cellspacing="0">
<TR>
<TD align="left" valign="bottom">
<A href="http://www.artima.com/index.jsp"><IMG src="..\images\ac.gif" alt="artima.com" border="0" width="150" height="31"></A>
</TD>
<TD align="right">
<a href="http://www.artima.com/cgi-bin/redirect.cgi/76c4fbf6?REGION=Cyan&CAMPAIGN=Default&ACCOUNT=Artima&BANNER=ArtimaTraining" ><img src="..\cgi-bin\getimage.cgi\76c4fbf6\region=cyan&campaign=default&account=artima&banner" border=0 width=468 height=60 alt="ad" ></a>
</TD>
</TR>
</TABLE>
<TABLE width="100%" bgcolor="#006666">
<TR>
<TD align="center">
<DIV class="ml">
<A href="http://www.artima.com/search.html" class="hl">Search</A>&nbsp;|
<A href="http://www.artima.com/java/index.html" class="hl">Java</A>&nbsp;|
<A href="http://www.artima.com/javadesign/index.html" class="hl">Design</A>&nbsp;|
<A href="http://www.artima.com/jvm/index.html" class="hl">JVM</A>&nbsp;|
<A href="http://www.artima.com/jini/index.html" class="hl">Jini</A>&nbsp;|
<A href="http://www.artima.com/forums/index.jsp" class="hl">Forums</A>&nbsp;|
<A href="http://www.artima.com/javaseminars/index.html" class="hl">Seminars</A>&nbsp;|
<A href="http://lists.artima.com/mailman/listinfo/artima-newsletter/" class="hl">Subscribe</A>
</DIV>
</TD>
</TR>
</TABLE>
<BR>
<DIV class="vegies">
<DIV class="tc">
<SPAN class="sts">Interface Design by Bill Venners</SPAN><BR>
<SPAN class="ts">Make the semantic contract as explicit as possible</SPAN><BR>
</DIV>

<!--BEGIN_PRECISE_OBJECT_LINKS-->
<CENTER>
<FONT size="1" face="geneva, arial, sans-serif">
<STRONG>
<A href="index.html">Interface&nbsp;Design</A>&nbsp;|
<A href="contents.html">Contents</A>&nbsp;|
<A href="simplify.html">Previous</A>&nbsp;|
<A href="subfulfillsuper.html">Next</A>
</STRONG>
</FONT>
</CENTER>
<!--END_PRECISE_OBJECT_LINKS-->

<H2>How to be Explicit</H2>
<UL>
<LI>
Guideline: <EM>Describe object semantics as explicitly as possible.</EM>
<LI>
Well-designed (minimal, complete) interface
<LI>
Good method names
<LI>
Up-to-date comments, especially Javadoc comments
<LI>
Easy to read code (but this is implementation, not interface)
<LI>
Design by Contract: pre-conditions, post-conditions, invariants
<LI>
Test suites: express your understanding of the semantics in a different
way.
<LI>
Design objects that communicate to programmers how to properly use them.
(good names, unsurprising semantics, etc.)
</UL>

<HR align="left" width="100%" size="4" noshade>
<H2>Why Be Explicit?</H2>
<UL>
<LI>
Design by Contract and test suites help with "semantic discovery" and
robustness.
<LI>
Its a contract, so both sides need to have a consistent understanding.
<LI>
If not, clients may make bad assumptions.
<LI>
Later, when implementation changes, can break client code.
<LI>
Being explicit and complete -- communicating effectively -- is
an important first step in preventing semantic misunderstandings
between designers and clients.
</UL>

<P>
<CODE>JTree</CODE>'s <CODE>setModel</CODE>, does it make a copy of the <CODE>TreeModel</CODE> object
passed in? (Kind of a strategy?), or use the one as is. Javadoc didn't say. A friend of mine was
complaining about having to step into the swing code to figure out the semantics, realizing full
well that he wasn't really figuring out the fence, just the point within the fence. The semantic
contract is a fenced in space, the full range of possible behavior a method can have when you
invoke it. Any particular implementation is a cow grazing at one single point within that fence.

<P>
Student didn't know whether AbstractTableModel was used as is or cloned. To avoid this kind of
confusion, I specified that the array passed to Matrix(int[][]) constructor is <EM>not</em>
used, and in the constructor I clone it. From a performance perspective, this seems like the
wrong choice, because why always clone when it would be more efficient for clients to decide
whether to clone before passing the array before they invoke the constructor. But then the Matrix
would not have control of its state (a client could hold on to the reference and then change
it), which means that Matrix couldn't promise to fulfill its contract.
</TD>
</TR>

</DIV>
<HR width="100%">
<TABLE width="100%">
<TR>
<TD align="left">
<DIV class="sp">
Last Updated: Sunday, March 3, 2002<BR>
<A href="http://www.artima.com/copyright.html">Copyright</A> &copy; 1996-2002 Artima Software, Inc. All Rights Reserved.
</DIV>
</TD>
<TD align="right">
<DIV class="sp">
URL: http://www.artima.com/interfacedesign/Explicit.html<BR>
Artima.com is created by <A href="http://www.artima.com/consulting.html">Bill Venners</A>
</DIV>
</TD>
</TR>
</TABLE>
</BODY>
</HTML>
