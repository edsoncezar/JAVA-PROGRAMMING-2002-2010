<HTML>
<HEAD>

<TITLE>Java 1.2 In Record Time:Creating Windows and Menus</TITLE>




<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="211-215.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="220-225.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<P><BR></P>
<P>Now you&#146;ve created your File menu. The next step is to add this menu (called menu1) to your menubar, which you do with the <TT>add()</TT> method this way:</P>
<PRE>
  class MenuFrame extends Frame implements ActionListener &#123;

       Menu Menu1;
       MenuBar Menubar1;
       MenuItem menuitem1, menuitem2, menuitem3;

       TextField text1;
       MenuFrame(String title)&#123;
            super(title);
            text1 = new TextField(" ");
            setLayout(new GridLayout(1, 1));
            add(text1);
            Menubar1 = new MenuBar();

            Menu1 = new Menu("File");

            menuitem1 = new MenuItem("Hello");
            Menu1.add(menuitem1);
            menuitem1.addActionListener(this);

            menuitem2 = new MenuItem("from");
            Menu1.add(menuitem2);
            menuitem2.addActionListener(this);

            menuitem3 = new MenuItem("Java");
            Menu1.add(menuitem3);
            menuitem3.addActionListener(this);

&#8594;           Menubar1.add(Menu1);
                 .
                 .
                 .
       &#125;
 &#125;
</PRE>
<P>Now add the menubar to your frame window using the <TT>setMenubar()</TT> method from the Frame Method list described in Table 8.1:</P>
<PRE>
  class MenuFrame extends Frame implements ActionListener &#123;

       Menu Menu1;
       MenuBar Menubar1;
       MenuItem menuitem1, menuitem2, menuitem3;

       TextField text1;

       MenuFrame(String title)&#123;
            super(title);
            text1 = new TextField(" ");
            setLayout(new GridLayout(1, 1));
            add(text1);
            Menubar1 = new MenuBar();

            Menu1 = new Menu("File");
            menuitem1 = new MenuItem("Hello");
            Menu1.add(menuitem1);
            menuitem1.addActionListener(this);

            menuitem2 = new MenuItem("from");
            Menu1.add(menuitem2);
            menuitem2.addActionListener(this);

            menuitem3 = new MenuItem("Java");
            Menu1.add(menuitem3);
            menuitem3.addActionListener(this);

            Menubar1.add(Menu1);

&#8594;           setMenuBar(Menubar1);
       &#125;
 &#125;
</PRE>
<P>Now your menu system is set up, except for one thing&#151;it doesn&#146;t do anything when clicked. To fix that, add an <TT>actionPerformed()</TT> method now to handle menu item clicks:</P>
<PRE>
  class MenuFrame extends Frame implements ActionListener &#123;

       Menu Menu1;
       MenuBar Menubar1;
       MenuItem menuitem1, menuitem2, menuitem3;

       TextField text1;

       MenuFrame(String title)&#123;
            super(title);
            text1 = new TextField(" ");
            setLayout(new GridLayout(1, 1));
            add(text1);
            Menubar1 = new MenuBar();

            Menu1 = new Menu("File");
 
            menuitem1 = new MenuItem("Hello");
            Menu1.add(menuitem1);
            menuitem1.addActionListener(this);

            menuitem2 = new MenuItem("from");
            Menu1.add(menuitem2);
            menuitem2.addActionListener(this);

            menuitem3 = new MenuItem("Java");
            Menu1.add(menuitem3);
            menuitem3.addActionListener(this);

            Menubar1.add(Menu1);

            setMenuBar(Menubar1);
       &#125;

&#8594;      public void actionPerformed(ActionEvent event)&#123;
                     .
                     .
                     .
&#8594;      &#125;
 &#125;
</PRE>
<P>You can determine which menu item caused the Java event&#151;<TT>menuitem1</TT>, <TT>menuitem2</TT>, or <TT>menuitem3</TT>&#151;using <TT>getSource()</TT> in the <TT>actionPerformed()</TT> method this way:</P>
<PRE>
  class MenuFrame extends Frame implements ActionListener &#123;

       Menu Menu1;
       MenuBar Menubar1;
       MenuItem menuitem1, menuitem2, menuitem3;

       TextField text1;

       MenuFrame(String title)&#123;
            super(title);
            text1 = new TextField(" ");
            setLayout(new GridLayout(1, 1));
            add(text1);
            Menubar1 = new MenuBar();
 
            Menu1 = new Menu("File");

            menuitem1 = new MenuItem("Hello");
            Menu1.add(menuitem1);
            menuitem1.addActionListener(this);

            menuitem2 = new MenuItem("from");
            Menu1.add(menuitem2);
            menuitem2.addActionListener(this);

            menuitem3 = new MenuItem("Java");
            Menu1.add(menuitem3);
            menuitem3.addActionListener(this);

            Menubar1.add(Menu1);

            setMenuBar(Menubar1);
       &#125;

       public void actionPerformed(ActionEvent event)&#123;
&#8594;          if(event.getSource() == menuitem1)&#123;
                    .
                    .
                    .
&#8594;          &#125;
&#8594;          if(event.getSource() == menuitem2)&#123;
                    .
                    .
                    .
&#8594;          &#125;
&#8594;          if(event.getSource() == menuitem3)&#123;
                    .
                    .
                    .
&#8594;          &#125;
       &#125;
 &#125;
</PRE>
<P>If the first menu item caused the click event, you want to place &#147;Hello&#148; in the window&#146;s text field, &#147;from&#148; for the second menu item, and &#147;Java&#148; for the third menu item. Install those items in your code now:
</P>
<PRE>
  class MenuFrame extends Frame implements ActionListener &#123;
       Menu Menu1;
       MenuBar Menubar1;
       MenuItem menuitem1, menuitem2, menuitem3;

       TextField text1;

       MenuFrame(String title)&#123;
            super(title);
            text1 = new TextField(" ");
            setLayout(new GridLayout(1, 1));
            add(text1);
            Menubar1 = new MenuBar();

            Menu1 = new Menu("File");

            menuitem1 = new MenuItem("Hello");
            Menu1.add(menuitem1);
            menuitem1.addActionListener(this);
                      .
                      .
                      .
            Menubar1.add(Menu1);

            setMenuBar(Menubar1);
       &#125;

       public void actionPerformed(ActionEvent event)&#123;

            if(event.getSource() == menuitem1)&#123;
&#8594;               text1.setText("Hello");
            &#125;
            if(event.getSource() == menuitem2)&#123;
&#8594;               text1.setText("from");
            &#125;
            if(event.getSource() == menuitem3)&#123;
&#8594;               text1.setText("Java");
            &#125;
       &#125;
 &#125;
</PRE>
<P><BR></P>
<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="211-215.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="220-225.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>





</BODY>
</HTML>

