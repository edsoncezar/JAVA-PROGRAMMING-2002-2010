<HTML>
<HEAD>

<TITLE>Java 1.2 In Record Time:Creating Windows and Menus</TITLE>




<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="235-239.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="244-247.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<P><BR></P>
<P>You can also add code to create menu items with keyboard shortcuts in Java 1.2. For example, below we add a shortcut of Shift&#43;O to an Open menu item (the boolean parameter in the <TT>MenuShortcut</TT> constructor indicates whether or not this shortcut uses the Shift key):</P>
<PRE>
    menu.add(new MenuItem("Open", new MenuShortcut('o', true));
</PRE>
<P>And, in fact, there is another type of menu that Java 1.2 supports: popup menus.
</P>
<H3><A NAME="Heading10"></A><FONT COLOR="#000077">Popup Menus</FONT></H3>
<P>You&#146;ve probably seen popup menus&#151;they are usually triggered by the right mouse button, and can pop up anywhere in a window. A popup menu is shown in Figure 8.8.
</P>
<P><A NAME="Fig16"></A><A HREF="images\08-16.jpg"><IMG SRC="images\08-16t.jpg"></A>
<BR><A HREF="images\08-16.jpg"><FONT COLOR="#000077"><B>FIGURE 8.8</B></FONT></A>&nbsp;&nbsp;A popup menu</P>
<P>Let&#146;s put a popup menu to work. Create a new file named <TT>popup.java</TT> and add the usual starting code:</P>
<PRE>
 import java.applet.Applet;
 import java.awt.*;

 public class popup extends Applet &#123;
      .
      .
      .
</PRE>
<P>You&#146;ll add popup menus to this applet now. Add a text field, <TT>text1</TT>, so you can report what menu item was selected. In addition, create a new object of class <TT>PopupMenu</TT> named, say, <TT>popup</TT>, naming this menu &#147;Edit&#148;, as follows:</P>
<PRE>
 import java.applet.Applet;
 import java.awt.*;

 public class popup extends Applet &#123;

&#8594;     TextField text1;
&#8594;     PopupMenu popup;

      public void init()&#123;

&#8594;          popup = new PopupMenu("Edit");
                     .
                     .
                     .
</PRE>
<P>The <TT>PopupMenu</TT> class methods appear in Table 8.4.</P>
<TABLE WIDTH="100%"><CAPTION ALIGN=LEFT><B>Table 8.4:</B> The Java <TT>PopupMenu</TT> Class Methods
<TR>
<TD COLSPAN="2"><HR>
<TR>
<TH WIDTH="45%" ALIGN="LEFT">Method
<TH WIDTH="55%" ALIGN="LEFT">Does This
<TR>
<TD COLSPAN="2"><HR>
<TR>
<TD><TT>PopupMenu()</TT>
<TD>Creates a new popup menu
<TR>
<TD><TT>PopupMenu(String)</TT>
<TD>Creates a new popup menu with the given name
<TR>
<TD><TT>addNotify()</TT>
<TD>Creates the popup menu&#146;s peer
<TR>
<TD VALIGN="TOP"><TT>show(Component, int, int)</TT>
<TD>Shows the popup menu at the x, y position from an origin component
<TR>
<TD COLSPAN="2"><HR>
</TABLE>
<P>Now add three items to this menu: Cut, Copy, and Paste. Also, add an ActionListener to make these items active:
</P>
<PRE>
 import java.applet.Applet;
 import java.awt.*;
 import java.awt.event.*;

&#8594;public class popup extends Applet implements ActionListener&#123;

      TextField text1;
      PopupMenu popup;
&#8594;     MenuItem menuitem1, menuitem2, menuitem3;

      public void init()&#123;
           popup = new PopupMenu("Edit");
&#8594;          menuitem1 = new MenuItem("Cut");
&#8594;          menuitem1.addActionListener(this);
&#8594;          menuitem2 = new MenuItem("Copy");
&#8594;          menuitem2.addActionListener(this);
&#8594;          menuitem3 = new MenuItem("Paste");
&#8594;          menuitem3.addActionListener(this);
                    .
                    .
                    .
</PRE>
<P>Then you can add those new menu items to the popup menu, using its <TT>add()</TT> method:</P>
<PRE>
 import java.awt.*;
 import java.awt.event.*;

 public class popup extends Applet implements ActionListener &#123;

      TextField text1;
      PopupMenu popup;
      MenuItem menuitem1, menuitem2, menuitem3;

      public void init()&#123;

           popup = new PopupMenu("Edit");
           menuitem1 = new MenuItem("Cut");
           menuitem1.addActionListener(this);
           menuitem2 = new MenuItem("Copy");
           menuitem2.addActionListener(this);
           menuitem3 = new MenuItem("Paste");
           menuitem3.addActionListener(this);
&#8594;          popup.add(menuitem1);
&#8594;          popup.add(menuitem2);
&#8594;          popup.addSeparator();
&#8594;          popup.add(menuitem3);
                .
                .
                .
</PRE>
<P>Next, add the popup menu to your applet with the applet&#146;s <TT>add()</TT> method, and create the text field <TT>text1</TT>. In addition, you&#146;ll implement the MouseListener interface to handle mouse events&#151;you&#146;ll see how this works in Skill 10 (although you can probably figure it out now, given the Listener interfaces you&#146;ve already worked with); for now, just add the following code:</P>
<PRE>
 import java.awt.*;
 import java.awt.event.*;

&#8594;public class popup extends Applet implements ActionListener,
 MouseListener &#123;

      TextField text1;
      PopupMenu popup;
      MenuItem menuitem1, menuitem2, menuitem3;

      public void init()&#123;

           popup = new PopupMenu("Edit");
           menuitem1 = new MenuItem("Cut");
           menuitem1.addActionListener(this);
           menuitem2 = new MenuItem("Copy");
           menuitem2.addActionListener(this);
           menuitem3 = new MenuItem("Paste");
           menuitem3.addActionListener(this);
           popup.add(menuitem1);
           popup.add(menuitem2);
           popup.addSeparator();
           popup.add(menuitem3);
&#8594;          add(popup);
&#8594;          add(text1);
&#8594;          addMouseListener(this);
      &#125;
</PRE>
<P>To implement mouse handling, add five methods: <TT>mousePressed()</TT>, <TT>mouseClicked()</TT>, <TT>mouseReleased()</TT>, <TT>mouseEntered()</TT>, <TT>and mouseExited()</TT>:</P>
<PRE>
     public void mousePressed(MouseEvent e)&#123;
     &#125;

     public void mouseClicked(MouseEvent e)&#123;
     &#125;

     public void mouseReleased(MouseEvent e)&#123;
     &#125;

     public void mouseEntered(MouseEvent e)&#123;
     &#125;

     public void mouseExited(MouseEvent e)&#123;
     &#125;
</PRE>
<P>You&#146;ll learn more about these methods in Skill 10&#151;for now, add the following code to the <TT>mousePressed()</TT> method to check if the right mouse button, the button that brings up the popup menu, was clicked. Here, you can check the <TT>modifiers</TT> member of the <TT>MouseEvent</TT> object you are passed in <TT>mousePressed()</TT> to check on the right mouse button:</P>
<PRE>
     public void mousePressed(MouseEvent e)&#123;
&#8594;         if(e.getModifiers() != 0)&#123;
                    .
                    .
                    .
&#8594;    &#125;
     &#125;
</PRE>
<P>If the right mouse button was indeed pressed, show the popup menu with its <TT>show()</TT> method at the present mouse location, which you get with the <TT>getX()</TT> and <TT>getY()</TT> MouseEvent methods, as follows:</P>
<PRE>
     public void mousePressed(MouseEvent e)&#123;
          if(e.getModifiers() != 0)&#123;
&#8594;         popup.show(this, e.getX(), e.getY());
     &#125;
     &#125;
</PRE>
<P><BR></P>
<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="235-239.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="244-247.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>





</BODY>
</HTML>

