<HTML>
<HEAD>

<TITLE>Java 1.2 In Record Time:Creating Windows and Menus</TITLE>




<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="198-201.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="207-211.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<P><BR></P>
<P>And that&#146;s it&#151;your new <TT>demoframe</TT> window class is ready to go.</P>
<BLOCKQUOTE>
<P><FONT SIZE="-1"><HR><B>TIP:&nbsp;&nbsp;</B>Don&#146;t forget to set up a layout manager when working with windows or dialog boxes in Java&#151;if the controls you placed in a window or dialog box don&#146;t appear, it may be that you forgot to set up a layout manager.<HR></FONT>
</BLOCKQUOTE>
<P>Now you&#146;re ready to work with <TT>window1</TT>, a new window, in your applet. First, add your two new buttons (Show Window and Hide Window) to the applet in its <TT>init()</TT> method and add the applet as the <TT>ActionListener</TT> for both:</P>
<PRE>
 import java.applet.Applet;
 import java.awt.*;
 import java.awt.event.*;

&#8594;public class windows extends Applet implements ActionListener &#123;

      Button button1, button2;
      demoframe window1;

      public void init()&#123;

&#8594;          button1 = new Button("Show window");
&#8594;          add(button1);
&#8594;          button1.addActionListener(this);

&#8594;          button2 = new Button("Hide window");
&#8594;          add(button2);
&#8594;          button2.addActionListener(this);
                     .
                     .
                     .
     &#125;

 &#125;

 class demoframe extends Frame &#123;
      Label label1;

      demoframe(String title)&#123;
           super(title);
           setLayout(new GridLayout(1, 1));
           label1 = new Label("Hello from Java");
           add(label1);
      &#125;
 &#125;
</PRE>
<P>At this point, then, create <TT>window1</TT>, having already declared it earlier. You can do that by passing a title to the <TT>demoframe</TT> class&#146;s constructor:</P>
<PRE>
 import java.applet.Applet;
 import java.awt.*;
 import java.awt.event.*;

 public class windows extends Applet implements ActionListener &#123;

      Button button1, button2;
      demoframe window1;

      public void init()&#123;

           button1 = new Button("Show windo");
           add(button1);
           button1.addActionListener(this);

           button2 = new Button("Hide window");
           add(button2);
           button2.addActionListener(this);

&#8594;          window1 = new demoframe("Demo window");
                     .
                     .
                     .
      &#125;
 &#125;

 class demoframe extends Frame &#123;
      Label label1;

      demoframe(String title)&#123;
           super(title);
           setLayout(new GridLayout(1, 1));
           label1 = new Label("Hello from Java");
           add(label1);
      &#125;
 &#125;
</PRE>
<P>You&#146;ve set up your constructor such that the title &#147;Demo window&#148; is just passed back to the Java <TT>Frame</TT> class&#146;s constructor. You can also give the new window an initial size (in pixels) using its <TT>setSize()</TT> method as follows:</P>
<PRE>
 import java.applet.Applet;
 import java.awt.*;
 import java.awt.event.*;

 public class windows extends Applet implements ActionListener &#123;

      Button button1, button2;
      demoframe window1;

      public void init()&#123;

           button1 = new Button("Show window");
           add(button1);
           button1.addActionListener(this);

           button2 = new Button("Hide window");
           add(button2);
           button2.addActionListener(this);

           window1 = new demoframe("Demo window");
&#8594;          window1.setSize(100, 100);
      &#125;
 &#125;

 class demoframe extends Frame &#123;
      Label label1;

      demoframe(String title)&#123;
           super(title);
           setLayout(new GridLayout(1, 1));
           label1 = new Label("Hello from Java");
           add(label1);
      &#125;
 &#125;
</PRE>
<P>All that remains is to connect your buttons to make the window appear or disappear on command.
</P>
<P>To show a window, use its <TT>setVisible(true)</TT> method, and to hide it again, use its <TT>setVisible(false)</TT> method. That means you can make your buttons functional by adding an <TT>actionPerformed()</TT> method this way, where you show or hide the window, <TT>window1</TT>, like this:</P>
<PRE>
 import java.applet.Applet;
 import java.awt.*;
 import java.awt.event.*;

 public class windows extends Applet implements ActionListener &#123;

      Button button1, button2;
      demoframe window1;

      public void init()&#123;

           button1 = new Button("Show window");
           add(button1);
           button1.addActionListener(this);

           button2 = new Button("Hide window");
           add(button2);
           button2.addActionListener(this);

           window1 = new demoframe("Demo window");
           window1.setSize(100, 100);
      &#125;

&#8594;     public void actionPerformed(ActionEvent event)&#123;
&#8594;          if(event.getSource() == button1)&#123;
&#8594;               window1.setVisible(true);
&#8594;          &#125;
&#8594;          if(event.getSource() == button2)&#123;
&#8594;               window1.setVisible(false);
&#8594;          &#125;
&#8594;     &#125;
 &#125;
</PRE>
<P>Your windows applet is ready to run. When the user clicks the button labeled Show window, the window appears, as also shown below. Now you&#146;ve seen how to support free-floating windows. The code for this applet appears in <TT>windows.java</TT>.</P>
<P><A NAME="Fig3"></A><A HREF="images\08-03.jpg"><IMG SRC="images\08-03t.jpg"></A></P>
<P><B>windows.java</B></P>
<PRE>
 import java.applet.Applet;
 import java.awt.*;
 import java.awt.event.*;

 public class windows extends Applet implements ActionListener &#123;

      Button button1, button2;
      demoframe window1;

      public void init()&#123;

           button1 = new Button("Show window");
           add(button1);
           button1.addActionListener(this);

           button2 = new Button("Hide window");
           add(button2);
           button2.addActionListener(this);

           window1 = new demoframe("Demo window");
           window1.setSize(100, 100);

      &#125;

      public void actionPerformed(ActionEvent event)&#123;
           if(event.getSource() == button1)&#123;
                window1.setVisible(true);
           &#125;
           if(event.getSource() == button2)&#123;
                window1.setVisible(false);
           &#125;
      &#125;
 &#125;

 class demoframe extends Frame &#123;
      Label label1;

      demoframe(String title)&#123;
           super(title);
           setLayout(new GridLayout(1, 1));
           label1 = new Label("Hello from Java");
           add(label1);
      &#125;
 &#125;
</PRE>
<P>Seeing how to support windows is a good start. We will continue on to learn the workings of another powerful aspect of Java: menus.
</P><P><BR></P>
<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="198-201.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="207-211.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>





</BODY>
</HTML>

