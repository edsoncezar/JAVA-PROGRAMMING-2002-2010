<HTML>
<HEAD>

<TITLE>Java 1.2 In Record Time:Creating Windows and Menus</TITLE>




<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="215-220.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="226-231.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<P><BR></P>
<P>The <TT>MenuFrame</TT> class is complete. Now you have a frame window with your menu set up in it; all that remains is to display that frame window when the user clicks the Show Window button. Start that process by adding the Show Window and Hide Window buttons in your main applet&#146;s class:</P>
<PRE>
  import java.applet.Applet;
  import java.awt.*;
  import java.awt.event.*;

  public class menudemo extends Applet &#123;

&#8594;      Button button1, button2;
       MenuFrame menuWindow;

       public void init()&#123;
&#8594;           button1 = new Button("Show window");
&#8594;           add(button1);

&#8594;           button2 = new Button("Hide window");
&#8594;           add(button2);
       &#125;
 &#125;
</PRE>
<P>Next, set up the ActionListener to handle clicks from those buttons:
</P>
<PRE>
  import java.applet.Applet;
  import java.awt.*;
  import java.awt.event.*;

  public class menudemo extends Applet implements ActionListener&#123;

       Button button1, button2;
       MenuFrame menuWindow;

       public void init()&#123;
            button1 = new Button("Show window");
            add(button1);
&#8594;           button1.addActionListener(this);
            button2 = new Button("Hide window");
            add(button2);
&#8594;           button1.addActionListener(this);

       &#125;
</PRE>
<P>Then create and resize the frame window that holds your menu like this:
</P>
<PRE>
  import java.applet.Applet;
  import java.awt.*;
  import java.awt.event.*;

  public class menudemo extends Applet implements ActionListener &#123;

       Button button1, button2;
       MenuFrame menuWindow;

       public void init()&#123;

            button1 = new Button("Show window");
            add(button1);
            button1.addActionListener(this);
            button2 = new Button("Hide window");
            add(button2);
            button1.addActionListener(this);

&#8594;           menuWindow = new MenuFrame("Menu Demo");
&#8594;           menuWindow.setSize(100, 100);
       &#125;
 &#125;
</PRE>
<P>Next, add your <TT>actionPerformed()</TT> method and check to see which button caused the click event:</P>
<PRE>
  import java.applet.Applet;
  import java.awt.*;
  import java.awt.event.*;

  public class menudemo extends Applet implements ActionListener &#123;

       Button button1, button2;
       MenuFrame menuWindow;

       public void init()&#123;

            button1 = new Button("Show window");
            add(button1);
            button1.addActionListener(this);
            button2 = new Button("Hide window");
            add(button2);
            button1.addActionListener(this);

            menuWindow = new MenuFrame("Menu Demo");
            menuWindow.setSize(100, 100);
       &#125;

&#8594;      public void actionPerformed(ActionEvent event)&#123;
&#8594;          if(event.getSource() == button1)&#123;
                .
                .
                .
&#8594;          &#125;
&#8594;          if(event.getSource() == button2)&#123;
                .
                .
                .
&#8594;          &#125;
       &#125;
 &#125;
</PRE>
<P>Finally, place the menu window on the screen when required and hide it when the user wants to dismiss it:
</P>
<PRE>
  import java.applet.Applet;
  import java.awt.*;
  import java.awt.event.*;
  public class menudemo extends Applet implements ActionListener &#123;
       Button button1, button2;
       MenuFrame menuWindow;

       public void init()&#123;

            button1 = new Button("Show window");
            add(button1);
            button1.addActionListener(this);
            button2 = new Button("Hide window");
            add(button2);
            button1.addActionListener(this);

            menuWindow = new MenuFrame("Menu Demo");
            menuWindow.setSize(100, 100);
       &#125;

       public void actionPerformed(ActionEvent event)&#123;
            if(event.getSource() == button1)&#123;
&#8594;               menuWindow.setVisible(true);
            &#125;
            if(event.getSource() == button2)&#123;
&#8594;               menuWindow.setVisible(false);
            &#125;
       &#125;
 &#125;
</PRE>
<P>And that&#146;s it&#151;run the menudemo applet now. Click the Show window button, displaying your menu frame, and open the File menu, as shown below.
</P>
<P><A NAME="Fig8"></A><A HREF="images\08-08.jpg"><IMG SRC="images\08-08t.jpg"></A></P>
<P>Now click a menu item, such as Java, and you&#146;ll see that item appear in the frame window. The listing for this applet appears in <TT>menudemo.java</TT>.</P>
<P><A NAME="Fig9"></A><A HREF="images\08-09.jpg"><IMG SRC="images\08-09t.jpg"></A></P>
<P><B>menudemo.java</B></P>
<PRE>
 import java.applet.Applet;
 import java.awt.*;
 import java.awt.event.*;

 public class menudemo extends Applet implements ActionListener &#123;

      Button button1, button2;
      MenuFrame menuWindow;

      public void init()&#123;
  
           button1 = new Button("Show window");
           add(button1);
           button1.addActionListener(this);
           button2 = new Button("Hide window");
           add(button2);
           button1.addActionListener(this);

           menuWindow = new MenuFrame("Menu Demo");
           menuWindow.setSize(100, 100);
      &#125;

      public void actionPerformed(ActionEvent event)&#123;
           if(event.getSource() == button1)&#123;
              menuWindow.setVisible(true);
           &#125;
           if(event.getSource() == button2)&#123;
              menuWindow.setVisible(false);
           &#125;
      &#125;
&#125;

class MenuFrame extends Frame implements ActionListener &#123;

     Menu Menu1;
     MenuBar Menubar1;
     MenuItem menuitem1, menuitem2, menuitem3;

     TextField text1;

     MenuFrame(String title)&#123;
          super(title);
          text1 = new TextField(" ");
          setLayout(new GridLayout(1, 1));
          add(text1);
          Menubar1 = new MenuBar();

          Menu1 = new Menu("File");

          menuitem1 = new MenuItem("Hello");
          Menu1.add(menuitem1);
          menuitem1.addActionListener(this);

          menuitem2 = new MenuItem("from");
          Menu1.add(menuitem2);
          menuitem2.addActionListener(this);

          menuitem3 = new MenuItem("Java");
          Menu1.add(menuitem3);
          menuitem3.addActionListener(this);

          Menubar1.add(Menu1);

          setMenuBar(Menubar1);
     &#125;

     public void actionPerformed(ActionEvent event)&#123;
          if(event.getSource() == menuitem1)&#123;
               text1.setText("Hello");
          &#125;
          if(event.getSource() == menuitem2)&#123;
               text1.setText("from");
          &#125;
          if(event.getSource() == menuitem3)&#123;
               text1.setText("Java");
          &#125;
     &#125;
&#125;
</PRE>
<P><BR></P>
<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="215-220.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="226-231.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>





</BODY>
</HTML>

