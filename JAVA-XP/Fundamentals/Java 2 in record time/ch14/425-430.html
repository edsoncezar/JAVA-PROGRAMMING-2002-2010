<HTML>
<HEAD>

<TITLE>Java 1.2 In Record Time:Understanding Graphics Animation</TITLE>




<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="..\ch13\420-424.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="430-435.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<P><BR></P>
<H2><A NAME="Heading1"></A><FONT COLOR="#000077">SKILL 14<BR>Understanding Graphics Animation
</FONT></H2>
<DL>
<DD><B>&#149;</B>&nbsp;&nbsp;Creating animated programs
<DD><B>&#149;</B>&nbsp;&nbsp;Using <I>Canvas</I> controls
<DD><B>&#149;</B>&nbsp;&nbsp;Using the <I>Animator</I> class
<DD><B>&#149;</B>&nbsp;&nbsp;Examining how animation works
<DD><B>&#149;</B>&nbsp;&nbsp;Reducing screen flicker
<DD><B>&#149;</B>&nbsp;&nbsp;Customizing an animation applet
</DL>
<P><BIG><BIG>I</BIG></BIG>n Skill 13, we saw how to work with text and fonts. Here, we&#146;ll take a guided tour of a very popular Java topic: graphics animation. For a long time, Web pages were static things of images and text. Java brought animation to Web pages, and that was one of the chief reasons for its popularity. There are other ways to animate Web pages now: embedding video files like <TT>.avi</TT> files, using looping <TT>.gif</TT> images (which hold a number of internal images), or using other packages like Visual Basic Script. However, Java remains the animation tool of choice for most Web programmers.</P>
<P>The fundamentals of animation are simply placing a series of images on the screen in rapid succession to give the impression of movement. You can start with one image, as shown in Figure 14.1, and then rapidly move on to the next, as shown in Figure 14.2.</P>
<P><A NAME="Fig1"></A><A HREF="images\14-01.jpg"><IMG SRC="images\14-01t.jpg"></A>
<BR><A HREF="images\14-01.jpg"><FONT COLOR="#000077"><B>FIGURE 14.1</B></FONT></A>&nbsp;&nbsp;The first image is on the left.</P>
<P><A NAME="Fig2"></A><A HREF="images\14-02.jpg"><IMG SRC="images\14-02t.jpg"></A>
<BR><A HREF="images\14-02.jpg"><FONT COLOR="#000077"><B>FIGURE 14.2</B></FONT></A>&nbsp;&nbsp;The second image is closer to the center.</P>
<P>Flipping quickly through images this way, like you would do with a flip book, creates the animation. Graphics animation was one of the biggest reasons that Java took the Internet by storm. Let&#146;s start now with our first animation applet.
</P>
<P>If you were to add more images like this and cycle through them quickly, the boat would appear to move.</P>
<H3><A NAME="Heading2"></A><FONT COLOR="#000077">Creating Basic Animation</FONT></H3>
<P>In this first animation example, you will draw a graphics image and move it across the screen. For this purpose, you&#146;ll use a Canvas <I>control</I>. Canvas controls are very useful Java controls that you can draw in; you&#146;ll draw an image in a Canvas control and use that control&#146;s <TT>setLocation()</TT> method to animate the image. Let&#146;s put this to work now. Create a new file named <TT>canvaser.java</TT> and add the standard starting code:</P>
<PRE>
 import java.applet.Applet;
 import java.awt.*;

 public class canvaser extendsApplet &#123;
             .
             .
             .
 &#125;
</PRE>
<P>You&#146;ll create a new class derived from the Java <TT>Canvas</TT> class and place your image in that new control. Here, you can draw a small box in your Canvas control and call this new Canvas control class <TT>BoxCanvas</TT>. You can create an object of that class in your applet as follows. (You&#146;ll create the <TT>BoxCanvas</TT> class in a minute.)</P>
<PRE>
 import java.applet.Applet;
 import java.awt.*;

 public class canvaser extends Applet &#123;

&#8594;     BoxCanvas boxcanvas;
          .
          .
          .
</PRE>
<P>The <TT>Canvas</TT> class methods appear in Table 14.1.</P>
<TABLE WIDTH="100%"><CAPTION ALIGN=LEFT><B>Table 14.1:</B> The Java <TT>Canvas</TT> class methods
<TR>
<TH COLSPAN="2"><HR>
<TR>
<TH WIDTH="55%" ALIGN="LEFT">Method
<TH WIDTH="45%" ALIGN="LEFT">Does This
<TR>
<TD COLSPAN="2"><HR>
<TR>
<TD><TT>Canvas()</TT>
<TD>Constructs a new <TT>canvas</TT>
<TR>
<TD VALIGN="TOP"><TT>Canvas( GraphicsConfiguration config)</TT>
<TD>Constructs a new Canvas given a <TT>GraphicsConfiguration</TT> object
<TR>
<TD><TT>addNotify()</TT>
<TD>Creates the peer of the canvas
<TR>
<TD VALIGN="TOP"><TT>paint(Graphics)</TT>
<TD>Paints the canvas in the default background color
<TR>
<TD COLSPAN="2"><HR>
</TABLE>
<P>You can create and add the <TT>boxcanvas</TT> control to your applet in the <TT>init()</TT> method as follows:</P>
<PRE>
 import java.applet.Applet;
 import java.awt.*;

 public class canvaser extends Applet &#123;

&#8594;     BoxCanvas boxcanvas;

        public void init()&#123;
&#8594;          boxcanvas = new BoxCanvas();
&#8594;          boxcanvas.resize(100, 100);
&#8594;          add(boxcanvas);
             .
             .
             .
</PRE>
<P>Add a button with the caption &#147;Move Rectangle&#148; to your applet. When the user clicks the button, you can move the box across the screen. Add that button, <TT>button1</TT>, this way:</P>
<PRE>
 import java.applet.Applet;
 import java.awt.*;
&#8594;import java.awt.event.*;

&#8594;public class canvaser extends Applet implements ActionListener &#123;

      BoxCanvas boxcanvas;
&#8594;     Button button1;

      public void init()&#123;
           boxcanvas = new BoxCanvas();
           boxcanvas.resize(100, 100);
           add(boxcanvas);
&#8594;          button1 = new Button("Move Rectangle");
&#8594;          add(button1);
&#8594;          button1.addActionListener(this);
      &#125;         .
                .
                .
</PRE>
<P>To make your new button active, add an <TT>actionPerformed()</TT> method:</P>
<PRE>
 import java.applet.Applet;
 import java.awt.*;
 import java.awt.event.*;

 public class canvaser extends Applet implements ActionListener &#123;

      BoxCanvas boxcanvas;
      Button button1;

      public void init()&#123;
           boxcanvas = new BoxCanvas();
           boxcanvas.resize(100, 100);
           add(boxcanvas);
           button1 = new Button("Move Rectangle");
           add(button1);
           button1.addActionListener(this);
      &#125;

&#8594;     public void actionPerformed(ActionEvent event)&#123;
                     .
                     .
                     .
&#8594;     &#125;
 &#125;
</PRE>
<P>You can check to make sure your button was the control that caused this event:
</P>
<PRE>
 import java.applet.Applet;
 import java.awt.*;
 import java.awt.event.*;

 public class canvaser extends Applet implements ActionListener &#123;

      BoxCanvas boxcanvas;
      Button button1;

      public void init()&#123;
           boxcanvas = new BoxCanvas();
           boxcanvas.resize(100, 100);
           add(boxcanvas);
           button1 = new Button("Move Rectangle");
           add(button1);
           button1.addActionListener(this);
      &#125;

      public void actionPerformed(ActionEvent event)&#123;
&#8594;          if(event.getSource() == button1)&#123;
                .
                .
                .
&#8594;          &#125;
      &#125;
 &#125;
</PRE>
<P><BR></P>
<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="..\ch13\420-424.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="430-435.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>





</BODY>
</HTML>

