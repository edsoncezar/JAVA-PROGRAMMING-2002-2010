<HTML>
<HEAD>

<TITLE>Java 1.2 In Record Time:Understanding Graphics Animation</TITLE>




<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="430-435.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="438-442.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<P><BR></P>
<H3><A NAME="Heading4"></A><FONT COLOR="#000077">Working with Multi-Threading</FONT></H3>
<P>As we&#146;ll see in Skill 15, the basis of multi-threading in Java is the three methods, <TT>start()</TT>, <TT>run()</TT>, and <TT>stop()</TT>:</P>
<PRE>
 start()
 &#123;
 &#125;

 run()
 &#123;
 &#125;

 stop()
 &#123;
 &#125;
</PRE>
<P>Usually, Java programs have one thread, the main thread, running. However, you can start a new thread in the <TT>start()</TT> method. The code that you want this thread to run appears in the <TT>run()</TT> method. This means that the code in that method will be run automatically as the main thread continues on with the rest of the applet. You can stop the thread in the <TT>stop()</TT> method, which is called when the applet is unloaded or the application finishes.</P>
<BLOCKQUOTE>
<P><FONT SIZE="-1"><HR><B>NOTE:&nbsp;&nbsp;</B>It&#146;s important to stop the thread in the <TT>stop()</TT> method, or your applet will continue to run in a Web  browser, even when the user goes on to other pages.<HR></FONT>
</BLOCKQUOTE>
<P>Let&#146;s install the code you&#146;ll need for your animation applet now. You&#146;ll create a new thread named <TT>spinThread</TT> to handle your animation. You&#146;ll start the new thread in the <TT>start()</TT> method, run your animation in the <TT>run()</TT> method, and stop the thread in the <TT>stop()</TT> method.</P>
<H4 ALIGN="LEFT"><A NAME="Heading5"></A><FONT COLOR="#000077">Handling the start() Method</FONT></H4>
<P>Add the new thread, <TT>spinThread</TT>, to your applet now:</P>
<PRE>
 import java.awt.*;
 import java.applet.Applet;

 public class spinner extends Applet &#123;

      Image spinImages[] = new Image[4];
&#8594;     Thread spinThread;
           .
           .
           .
</PRE>
<P>The Java <TT>Thread</TT> class methods appear in Table 14.2</P>
<TABLE WIDTH="100%"><CAPTION ALIGN=LEFT><B>Table 14.2:</B> The Java <TT>Thread</TT> class methods
<TR>
<TH COLSPAN="2"><HR>
<TR>
<TH WIDTH="50%" ALIGN="LEFT">Method
<TH WIDTH="50%" ALIGN="LEFT">Does This
<TR>
<TD COLSPAN="2"><HR>
<TR>
<TD><TT>Thread()</TT>
<TD>Constructs a new <TT>thread</TT>
<TR>
<TD VALIGN="TOP"><TT>Thread(Runnable)</TT>
<TD>Constructs a new <TT>thread</TT> that applies the <TT>run()</TT> method of the given target
<TR>
<TD VALIGN="TOP"><TT>Thread(Runnable, String)</TT>
<TD>Constructs a new <TT>thread</TT> with the given name and applies the <TT>run()</TT> method of the given target
<TR>
<TD><TT>Thread(String)</TT>
<TD>Constructs a new <TT>thread</TT> with the given name
<TR>
<TD VALIGN="TOP"><TT>Thread(ThreadGroup, Runnable)</TT>
<TD>Constructs a new <TT>thread</TT> in the given <TT>thread</TT> group that applies the <TT>run()</TT> method of the given target
<TR>
<TD VALIGN="TOP"><TT>Thread(ThreadGroup, Runnable, String)</TT>
<TD>Constructs a new <TT>thread</TT> in the given <TT>thread</TT> group with the given name and applies the<TT> run()</TT> method of the given target
<TR>
<TD VALIGN="TOP"><TT>Thread(ThreadGroup, String)</TT>
<TD>Constructs a new <TT>thread</TT> in the given <TT>thread</TT> group with the given name
<TR>
<TD VALIGN="TOP"><TT>activeCount()</TT>
<TD>Returns the current number of active <TT>thread</TT>s in this <TT>thread</TT> group
<TR>
<TD VALIGN="TOP"><TT>checkAccess()</TT>
<TD>Checks whether the current <TT>thread</TT> is allowed to modify this <TT>thread</TT>
<TR>
<TD VALIGN="TOP"><TT>countStackFrames()</TT>
<TD>Returns the number of stack frames in this <TT>thread</TT>
<TR>
<TD VALIGN="TOP"><TT>currentThread()</TT>
<TD>Returns a reference to the currently executing <TT>thread</TT> object
<TR>
<TD><TT>destroy()</TT>
<TD>Destroys a thread, without any cleanup
<TR>
<TD VALIGN="TOP"><TT>dumpStack()</TT>
<TD>Is a debugging procedure to print a stack trace for the current <TT>thread</TT>
<TR>
<TD VALIGN="TOP"><TT>enumerate(Thread[])</TT>
<TD>Copies into the given array references to every active <TT>thread</TT> in this <TT>thread</TT>&#146;s group
<TR>
<TD><TT>getContextClassLoader()</TT>
<TD>Gets the context <TT>classloader</TT> for this thread
<TR>
<TD><TT>getName()</TT>
<TD>Gets and returns this <TT>thread</TT>&#146;s name
<TR>
<TD><TT>getPriority()</TT>
<TD>Gets and returns the <TT>thread</TT>&#146;s priority
<TR>
<TD><TT>getThreadGroup()</TT>
<TD>Gets and returns this <TT>thread&#146;s</TT> group
<TR>
<TD><TT>interrupt()</TT>
<TD>Sends an interrupt to a thread
<TR>
<TD><TT>interrupted()</TT>
<TD>Asks if the thread is interrupted
<TR>
<TD VALIGN="TOP"><TT>isAlive()</TT>
<TD>Returns a boolean indicating if the <TT>thread</TT> is active
<TR>
<TD><TT>isDaemon()</TT>
<TD>Returns the daemon flag of the <TT>thread</TT>
<TR>
<TD VALIGN="TOP"><TT>isInterrupted()</TT>
<TD>Asks if some <TT>thread</TT> (not necessarily self) has been interrupted
<TR>
<TD><TT>join()</TT>
<TD>Waits forever for this <TT>thread</TT> to die
<TR>
<TD><TT>join(long)</TT>
<TD>Waits for this <TT>thread</TT> to die
<TR>
<TD VALIGN="TOP"><TT>join(long, int)</TT>
<TD>Waits for the <TT>thread</TT> to die with more precise time
<TR>
<TD><TT>resume()</TT>
<TD>Deprecated. Resumes this <TT>thread</TT> execution
<TR>
<TD><TT>run()</TT>
<TD>Is the actual body of this <TT>thread</TT>
<TR>
<TD><TT>setContextClassLoader(ClassLoader)</TT>
<TD>Sets the context <TT>classloader</TT> for this thread
<TR>
<TD VALIGN="TOP"><TT>setDaemon(boolean)</TT>
<TD>Marks this thread as a daemon thread or a user thread
<TR>
<TD><TT>setName(String)</TT>
<TD>Sets the thread&#146;s name
<TR>
<TD><TT>setPriority(int)</TT>
<TD>Sets the thread&#146;s priority
<TR>
<TD VALIGN="TOP"><TT>sleep(long)</TT>
<TD>Causes the currently executing <TT>thread</TT> to sleep for the given number of milliseconds
<TR>
<TD VALIGN="TOP"><TT>sleep(long, int)</TT>
<TD>Causes the thread to sleep, in milliseconds and additional nanoseconds
<TR>
<TD><TT>start()</TT>
<TD>Starts this thread
<TR>
<TD><TT>stop()</TT>
<TD>Deprecated. Stops a <TT>thread</TT> by tossing an object
<TR>
<TD><TT>stop(Throwable)</TT>
<TD>Deprecated.  Stops a <TT>thread</TT> by tossing an object
<TR>
<TD><TT>suspend()</TT>
<TD>Deprecated. Suspends this <TT>thread</TT>&#146;s execution
<TR>
<TD VALIGN="TOP"><TT>toString()</TT>
<TD>Returns a string representation of the <TT>thread</TT>, including the thread&#146;s name, priority, and thread group
<TR>
<TD VALIGN="TOP"><TT>yield()</TT>
<TD>Causes the currently executing <TT>thread</TT> object to yield
<TR>
<TD COLSPAN="2"><HR>
</TABLE>
<P>To handle multi-threading, you have to implement the <TT>Runnable</TT> interface, which you can do as follows. (You&#146;ll see more about this interface later.)</P>
<PRE>
 import java.awt.*;
 import java.applet.Applet;

&#8594;public class spinner extends Applet implements Runnable&#123;

      Image spinImages[] = new Image[4];
      Thread spinThread;
           .
           .
           .
</PRE>
<P><BR></P>
<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="430-435.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="438-442.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>





</BODY>
</HTML>

