<HTML>
<HEAD>

<TITLE>Java 1.2 In Record Time:Using Choice Controls and Scrolling Lists</TITLE>




<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="175-180.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="186-190.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<P><BR></P>
<P>In the <TT>init()</TT> method, just add your new <TT>list</TT> control this way, indicating that you want two lines in your list control, and indicating that you will allow multiple selections by passing a second parameter and setting it to true:</P>
<PRE>
 import java.applet.Applet;
 import java.awt.*;
 import java.awt.event.*;

 public class scrolllist extends Applet &#123;

      List list1;
      TextField text1;

      public void init()&#123;
&#8594;          text1 = new TextField(20);
&#8594;          list1 = new List(2, true);
                     .
                     .
                     .
      &#125;
 &#125;
</PRE>
<P>Next, add the list, the text field, and the selections in the <TT>List</TT> control. You&#146;ll add the items to the <TT>List</TT> control with the <TT>List</TT> class&#146;s <TT>add()</TT> method this way:</P>
<PRE>
 import java.applet.Applet;
 import java.awt.*;
 import java.awt.event.*;

 public class scrolllist extends Applet &#123;

      List list1;
      TextField text1;

      public void init()&#123;
           text1 = new TextField(20);
           add(text1);
           list1 = new List(2, true);
&#8594;          list1.add("Item 1");
&#8594;          list1.add("Item 2");
&#8594;          list1.add("Item 3");
           add(list1);
                .
                .
                .
      &#125;
 &#125;
</PRE>
<P>In addition, add an ActionListener to your applet&#146;s class and the <TT>List</TT> control:</P>
<PRE>
 import java.applet.Applet;
 import java.awt.*;
 import java.awt.event.*;

&#8594;public class scrolllist extends Applet implements   ActionListener&#123;

      List list1;
      TextField text1;

      public void init()&#123;
           text1 = new TextField(20);
           add(text1);
           list1 = new List(2, true);
           list1.add("Item 1");
           list1.add("Item 2");
           list1.add("Item 3");
           add(list1);
&#8594;     list1.addActionListener(this);
      &#125;
 &#125;
</PRE>
<P>Now the applet displays the scrolling <TT>list</TT> control and the text field&#151;your next step is to make the scrolling list active with an <TT>actionPerformed()</TT> method:</P>
<PRE>
 import java.applet.Applet;
 import java.awt.*;
 import java.awt.event.*;

 public class scrolllist extends Applet implements ActionListener &#123;

      List list1;
      TextField text1;

      public void init()&#123;
           text1 = new TextField(20);
           add(text1);
           list1 = new List(2, true);
           list1.add("Item 1");
           list1.add("Item 2");
           list1.add("Item 3");
           add(list1);
           list1.addActionListener(this);
      &#125;

&#8594;     public void actionPerformed(ActionEvent e) &#123;
                     .
                     .
                     .
      &#125;
 &#125;
</PRE>
<P>If the user has indeed made a selection, you can get the currently selected item in the scrolling list this way:
</P>
<PRE>
  ((List) e.getSource()).getSelectedItem()
</PRE>
<P>and we display that selection in the text field <TT>text1</TT> as follows:</P>
<PRE>
 import java.applet.Applet;
 import java.awt.*;
 import java.awt.event.*;

 public class scrolllist extends Applet implements ActionListener &#123;

      List list1;
      TextField text1;

      public void init()&#123;
           text1 = new TextField(20);
           add(text1);
           list1 = new List(2, true);
           list1.add("Item 1");
           list1.add("Item 2");
           list1.add("Item 3");
           add(list1);
           list1.addActionListener(this);
      &#125;

      public void actionPerformed(ActionEvent e) &#123;
           if(e.getSource() == list1)&#123;
&#8594;          text1.setText(((List) e.getSource()).getSelectedItem());
            &#125;
      &#125;
 &#125;
</PRE>
<BLOCKQUOTE>
<P><FONT SIZE="-1"><HR><B>NOTE:&nbsp;&nbsp;</B>To handle multiple selections (our <TT>list</TT> control is set up to accept multiple selections), you would use <TT>getSelectedItems()</TT> here instead. In this simple example,  we&#146;re using just a single selection.<HR></FONT>
</BLOCKQUOTE>
<P>You&#146;re finished! Your scrolling list applet is ready to run. The user can scroll up and down your list, and when they make a selection, you can report what that selection is, as shown below. The code for this applet appears in <TT>scrolllist.java</TT>.</P>
<P><A NAME="Fig7"></A><A HREF="images\07-07.jpg"><IMG SRC="images\07-07t.jpg"></A></P>
<P><B>scrolllist.java</B></P>
<PRE>
 import java.applet.Applet;
 import java.awt.*;
 import java.awt.event.*;

 public class scrolllist extends Applet implements ActionListener &#123;

      List list1;
      TextField text1;

      public void init()&#123;
           text1 = new TextField(20);
           add(text1);
           list1 = new List(2, true);
           list1.add("Item 1");
           list1.add("Item 2");
           list1.add("Item 3");
           add(list1);
           list1.addActionListener(this);
      &#125;

      public void actionPerformed(ActionEvent e) &#123;
           if(e.getSource() == list1)&#123;
           text1.setText(((List) e.getSource()).getSelectedItem());
           &#125;
      &#125;
 &#125;
</PRE>
<P>We will turn now to the final topic for this chapter&#151;another powerful Java layout manager&#151;the GridBagLayout manager.
</P>
<H3><A NAME="Heading4"></A><FONT COLOR="#000077">Using the GridBagLayout Manager</FONT></H3>
<P>In this last example of the chapter, we&#146;ll explore what is probably the most powerful native Java layout of all&#151;the GridBagLayout. This layout manager lets you specify the position of your controls more exactly than any other layout manager we&#146;ve seen.
</P>
<P>For example, using the GridBagLayout manager, you can create an applet that provides the user with a list of employees. You can display the names of employees in buttons at the top of the applet. When the user clicks a button, you can display the corresponding employee ID number in a text area, as shown in Figure 7.6.</P>
<P><A NAME="Fig8"></A><A HREF="images\07-08.jpg"><IMG SRC="images\07-08t.jpg"></A>
<BR><A HREF="images\07-08.jpg"><FONT COLOR="#000077"><B>FIGURE 7.6</B></FONT></A>&nbsp;&nbsp;Displaying a number in a text field at the click of a button</P>
<P>Let&#146;s give this new layout a try. Create a new file now named <TT>employee.java</TT>. You&#146;ll also add the controls you&#146;ll need&#151;buttons <TT>button1</TT> to <TT>button4</TT>, and a text area named <TT>text1</TT>:</P>
<PRE>
 import java.applet.Applet;
 import java.awt.*;
 import java.awt.event.*;

 public class employee extends Applet &#123;

&#8594;     Button button1, button2, button3, button4;
&#8594;     TextArea text1;
           .
           .
           .
 &#125;
</PRE>
<P><BR></P>
<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="175-180.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="186-190.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>





</BODY>
</HTML>

