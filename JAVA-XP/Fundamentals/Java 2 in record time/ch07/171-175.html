<HTML>
<HEAD>

<TITLE>Java 1.2 In Record Time:Using Choice Controls and Scrolling Lists</TITLE>




<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="167-171.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="175-180.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<P><BR></P>
<P>Next, add an <TT>init()</TT> method and add your new controls there:</P>
<PRE>
 import java.applet.Applet;
 import java.awt.*;
 import java.awt.event.*;

 public class choices extends Applet &#123;

      Choice choice1;
      TextField text1;

      public void init()&#123;
&#8594;         text1 = new TextField(20);
&#8594;         add(text1);
&#8594;         choice1 = new Choice();
&#8594;         add(choice1);
               .
               .
               .
      &#125;
&#125;
</PRE>
<P>Note that before adding the <TT>Choice</TT> control you can load it with the parameters it reads in directly from the Web page. To do this, just use the <TT>getParameter()</TT> method. In particular, all you have to do is pass <TT>getParameter()</TT> the name of the item you want to get (i.e., using the name you gave it in the Web page). Then you can add that new selection to the <TT>Choice</TT> control this way:</P>
<PRE>
 import java.applet.Applet;
 import java.awt.*;
 import java.awt.event.*;

 public class choices extends Applet &#123;

      Choice choice1;
      TextField text1;

      public void init()&#123;
           text1 = new TextField(20);
           add(text1);
           choice1 = new Choice();
&#8594;          choice1.add(getParameter("selection1"));
&#8594;          choice1.add(getParameter("selection2"));
&#8594;          choice1.add(getParameter("selection3"));
&#8594;          choice1.add(getParameter("selection4"));
           add(choice1);
                .
                .
                .
      &#125;
</PRE>
<P>That&#146;s it&#151;you&#146;ve added your selections to the <TT>Choice</TT> control by retrieving them directly from the Web page.</P>
<BLOCKQUOTE>
<P><FONT SIZE="-1"><HR><B>NOTE:&nbsp;&nbsp;</B>If you&#146;ve programmed in Java before, you might have expected to add items to the <TT>Choice</TT> control with the <TT>addItem()</TT> method, but that method is deprecated in Java 1.2.<HR></FONT>
</BLOCKQUOTE>
<P>At this point, then, your <TT>Choice </TT>control and text field appear. The next step is to display the choice the user makes, and you do that by adding an Item-Listener to the <TT>Choice</TT> control:</P>
<PRE>
 import java.applet.Applet;
 import java.awt.*;
 import java.awt.event.*;

&#8594;public class choices extends Applet implements ItemListener &#123;

      Choice choice1;
      TextField text1;

      public void init()&#123;
           text1 = new TextField(20);
           add(text1);
           choice1 = new Choice();
           choice1.add(getParameter("selection1"));
           choice1.add(getParameter("selection2"));
           choice1.add(getParameter("selection3"));
           choice1.add(getParameter("selection4"));
           add(choice1);
&#8594;          choice1.addItemListener(this);
      &#125;
</PRE>
<P>Then add the <TT>itemStateChanged()</TT> method to your applet so you will be able to read <TT>Choice</TT> control events:</P>
<PRE>
 import java.applet.Applet;
 import java.awt.*;
 import java.awt.event.*;

 public class choices extends Applet implements ItemListener &#123;

      Choice choice1;
      TextField text1;

      public void init()&#123;
           text1 = new TextField(20);
           add(text1);
           choice1 = new Choice();
           choice1.add(getParameter("selection1"));
           choice1.add(getParameter("selection2"));
           choice1.add(getParameter("selection3"));
           choice1.add(getParameter("selection4"));
           add(choice1);
           choice1.addItemListener(this);
     &#125;
&#8594;    public void itemStateChanged(ItemEvent e) &#123;
               .
               .
               .
&#8594;    &#125;
  &#125;
</PRE>
<P>Now make sure that <TT>choice1</TT> caused the event:</P>
<PRE>
 import java.applet.Applet;
 import java.awt.*;
 import java.awt.event.*;

 public class choices extends Applet implements ItemListener &#123;

      Choice choice1;
      TextField text1;

      public void init()&#123;
           text1 = new TextField(20);
           add(text1);
           choice1 = new Choice();
           choice1.add(getParameter("selection1"));
           choice1.add(getParameter("selection2"));
           choice1.add(getParameter("selection3"));
           choice1.add(getParameter("selection4"));
           add(choice1);
           choice1.addItemListener(this);
      &#125;

      public void itemStateChanged(ItemEvent e) &#123;
&#8594          if(e.getItemSelectable() == choice1)&#123;
                     .
                     .
                     .
           &#125;
      &#125;
  &#125;
</PRE>
<P>And if so, all that is left is to display the new choice the user has just made in the text field, which you do like this. (Note that you have to indicate that the item you get with <TT>getItemSelectable()</TT> is a <TT>Choice</TT> control with the <TT>(Choice)</TT> cast):</P>
<PRE>
 import java.applet.Applet;
 import java.awt.*;
 import java.awt.event.*;

 public class choices extends Applet implements ItemListener &#123;

      Choice choice1;
      TextField text1;

      public void init()&#123;
           text1 = new TextField(20);
           add(text1);
           choice1 = new Choice();
           choice1.add(getParameter("selection1"));
           choice1.add(getParameter("selection2"));
           choice1.add(getParameter("selection3"));
           choice1.add(getParameter("selection4"));
           add(choice1);
           choice1.addItemListener(this);
      &#125;

      public void itemStateChanged(ItemEvent e) &#123;
           if(e.getItemSelectable() == choice1)&#123;
&#8594;     text1.setText(
  ((Choice)e.getItemSelectable()).getSelectedItem());
            &#125;
       &#125;
 &#125;
</PRE>
<BLOCKQUOTE>
<P><FONT SIZE="-1"><HR><B>NOTE:&nbsp;&nbsp;</B>Note the use of the term <TT>(Choice)</TT> in the above code. Here, you inform Java that the control you get from the <TT>e.getItemSelectable()</TT> call will be a <TT>Choice</TT> control. You need to tell Java that so you can then use the <TT>Choice</TT> control&#146;s <TT>getSelectedItem()</TT> method in the same statement.<HR></FONT>
</BLOCKQUOTE>
<P><BR></P>
<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="167-171.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="175-180.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>





</BODY>
</HTML>

