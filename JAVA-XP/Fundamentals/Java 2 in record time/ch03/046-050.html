<HTML>
<HEAD>

<TITLE>Java 1.2 In Record Time:Using Java Buttons</TITLE>




<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="041-046.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="050-054.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<P><BR></P>
<H4 ALIGN="LEFT"><A NAME="Heading4"></A><FONT COLOR="#000077">What Are Java Events?</FONT></H4>
<P>When the user clicks a button, types text, uses the mouse, or performs any other interface-related action in your applet, an interface <I>event</I> occurs; if you have programmed in Windows, you probably know about such interface events already. When an event occurs in your applet, such as when the user clicks the mouse, the applet is notified, and you can take the appropriate action. That&#146;s the way programming goes in <I>Graphics User Interface</I> (GUI) programs like those written for Windows&#151;we respond to user events when they happen because the user directs the program flow by manipulating the controls in the applet. In this case, you can find out what events&#151;like mouse movements or button clicks&#151;occur as your applet runs by using the <I>ActionListener</I> interface.</P>
<P>If you&#146;ve programmed in Java 1.0, you were probably expecting us to use an <TT>action()</TT> method here, to handle button clicks, but the <TT>action()</TT> method is now considered <I>deprecated</I>&#151;obsolete! This is a fundamental change. The new technique in Java 1.1 and Java 1.2 is the use of the <I>delegation-based event model</I>. To use this technique, we indicate that our applet class will <I>implement</I> the ActionListener interface (this is somewhat like saying that we are deriving our applet&#146;s class based on ActionListener&#151;I&#146;ll show you more about implementing interfaces when I cover multi-threading).</P>
<BLOCKQUOTE>
<P><FONT SIZE="-1"><HR><B>NOTE:&nbsp;&nbsp;</B>Java does not support multiple inheritance&#151;that is, deriving one class from two others, like the <TT>Applet</TT> class and some hypothetical <TT>ActionListener</TT> class, at the same time. Java declares ActionListener as an interface to let you use the ActionListener methods; this means you can <I>extend</I> the <TT>Applet</TT> <I>class</I> to create your applet, and <I>implement</I> the ActionListener <I>interface</I> to use the Action-Listener methods as well. I&#146;ll show you more about this later.<HR></FONT>
</BLOCKQUOTE>
<P>Implementing that interface looks like this, where you also import the <TT>java.awt.event</TT> package that holds the ActionListener interface:</P>
<PRE>
   import java.applet.Applet;
   import java.awt.*;
   &#8594;import java.awt.event.*;

   &#8594;public class clicker extends Applet implements    ActionListener&#123;

       TextField text1;
       Button button1;

       public void init()&#123;
           text1 = new TextField(20);
           add(text1);
           button1 = new Button("Click Here!");
           add(button1);
               .
               .
               .
    &#125;
   &#125;
</PRE>
<BLOCKQUOTE>
<P><FONT SIZE="-1"><HR><B>TIP:&nbsp;&nbsp;</B>The class that implements the ActionListener interface does not have to be the applet&#146;s main class&#151;you can create an entirely new class to do that. In larger programs it&#146;s often a good idea to do so because it helps break up the code. One of the primary differences between Java 1.0 and Java 1.2 is that in Java 1.0 all the code that handled events had to go into the <TT>action()</TT> method, whereas in Java 1.2 you can create <TT>Listener</TT> objects to handle events. You can use many <TT>Listener</TT> objects in a Java program to handle a great variety of events.<HR></FONT>
</BLOCKQUOTE>
<P>The delegation-based event model works like this: Events are passed from source controls to listener objects. That means you will connect a <I>Listener</I> to your button, <TT>button1</TT>. When an event occurs, the listener object will &#147;hear&#148; it. In this case, you will make the listener object the applet object itself by connecting your applet to <TT>button1</TT> as a listener; do that with the button&#146;s <TT>addActionListener()</TT> method. But to indicate that you want the applet itself to be the button&#146;s listener, you would need to be able to pass the applet itself as an argument to <TT>addActionListener()</TT>. How do you do that?</P>
<H4 ALIGN="LEFT"><A NAME="Heading5"></A><FONT COLOR="#000077">The <I>this</I> Keyword
</FONT></H4>
<P>You do that with the <TT>this</TT> keyword, which is a keyword that refers to the current object you&#146;re in. This means that you set up your ActionListener as follows:</P>
<PRE>
   import java.applet.Applet;
   import java.awt.*;
   import java.awt.event.*;

   public class clicker extends Applet implements ActionListener&#123;

       TextField text1;
       Button button1;

       public void init()&#123;
           text1 = new TextField(20);
           add(text1);
           button1 = new Button("Click Here!");
           add(button1);
  &#8594;       button1.addActionListener(this);
       &#125;
   &#125;
</PRE>
<P>We&#146;ve set up our ActionListener; now, when there are button events, they will be sent to our applet. But how do we make use of the button events?
</P>
<H4 ALIGN="LEFT"><A NAME="Heading6"></A><FONT COLOR="#000077">Using Button Events</FONT></H4>
<P>Catch the events sent to you by overriding the ActionListener interface&#146;s <TT>actionPerformed()</TT> method and adding your own version, which looks like this:</P>
<PRE>
   import java.applet.Applet;
   import java.awt.*;
   import java.awt.event.*;

   public class clicker extends Applet implements ActionListener &#123;

       TextField text1;
       Button button1;

       public void init()&#123;
           text1 = new TextField(20);
           add(text1);
           button1 = new Button("Click Here!");
           add(button1);
           button1.addActionListener(this);
       &#125;

  &#8594;   public void actionPerformed(ActionEvent event)&#123;
               .
               .
               .
  &#8594    &#125;
   &#125;
</PRE>
<P>This is the method that will be called when the user clicks your button. The <TT>ActionEvent</TT> object that is passed to you here holds information about the event that occurred. For example, if you have a number of buttons, clicking any one will call this method&#151;how do you make sure that your button, <TT>button1</TT>, was clicked?</P>
<P>You can check which button was clicked with the <TT>ActionEvent</TT> class&#146;s <TT>getSource()</TT> method. This method returns the control that caused the event, and you can check to see if that control is <TT>button1</TT>:</P>
<PRE>
   import java.applet.Applet;
   import java.awt.*;
   import java.awt.event.*;

   public class clicker extends Applet implements ActionListener &#123;

       TextField text1;
       Button button1;

       public void init()&#123;
           text1 = new TextField(20);
           add(text1);
           button1 = new Button("Click Here!");
           add(button1);
           button1.addActionListener(this);
       &#125;

       public void actionPerformed(ActionEvent event)&#123;
           if(event.getSource() == button1)&#123;
                   .
                   .
                   .
           &#125;
       &#125;
   &#125;
</PRE>
<P><BR></P>
<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="041-046.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="050-054.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>





</BODY>
</HTML>

