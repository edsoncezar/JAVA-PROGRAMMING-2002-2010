<HTML>
<HEAD>

<TITLE>Java 1.2 In Record Time:Using Java Buttons</TITLE>




<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="050-054.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="061-066.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<P><BR></P>
<P>Now your new applet is complete. Build it now and run it. Click the button and watch the &#147;Welcome to Java&#148; message appear in the text field as shown below. The code for this applet appears in <TT>clicker.java</TT>.</P>
<P><A NAME="Fig4"></A><A HREF="images\03-04.jpg"><IMG SRC="images\03-04t.jpg"></A></P>
<P><B>clicker.java</B></P>
<PRE>
  import java.applet.Applet;
  import java.awt.*;
  import java.awt.event.*;

  public class clicker extends Applet implements ActionListener &#123;

      TextField text1;
      Button button1;

      public void init()&#123;
          text1 = new TextField(20);
          add(text1);
          button1 = new Button("Click Here!");
          add(button1);
          button1.addActionListener(this);
    &#125;

      public void actionPerformed(ActionEvent event)&#123;
          String msg = new String ("Welcome to Java");
          if(event.getSource() == button1)&#123;
            text1.setText(msg);
          &#125;
      &#125;
  &#125;
</PRE>
<P>So far, you&#146;ve seen how to add both a text field and a button to your applet. Now let&#146;s turn to the next case&#151;multiple buttons.
</P>
<H3><A NAME="Heading7"></A><FONT COLOR="#000077">How to Handle Multiple Buttons</FONT></H3>
<P>Say you want to set up a new applet that has two buttons, labeled &#147;Welcome to&#148; and &#147;Java&#148;, along with a text box, as shown in Figure 3.4. When the user clicks the Welcome To button, you can display &#147;Welcome to&#148; in the text box, as shown in Figure 3.5. When they click the Java button, you can display &#147;Java&#148; in the text box, as shown in Figure 3.6.
</P>
<P><A NAME="Fig5"></A><A HREF="images\03-05.jpg"><IMG SRC="images\03-05t.jpg"></A>
<BR><A HREF="images\03-05.jpg"><FONT COLOR="#000077"><B>FIGURE 3.4</B></FONT></A>&nbsp;&nbsp;An applet with a text box and two buttons</P>
<P><A NAME="Fig6"></A><A HREF="images\03-06.jpg"><IMG SRC="images\03-06t.jpg"></A>
<BR><A HREF="images\03-06.jpg"><FONT COLOR="#000077"><B>FIGURE 3.5</B></FONT></A>&nbsp;&nbsp;Click the Welcome To button and &#147;Welcome to&#148; appears in the text box.</P>
<P><A NAME="Fig7"></A><A HREF="images\03-07.jpg"><IMG SRC="images\03-07t.jpg"></A>
<BR><A HREF="images\03-07.jpg"><FONT COLOR="#000077"><B>FIGURE 3.6</B></FONT></A>&nbsp;&nbsp;Click the Java button and &#147;Java&#148; appears in the text box.</P>
<H4 ALIGN="LEFT"><A NAME="Heading8"></A><FONT COLOR="#000077">Creating <I>clickers.java</I>
</FONT></H4>
<P>This exercise will give you the chance to see how to keep buttons separate and to learn a new and faster method of determining which button was clicked. Let&#146;s put this together now. Create a new file called <TT>clickers.java</TT>. You&#146;ll need two buttons, <TT>button1</TT> and <TT>button2</TT>, and a text field, <TT>text1</TT>. Add those to the beginning of your class definition as follows:</P>
<PRE>
  import java.applet.Applet;
  import java.awt.*;
  import java.awt.event.*;

  public class clickers extends Applet &#123;
&#8594;      TextField text1;
&#8594;      Button button1, button2;
        .
        .
        .
  &#125;
</PRE>
<P>Next, create and add those controls to your applet in an <TT>init()</TT> method as you did in the last two examples:</P>
<PRE>
  import java.applet.Applet;
  import java.awt.*;
  import java.awt.event.*;

  public class clickers extends Applet &#123;

      TextField text1;
      Button button1, button2;

&#8594;        public void init()&#123;
            .
            .
            .
&#8594;    &#125;
 &#125;
</PRE>
<P>In this case, you want a text field and two buttons, one button with the caption &#147;Welcome to&#148; and the other with the caption &#147;Java&#148;:
</P>
<PRE>
  import java.applet.Applet;
  import java.awt.*;
  import java.awt.event.*;

  public class clickers extends Applet &#123;

      TextField text1;
      Button button1, button2;

      public void init()&#123;
&#8594;            text1 = new TextField(20);
&#8594;            add(text1);
&#8594;            button1 = new Button("Welcome to");
&#8594;            add(button1);
&#8594;            button2 = new Button("Java");
&#8594;            add(button2);
      &#125;
  &#125;
</PRE>
<P>At this point, you&#146;ve added all the controls you&#146;ll need to your applet, as shown in Figure 3.7.
</P>
<P><A NAME="Fig8"></A><A HREF="images\03-08.jpg"><IMG SRC="images\03-08t.jpg"></A>
<BR><A HREF="images\03-08.jpg"><FONT COLOR="#000077"><B>FIGURE 3.7</B></FONT></A>&nbsp;&nbsp;Your applet contains three controls: two buttons and a text field.</P>
<H4 ALIGN="LEFT"><A NAME="Heading9"></A><FONT COLOR="#000077">Making<I>clickers.java</I> Work
</FONT></H4>
<P>Now it&#146;s time to get the new controls working. As before, do that by adding the  <TT>actionPerformed()</TT> method to our class now, as well as the keywords <TT>implements ActionListener:</TT></P>
<PRE>
 import java.applet.Applet;
 import java.awt.*;
 import java.awt.event.*;

&#8594;public class clickers extends Applet implements  ActionListener&#123;

      TextField text1;
      Button button1, button2;

      public void init()&#123;
           text1 = new TextField(20);
           add(text1);
           button1 = new Button("Welcome to");
           add(button1);
           button2 = new Button("Java");
           add(button2);
      &#125;

&#8594;          public void actionPerformed(ActionEvent e)&#123;
                 .
                 .
                 .
&#8594;          &#125;
  &#125;
</PRE>
<P>In addition to adding the <TT>actionPerformed()</TT> method and your keywords, you will connect your buttons to the ActionListener now&#151;note that both buttons will be connected to the same ActionListener this way, as we use <TT>addActionListener()</TT>:</P>
<PRE>
 import java.applet.Applet;
 import java.awt.*;
 import java.awt.event.*;

&#8594;public class clickers extends Applet implements ActionListener&#123;

    TextField text1;
    Button button1, button2;

    public void init()&#123;
        text1 = new TextField(20);
        add(text1);
        button1 = new Button("Welcome to");
        add(button1);
&#8594;       button1.addActionListener(this);
        button2 = new Button("Java");
        add(button2);
&#8594;       button2.addActionListener(this);
    &#125;
    public void actionPerformed(ActionEvent e)&#123;
            .
            .
            .
    &#125;
  &#125;
</PRE>
<P>Now your buttons are connected to the <TT>actionPerformed()</TT> method. The next step is to determine which button caused the click event that caused <TT>actionPerformed()</TT> to be called, and you can do that with the ActionEvent class&#146;s <TT>getSource()</TT> method. Here, the two buttons are <TT>button1</TT> and <TT>button2</TT>. Check to see which one was clicked as follows:</P>
<PRE>
  import java.applet.Applet;
  import java.awt.*;
  import java.awt.event.*;

  public class clickers extends Applet implements ActionListener &#123;

      TextField text1;
      Button button1, button2;
      public void init()&#123;
          text1 = new TextField(20);
          add(text1);
          button1 = new Button("Welcome to");
          add(button1);
          button1.addActionListener(this);
          button2 = new Button("Java");
          add(button2);
          button2.addActionListener(this);
      &#125;

      public void actionPerformed(ActionEvent e)&#123;
 &#8594;        if(e.getSource() == button1)&#123;
              .
              .
              .
 &#8594;        &#125;
 &#8594;        if(e.getSource() == button2)&#123;
              .
              .
              .
 &#8594;        &#125;
     &#125;
 &#125;
</PRE>
<P><BR></P>
<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="050-054.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="061-066.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>





</BODY>
</HTML>

