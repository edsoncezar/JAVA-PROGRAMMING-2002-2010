<HTML>
<HEAD>

<TITLE>Java 1.2 In Record Time:Constructing Java Dialog Boxes</TITLE>




<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="260-265.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="270-276.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<P><BR></P>
<P>Here, add the text field in which you&#146;ll display the results from the calculator; you can name that text field &#147;text1&#148;. Next, add the menu system itself, with one item, Calculator&#133;:
</P>
<PRE>
 class MenuFrame extends Frame implements ActionListener &#123;

&#8594;     Menu Menu1;
&#8594;     MenuBar Menubar1;
&#8594;     MenuItem menuitem1;

&#8594;     TextField text1;

&#8594;     MenuFrame(String title)&#123;
&#8594;          super(title);
&#8594;          text1 = new TextField(" ");
&#8594;          setLayout(new GridLayout(1, 1));
&#8594;          add(text1);
&#8594;          Menubar1 = new MenuBar();
&#8594;
&#8594;          Menu1 = new Menu("File");

&#8594;          menuitem1 = new MenuItem("Calculator...");
&#8594;          Menu1.add(menuitem1);
           menuitem1.addActionListener(this);
&#8594;
&#8594;          Menubar1.add(Menu1);
&#8594;          setMenuBar(Menubar1);
                .
                .
      &#125
</PRE>
<P>The popup calculator itself will be a dialog box of the class <TT>calculatordialog</TT>. You&#146;ll create an object of that class named <TT>dialogBox</TT> now:</P>
<PRE>
 class MenuFrame extends Frame implements ActionListener &#123;

      Menu Menu1;
      MenuBar Menubar1;
      MenuItem menuitem1, menuitem2, menuitem3;

      TextField text1;
&#8594;     calculatordialog dialogBox;

      MenuFrame(String title)&#123;
          super(title);
          text1 = new TextField(" ");
          setLayout(new GridLayout(1, 1));
          add(text1);
          Menubar1 = new MenuBar();

          Menu1 = new Menu("File");
          menuitem1 = new MenuItem("Calculator...");
          Menu1.add(menuitem1);
          menuitem1.addActionListener(this);

          Menubar1.add(Menu1);

          setMenuBar(Menubar1);
&#8594;         dialogBox = new Calculatordialog(this, "Calculator", true);
     &#125;
 &#125;
</PRE>
<P>When the user clicks the Calculator&#133; menu item, you want to pop up the calculator object on the screen. You can do that in an <TT>actionPerformed()</TT> method:</P>
<PRE>
 class MenuFrame extends Frame implements ActionListener &#123;

      Menu Menu1;
      MenuBar Menubar1;
      MenuItem menuitem1, menuitem2, menuitem3;

      TextField text1;
      calculatordialog dialogBox;

      MenuFrame(String title)&#123;
          super(title);
          text1 = new TextField(" ");
          setLayout(new GridLayout(1, 1));
          add(text1);
          Menubar1 = new MenuBar();

          Menu1 = new Menu("File");

          menuitem1 = new MenuItem("Calculator...");
          Menu1.add(menuitem1);
          menuitem1.addActionListener(this);

          Menubar1.add(Menu1);

          setMenuBar(Menubar1);
          dialogBox = new calculatordialog(this, "Calculator", true);
     &#125;

     public void actionPerformed(ActionEvent event)&#123;
&#8594         if(event.getSource() == menuitem1)&#123;
&#8594              dialogBox.setVisible(true);
&#8594         &#125;
&#8594    &#125;
 &#125;
</PRE>
<P>All that&#146;s left is to create your calculator class, <TT>calculatordialog</TT>. As with the previous dialog box, place a constructor in your calculator dialog and pass back to yourself the parameters passed to the <TT>Dialog</TT> class&#146;s constructor:</P>
<PRE>
 class calculatordialog extends Dialog &#123;

      calculatordialog(Frame hostFrame, String title, boolean dModal)&#123;
           super(hostFrame, title, dModal);
           setSize(300, 300);
                .
                .
                .
</PRE>
<P>Next, add the controls you&#146;ll need for this popup calculator, including the new Exit button at the bottom of the dialog box. The controls you&#146;ll use in your calculator are shown in Figure 9.7.
</P>
<P><A NAME="Fig8"></A><A HREF="images\09-08.jpg"><IMG SRC="images\09-08t.jpg"></A>
<BR><A HREF="images\09-08.jpg"><FONT COLOR="#000077"><B>FIGURE 9.7</B></FONT></A>&nbsp;&nbsp;The controls used in your calculator</P>
<P>Add those new controls in a grid layout, as follows:
</P>
<PRE>
 class calculatordialog extends Dialog implements ActionListener &#123;

&#8594;     TextField text1, text2, answertext;
&#8594;     Label pluslabel, fill1, fill2, fill3, fill4, fill5, fill6, fill7, &#8658;
      fill8, fill9, fill10, fill11, fill12;
&#8594;     Label spacer1, spacer2, spacer3, spacer4, spacer5, spacer6, &#8658;
      spacer7, spacer8, spacer9;
&#8594;     Button button1, button2;

      calculatordialog(Frame hostFrame, String title, boolean dModal)&#123;
           super(hostFrame, title, dModal);
           setSize(300, 300);
&#8594;          setLayout(new GridLayout(10, 3));
&#8594;
&#8594;          fill1 = new Label();
&#8594;          add(fill1);
&#8594;          text1 = new TextField(10);
&#8594;          add(text1);
&#8594;          fill2 = new Label();
&#8594;          add(fill2);
&#8594;
&#8594;          fill3 = new Label();
&#8594;          add(fill3);
&#8594;          pluslabel = new Label("+", Label.CENTER);
&#8594;          add(pluslabel);
&#8594;          fill4 = new Label();
&#8594;          add(fill4);
&#8594;
&#8594;          fill5 = new Label();
&#8594;          add(fill5);
&#8594;          text2 = new TextField(10);
&#8594;          add(text2);
&#8594;          fill6 = new Label();
&#8594;          add(fill6);
&#8594;
&#8594;          spacer1 = new Label();
&#8594;          add(spacer1);
&#8594;          spacer2 = new Label();
&#8594;          add(spacer2);
&#8594;          spacer3 = new Label();
&#8594;          add(spacer3);

&#8594;          fill7 = new Label();
&#8594;          add(fill7);
&#8594;          button1 = new Button("=");
&#8594;          add(button1);
&#8594;          button1.addActionListener(this);
&#8594;          fill8 = new Label();
&#8594;          add(fill8);
&#8594;
&#8594;          spacer4 = new Label();
&#8594;          add(spacer4);
&#8594;          spacer5 = new Label();
&#8594;          add(spacer5);
&#8594;          spacer6 = new Label();
&#8594;          add(spacer6);
&#8594;
&#8594;          fill9 = new Label();
&#8594;          add(fill9);
&#8594;          answertext = new &#8594;TextField(10);
&#8594;          add(answertext);
&#8594;          fill10 = new Label();
&#8594;          add(fill10);
&#8594;
&#8594;          spacer7 = new Label();
&#8594;          add(spacer7);
&#8594;          spacer8 = new Label();
&#8594;          add(spacer8);
&#8594;          spacer9 = new Label();
&#8594;          add(spacer9);
&#8594;
&#8594;          fill11 = new Label();
&#8594;          add(fill11);
&#8594;          button2 = new Button("Exit");
&#8594;          add(button2);
&#8594;          button2.addActionListener(this);
&#8594;          fill12 = new Label();
&#8594;          add(fill12);
     &#125;
</PRE>
<P><BR></P>
<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="260-265.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="270-276.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>





</BODY>
</HTML>

