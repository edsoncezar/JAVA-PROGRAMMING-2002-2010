<HTML>
<HEAD>

<TITLE>Java 1.2 In Record Time:Constructing Java Dialog Boxes</TITLE>




<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="258-260.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="266-270.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<P><BR></P>
<P>And you&#146;re finished&#151;you can run the applet now. When you open the frame window and select File [special character] Dialog Box&#133;, the dialog box appears on the screen, as shown in Figure 9.3. When you click the OK or Cancel button, the dialog box disappears from the screen. The listing for this applet appears in <TT>dialogs.java</TT>.</P>
<P><A NAME="Fig4"></A><A HREF="images\09-04.jpg"><IMG SRC="images\09-04t.jpg"></A>
<BR><A HREF="images\09-04.jpg"><FONT COLOR="#000077"><B>FIGURE 9.3</B></FONT></A>&nbsp;&nbsp;Your applet supports a dialog box.</P>
<P><B>dialogs.java</B></P>
<PRE>
 import java.applet.Applet;
 import java.awt.*;
 import java.awt.event.*;

 public class dialogs extends Applet implements ActionListener
 &#123;

      Button button1, button2;
      dialogframe frameWindow;

      public void init()&#123;
           button1 = new Button("Show dialog window");
           add(button1);
           button1.addActionListener(this);
           button2 = new Button("Hide dialog window");
           add(button2);
           button2.addActionListener(this);

           frameWindow = new dialogframe("Dialogs");
           frameWindow.setSize(100, 100);
      &#125;

      public void actionPerformed(ActionEvent event)&#123;
            if(event.getSource() == button1)&#123;
                 frameWindow.setVisible(true);
            &#125;
            if(event.getSource() == button2)&#123;
                 frameWindow.setVisible(false);
            &#125;
       &#125;
 &#125;
 class dialogframe extends Frame implements ActionListener &#123;

      Menu Menu1;
      MenuBar Menubar1;
      MenuItem menuitem1, menuitem2, menuitem3;

      TextField text1;
      buttondialog dialogBox;

      dialogframe(String title)&#123;
           super(title);
           text1 = new TextField(" ");
           setLayout(new GridLayout(1, 1));
           add(text1);
           Menubar1 = new MenuBar();

           Menu1 = new Menu("File");

           menuitem1 = new MenuItem("Copy");
           Menu1.add(menuitem1);
           menuitem1.addActionListener(this);

           menuitem2 = new MenuItem("Paste");
           Menu1.add(menuitem2);
           menuitem2.addActionListener(this);

           menuitem3 = new MenuItem("Dialog box...");
           Menu1.add(menuitem3);
           menuitem3.addActionListener(this);

           Menubar1.add(Menu1);

           setMenuBar(Menubar1);
           dialogBox = new buttondialog(this, "Dialog", true);
      &#125;

      public void actionPerformed(ActionEvent event)&#123;
           if(event.getSource() == menuitem1)&#123;
                text1.setText("Copy");
           &#125;
           if(event.getSource() == menuitem2)&#123;
                text1.setText("Paste");
           &#125;
           if(event.getSource() == menuitem3)&#123;
                dialogBox.setVisible(true);
           &#125;
      &#125;
 &#125;

 class buttondialog extends Dialog implements ActionListener  &#123;

      Button OKButton, CancelButton;

      buttondialog(Frame hostFrame, String title, boolean dModal)&#123;
           super(hostFrame, title, dModal);
           setSize(100, 100);
           setLayout(new FlowLayout());
           OKButton = new Button("OK");
           add(OKButton);

 OKButton.addActionListener((ActionListener)
 this);
           CancelButton = new Button("Cancel");
           add(CancelButton);
           CancelButton.addActionListener(this);
      &#125;

      public void actionPerformed(ActionEvent event)&#123;
           if(event.getSource() == OKButton)&#123;
                setVisible(false);
           &#125;
           if(event.getSource() == CancelButton)&#123;
                setVisible(false);
           &#125;
      &#125;
 &#125;
</PRE>
<P>So far, then, you&#146;ve seen how to build and display a rudimentary dialog box. However, you haven&#146;t retrieved any values that the user entered into the dialog box or set up the layout of your dialog box controls in any significant way.
</P>
<H3><A NAME="Heading4"></A><FONT COLOR="#000077">Building a Popup Calculator</FONT></H3>
<P>It&#146;s time to put together a more complete dialog box example now. This time, you&#146;ll pop up a window with a File menu that contains one item, Calculator&#133;, as shown in Figure 9.4. When the user clicks that item, you can pop up the layout calculator you developed earlier as a dialog box&#151;with an added Exit button to close the dialog box when not needed (see Figure 9.5). When the calculator is closed, you can read the answer and display it in a text field in the main applet, as shown in Figure 9.6.
</P>
<P><A NAME="Fig5"></A><A HREF="images\09-05.jpg"><IMG SRC="images\09-05t.jpg"></A>
<BR><A HREF="images\09-05.jpg"><FONT COLOR="#000077"><B>FIGURE 9.4</B></FONT></A>&nbsp;&nbsp;You pop up a window with a File menu onto the screen.</P>
<P><A NAME="Fig6"></A><A HREF="images\09-06.jpg"><IMG SRC="images\09-06t.jpg"></A>
<BR><A HREF="images\09-06.jpg"><FONT COLOR="#000077"><B>FIGURE 9.5</B></FONT></A>&nbsp;&nbsp;Your popup calculator allows the user to enter numeric values.</P>
<P><A NAME="Fig7"></A><A HREF="images\09-07.jpg"><IMG SRC="images\09-07t.jpg"></A>
<BR><A HREF="images\09-07.jpg"><FONT COLOR="#000077"><B>FIGURE 9.6</B></FONT></A>&nbsp;&nbsp;When the calculator is closed, a text field displays the answer.</P>
<P>Let&#146;s develop this example now. Create a new file named <TT>popcalc.java</TT>. You&#146;ll need a frame window to display the File menu with the Calculator item in it, so you need to create a class named <TT>MenuFrame</TT>. The applet class itself will only be responsible for placing that window on the screen, so write that class as you did above:</P>
<PRE>
 import java.applet.Applet;
 import java.awt.*;
 import java.awt.event.*;

 public class popcalc extends Applet implements ActionListener
&#8594;&#123;

&#8594;     Button button1, button2;
&#8594;     MenuFrame frameWindow;
&#8594;
&#8594;     public void init()&#123;
&#8594;          button1 = new Button("Show popcalc window");
&#8594;          add(button1);
&#8594;          button1.addActionListener(this);
&#8594;          button2 = new Button("Hide popcalc window");
&#8594;          add(button2);
&#8594;          button2.addActionListener(this);
&#8594;
&#8594;          frameWindow = new MenuFrame("Popup Calculator");
&#8594;          frameWindow.setSize(100, 100);
&#8594;          &#125;
&#8594;
&#8594;          public void actionPerformed(ActionEvent event)&#123;
&#8594;               if(event.getSource() == button1)&#123;
&#8594;                    frameWindow.setVisible(true);
&#8594;          &#125;
&#8594;               if(event.getSource() == button2)&#123;
&#8594;                    frameWindow.setVisible(false);
&#8594;          &#125;
&#8594;    &#125;
 &#125;
</PRE>
<P>At this point, the applet is set up to place an object of class <TT>MenuFrame</TT> on the screen&#151;create that class now:</P>
<PRE>

 class MenuFrame extends Frame implements ActionListener &#123;

 &#125;
</PRE>
<P><BR></P>
<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="258-260.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="266-270.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>





</BODY>
</HTML>

