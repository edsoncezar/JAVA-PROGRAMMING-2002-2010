<HTML>
<HEAD>

<TITLE>Java 1.2 In Record Time:Constructing Java Dialog Boxes</TITLE>




<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="266-270.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="..\ch10\277-283.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<P><BR></P>
<P>Now you&#146;ve added to the calculator dialog box all the controls that you&#146;ll need, including the = button (<TT>button1</TT>) and the Exit button (<TT>button2</TT>). When the user places an integer in the <TT>text1</TT> text field, places another integer in the <TT>text2</TT> text field, and clicks the = button, you want to add those two values and display their sum in the text field named <TT>answertext</TT>. You can do that by adding an <TT>actionPerformed()</TT> method and placing this code in it:</P>
<PRE>
     public void actionPerformed(ActionEvent e)&#123;
&#8594;       if(e.getSource() == button1)&#123;
&#8594;            int sum = Integer.parseInt(text1.getText()) &#43; &#8658
 Integer.parseInt(text2.getText());
&#8594;            answertext.setText(String.valueOf(sum));
&#8594;       &#125;         .
                  .
                  .
     &#125;
 &#125;
</PRE>
<P>After the user completes the calculation and clicks Exit (<TT>button2</TT>), you can take the result from the <TT>answertext</TT> text field and place it in the frame window&#146;s text field, which you named <TT>text1</TT>. You can do so as follows:</P>
<PRE>
      public void actionPerformed(ActionEvent event)&#123;
          if(event.getSource() == menuitem1)&#123;
               dialogBox.setVisible(true);
&#8594;              text1.setText("The answer is: " &#43; &#8658;
 .answertext.getText());
           &#125;
      &#125;
</PRE>
<P>And your applet is finished. Start the applet now and select the Calculator item in the frame window&#146;s File menu, as shown in Figure 9.8. When the calculator dialog opens, add two numbers, as shown in Figure 9.9. After you click the Exit button, the sum appears in the frame window, as shown in Figure 9.10.
</P>
<P><A NAME="Fig9"></A><A HREF="images\09-09.jpg"><IMG SRC="images\09-09t.jpg"></A>
<BR><A HREF="images\09-09.jpg"><FONT COLOR="#000077"><B>FIGURE 9.8</B></FONT></A>&nbsp;&nbsp;Your applet supports a popup calculator.</P>
<P><A NAME="Fig10"></A><A HREF="images\09-10.jpg"><IMG SRC="images\09-10t.jpg"></A>
<BR><A HREF="images\09-10.jpg"><FONT COLOR="#000077"><B>FIGURE 9.9</B></FONT></A>&nbsp;&nbsp;You add numbers in your popup calculator.</P>
<P><A NAME="Fig11"></A><A HREF="images\09-11.jpg"><IMG SRC="images\09-11t.jpg"></A>
<BR><A HREF="images\09-11.jpg"><FONT COLOR="#000077"><B>FIGURE 9.10</B></FONT></A>&nbsp;&nbsp;The calculator dialog places its answer in the frame window.</P>
<P>Now your popup calculator is finished. You&#146;re able to lay out your controls in dialog boxes as you want them, and you&#146;re able to retrieve values that the user enters in dialog boxes. The listing for this applet appears in <TT>popcalc.java</TT>.</P>
<P><B>popcalc.java</B></P>
<PRE>
 import java.applet.Applet;
 import java.awt.*;
 import java.awt.event.*;

 public class popcalc extends Applet implements ActionListener
 &#123;

      Button button1, button2;
      MenuFrame frameWindow;

      public void init()&#123;
           button1 = new Button("Show popcalc window");
           add(button1);
           button1.addActionListener(this);
           button2 = new Button("Hide popcalc window");
           add(button2);
           button2.addActionListener(this);

           frameWindow = new MenuFrame("Popup Calculator");
           frameWindow.setSize(100, 100);
      &#125;

      public void actionPerformed(ActionEvent event)&#123;
           if(event.getSource() == button1)&#123;
                frameWindow.setVisible(true);
           &#125;
           if(event.getSource() == button2)&#123;
                frameWindow.setVisible(false);
           &#125;
      &#125;
 &#125;

 class MenuFrame extends Frame implements Act