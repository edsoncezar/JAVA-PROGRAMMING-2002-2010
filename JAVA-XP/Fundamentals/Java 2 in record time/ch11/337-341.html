<HTML>
<HEAD>

<TITLE>Java 1.2 In Record Time:Displaying and Stretching Images</TITLE>




<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="..\ch10\335-336.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="341-345.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<P><BR></P>
<H2><A NAME="Heading1"></A><FONT COLOR="#000077">SKILL 11<BR>Displaying and Stretching Images
</FONT></H2>
<DL>
<DD><B>&#149;</B>&nbsp;&nbsp;Loading images into an applet
<DD><B>&#149;</B>&nbsp;&nbsp;Manipulating images
<DD><B>&#149;</B>&nbsp;&nbsp;Displaying images
<DD><B>&#149;</B>&nbsp;&nbsp;Creating a clickable image map
<DD><B>&#149;</B>&nbsp;&nbsp;Navigating a Web browser to a new URL
</DL>
<P><BIG><BIG>I</BIG></BIG>n Skill 11, we&#146;re going to examine the ins and outs of Java image handling. As you can imagine, image handling is a very popular topic. In this skill, we&#146;ll see how to read images into our applet, display them, and stretch them to new shapes. We&#146;ll also see how to support <I>image maps</I>&#151;those clickable images you see on the Web. Let&#146;s start at once with our first example, which will read an image and stretch it as we direct.</P>
<H3><A NAME="Heading2"></A><FONT COLOR="#000077">The Imagesizer Applet</FONT></H3>
<P>Let&#146;s start off the image handling discussion with a simple applet that reads an image. Then, the user can press the mouse in one location and drag it to another. When they release the mouse button, you can draw the image in the coordinates they&#146;ve given, as shown in Figure 11.1. If the user selects a different size, you can draw the image again, using the new coordinates, as shown in Figure 11.2. This process can continue as many times as the user likes:
</P>
<P><A NAME="Fig1"></A><A HREF="images\11-01.jpg"><IMG SRC="images\11-01t.jpg"></A>
<BR><A HREF="images\11-01.jpg"><FONT COLOR="#000077"><B>FIGURE 11.1</B></FONT></A>&nbsp;&nbsp;You can let the user specify coordinates for an image.</P>
<P><A NAME="Fig2"></A><A HREF="images\11-02.jpg"><IMG SRC="images\11-02t.jpg"></A>
<BR><A HREF="images\11-02.jpg"><FONT COLOR="#000077"><B>FIGURE 11.2</B></FONT></A>&nbsp;&nbsp;The user can change the size of the image.</P>
<P>Let&#146;s see how this works now. Create a new file named, say, &#147;imagesizer.java.&#148; In this applet, you&#146;ll read in a graphics figure and allow the user to resize it. You might use an image like the one shown below. We can name that image &#147;figure.jpg.&#148;
</P>
<BLOCKQUOTE>
<P><FONT SIZE="-1"><HR><B>TIP:&nbsp;&nbsp;</B><BR>You can read both .<TT>jpg</TT> and .<TT>gif </TT>files into your applets.<HR></FONT>
</BLOCKQUOTE>
<P>Create the <TT>imagesizer</TT> class now:</P>
<PRE>
 import java.awt.*;
 import java.awt.event.*;
 import java.applet.Applet;

 public class imagesizer extends Applet &#123;
           .
           .
           .
 &#125;
</PRE>
<P>You&#146;ll need to store the image after you read it in, and you can do that in a Java <TT>Image</TT> object that you can name "image":</P>
<PRE>
 import java.awt.*;
 import java.awt.event.*;
 import java.applet.Applet;

 public class imagesizer extends Applet &#123;

&#8594;          Image image;
             .
             .
             .
</PRE>
<P>The <TT>Image</TT> class is the class that you&#146;ll be using throughout this skill, because it provides Java&#146;s support for image handling. The <TT>Image</TT> class&#146;s methods appear in Table 11.1.</P>
<TABLE WIDTH="100%"><CAPTION ALIGN=LEFT><B>Table 11.1:</B> The <TT>Image</TT> class methods%
<TR>
<TD COLSPAN="2"><HR>
<TR>
<TH WIDTH="45%" ALIGN="LEFT">Method
<TH WIDTH="55%" ALIGN="LEFT">Does This
<TR>
<TD COLSPAN="2"><HR>
<TR>
<TD><TT>Image()</TT>
<TD>Constructs a new <TT>Image</TT> object
<TR>
<TD><TT>flush()</TT>
<TD>Flushes resources of this <TT>Image</TT> object
<TR>
<TD><TT>getGraphics()</TT>
<TD>Gets a graphics object for this image
<TR>
<TD><TT>getHeight(ImageObserver)</TT>
<TD>Gets the height of image in pixels
<TR>
<TD><TT>getProperty(String, ImageObserver)</TT>
<TD>Gets a property of image
<TR>
<TD><TT>getScaledInstance(int, int, int)</TT>
<TD>Creates a scaled version of this image
<TR>
<TD VALIGN="TOP"><TT>getSource()</TT>
<TD>Gets object that actually produces image&#146;s pixels
<TR>
<TD><TT>getWidth(ImageObserver)</TT>
<TD>Get the width of image in pixels
<TR>
<TD COLSPAN="2"><HR>
</TABLE>
<P>Now you have the file you want to read, <TT>figure.jpg</TT>, and you&#146;ve declared the <TT>Image</TT> object you&#146;ll store that image in, <TT>image</TT>. The next step is to read in that image, and you can do that with the Java <TT>Applet</TT> class method <TT>getImage()</TT>. One way to use <TT>getImage()</TT> is to pass an object of the Java <TT>URL</TT> class to <TT>getImage()</TT>, which specifies the URL of the image to read.</P>
<P>The <TT>URL</TT> class just holds URLs; its methods appear in Table 11.2. If you know the absolute URL of an image, you can create a <TT>URL</TT> object like this: <TT>url = new URL(&#147;<A HREF="http://www.javasoft.com/">http://www.javasoft.com</A>&#148;);</TT>.</P>
<TABLE WIDTH="100%"><CAPTION ALIGN=LEFT><B>Table 11.2:</B> The <TT>URL</TT> class methods
<TR>
<TD COLSPAN="2"><HR>
<TR>
<TH WIDTH="40%"ALIGN="LEFT">Method
<TH WIDTH="60%" ALIGN="LEFT">Does This
<TR>
<TD COLSPAN="2"><HR>
<TR>
<TD>URL(String)
<TD>Creates a URL from the unparsed absolute URL
<TR>
<TD VALIGN="TOP"><TT>URL(String, String, int, String)</TT>
<TD>Creates an absolute URL from the given protocol, host, port, and file
<TR>
<TD VALIGN="TOP"><TT>URL(String, String, String)</TT>
<TD>Creates an absolute URL from the given protocol, host, and file
<TR>
<TD VALIGN="TOP"><TT>URL(URL, String)</TT>
<TD>Creates a URL from the unparsed URL in the given context. If spec is an absolute URL it is used as is
<TR>
<TD><TT>CompareTo(Object)</TT>
<TD>Compares a URL to another URL
<TR>
<TD><TT>equals(Object)</TT>
<TD>Compares two URLs
<TR>
<TD><TT>getContent()</TT>
<TD>Gets the contents from this opened connection
<TR>
<TD><TT>getFile()</TT>
<TD>Gets the file name
<TR>
<TD><TT>getHost()</TT>
<TD>Gets the host name, if applicable
<TR>
<TD><TT>getPort()</TT>
<TD>Gets the port number
<TR>
<TD><TT>getProtocol()</TT>
<TD>Gets the protocol name
<TR>
<TD><TT>getRef()</TT>
<TD>Gets the ref
<TR>
<TD><TT>hashCode()</TT>
<TD>Creates an integer suitable for hash table indexing
<TR>
<TD VALIGN="TOP"><TT>OpenConnection()</TT>
<TD>Creates (if not already in existence) a <TT>URLConnection</TT> object that contains a connection to the remote object referred to by the URL
<TR>
<TD><TT>OpenStream()</TT>
<TD>Opens an input stream
<TR>
<TD><TT>sameFile(URL)</TT>
<TD>Compares two URLs
<TR>
<TD><TT>set(String, String, int, String, String)</TT>
<TD VALIGN="TOP">Sets the fields of the URL
<TR>
<TD><TT>SetURLStreamHandlerFactory</TT><BR><TT>(URLStreamHandlerFactory)</TT>
<TD VALIGN="TOP">Sets the <TT>URLStreamHandler</TT> factory
<TR>
<TD>toExternalForm()
<TD>Reverses the parsing of the URL
<TR>
<TD><TT>toString()</TT>
<TD>Converts to a human-readable form
<TR>
<TD COLSPAN="2"><HR>
</TABLE>
<P><BR></P>
<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="..\ch10\335-336.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="341-345.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>





</BODY>
</HTML>

