<HTML>
<HEAD>

<TITLE>Java 1.2 In Record Time:Java Graphics!</TITLE>




<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="296-299.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="303-306.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<P><BR></P>
<P>You can connect the other buttons to their boolean flags as follows:
</P>
<PRE>
     public void actionPerformed(ActionEvent e)&#123;
          if(e.getSource() == buttonDraw)&#123;
               bDrawFlag = !bDrawFlag;
               bLineFlag = false;
               bOvalFlag = false;
               bRectFlag = false;
               b3DRectFlag = false;
               bRoundedFlag = false;
          &#125;
&#8594;         if(e.getSource() == buttonLine)&#123;
&#8594;               bLineFlag = !bLineFlag;
&#8594;               bDrawFlag = false;
&#8594;               bOvalFlag = false;
&#8594;               bRectFlag = false;
&#8594;               b3DRectFlag = false;
&#8594;               bRoundedFlag = false;
&#8594;         &#125;
&#8594;         if(e.getSource() == buttonOval)&#123;
&#8594;               bOvalFlag = !bOvalFlag;
&#8594;               bLineFlag = false;
&#8594;               bDrawFlag = false;
&#8594;               bRectFlag = false;
&#8594;               b3DRectFlag = false;
&#8594;               bRoundedFlag = false;
&#8594;         &#125;
&#8594;         if(e.getSource() == buttonRect)&#123;
&#8594;               bRectFlag = !bRectFlag;
&#8594;               bLineFlag = false;
&#8594;               bOvalFlag = false;
&#8594;               bDrawFlag = false;
&#8594;               b3DRectFlag = false;
&#8594;               bRoundedFlag = false;
&#8594;         &#125;
&#8594;         if(e.getSource() == button3DRect)&#123;
&#8594;               b3DRectFlag = !b3DRectFlag;
&#8594;               bLineFlag = false;
&#8594;               bOvalFlag = false;
&#8594;               bRectFlag = false;
&#8594;               bDrawFlag = false;
&#8594;               bRoundedFlag = false;
&#8594;         &#125;
&#8594;         if(e.getSource() == buttonRounded)&#123;
&#8594;               bRoundedFlag = !bRoundedFlag;
&#8594;               bLineFlag = false;
&#8594;               bOvalFlag = false;
&#8594;               bRectFlag = false;
&#8594;               b3DRectFlag = false;
&#8594;               bDrawFlag = false;
&#8594;         &#125;
&#8594;     &#125;
</PRE>
<P>And so, you&#146;ve connected your buttons to the settings of associated boolean flags. You don&#146;t have to worry about the buttons anymore; from now on you can just check the boolean flags you set up.
</P>
<H4 ALIGN="LEFT"><A NAME="Heading12"></A><FONT COLOR="#000077">Drawing in the Dauber Applet</FONT></H4>
<P>Now the user turns from the drawing tool buttons to using the mouse to outline the graphics figure they want to draw. They will press the mouse button at some location in your applet that you can call the <I>anchor point</I>, and then they will move the mouse to a new location, which you can call the <I>drawto</I> point. When they release the mouse button, your applet will draw the graphics figure, as bounded by the anchor and drawto points:</P>
<P><A NAME="Fig9"></A><A HREF="images\10-09.jpg"><IMG SRC="images\10-09t.jpg"></A></P>
<P>That&#146;s how you&#146;ll proceed, then&#151;record the location at which the mouse went down in the <TT>mousePressed()</TT> method and start the drawing process in the <TT>mouseReleased()</TT> method. Let&#146;s look at the <TT>mousePressed()</TT> method now.</P>
<H4 ALIGN="LEFT"><A NAME="Heading13"></A><FONT COLOR="#000077">Using <I>mousePressed()</I> in Dauber
</FONT></H4>
<P>In the <TT>mousePressed</TT> event, you want to record the beginning point of the graphics figure, the point called the anchor point. You can store points in Java using the Java <TT>Point</TT> class, which has two data members: <TT>x</TT> and <TT>y</TT>. You&#146;ll declare two <TT>Point</TT> objects, <TT>ptAnchor</TT> and <TT>ptDrawTo</TT> in your applet as follows:</P>
<PRE>
 public class dauber extends Applet implements ActionListener &#123;

      Button buttonDraw, buttonLine, buttonOval, buttonRect, &#8658;
      button3DRect, buttonRounded;

&#8594;     Point ptAnchor, ptDrawTo;

      boolean bMouseDownFlag = false;
      boolean bMouseUpFlag = false;
      boolean bDrawFlag = false;
      boolean bLineFlag = false;
      boolean bOvalFlag = false;
      boolean bRectFlag = false;
      boolean b3DRectFlag = false;
      boolean bRoundedFlag = false;
                .
                .
                .
</PRE>
<P>The x coordinate of a point like <TT>ptAnchor</TT> can be reached as <TT>ptAnchor.x</TT> and the y coordinate as <TT>prAnchor.y</TT>.</P>
<H4 ALIGN="LEFT"><A NAME="Heading14"></A><FONT COLOR="#000077">Adding MouseListener Support to Dauber</FONT></H4>
<P>Now you&#146;ll learn how to add the mouse support you need. You&#146;ll implement the MouseListener interface for <TT>mousePressed()</TT>and <TT>mouseReleased()</TT>. In addition, you&#146;ll use the <TT>mouseDragged()</TT> method when you draw freehand with the mouse. To use <TT>mouseDragged()</TT>, you need a new listener&#151;MouseMotionListener&#151;and you add that as follows:</P>
<PRE>
&#8594;public class dauber extends Applet implements ActionListener,
 MouseListener, MouseMotionListener &#123;
</PRE>
<P>Next, you&#146;ll install your new listeners:
</P>
<PRE>
 public class dauber extends Applet implements ActionListener,
 MouseListener, MouseMotionListener &#123;

      Button buttonDraw, buttonLine, buttonOval, buttonRect, &#8658;
      button3DRect, buttonRounded;

      Point ptAnchor, ptDrawTo;

      boolean bMouseDownFlag = false;
      boolean bMouseUpFlag = false;
      boolean bDrawFlag = false;
      boolean bLineFlag = false;
      boolean bOvalFlag = false;
      boolean bRectFlag = false;
      boolean b3DRectFlag = false;
      boolean bRoundedFlag = false;

      public void init() &#123;

           buttonDraw = new Button("Draw Freehand");
           buttonLine = new Button("Line");
           buttonOval = new Button("Oval");
           buttonRect = new Button("Rect");
           button3DRect = new Button("3D Rect");
           buttonRounded = new Button("Round");
                .
                .
                .
           button3DRect.addActionListener(this);
           add(buttonRounded);
           buttonRounded.addActionListener(this);
&#8594;          addMouseListener(this);
&#8594;          addMouseMotionListener(this);
      &#125;         .
                .
                .
</PRE>
<P>Having added the MouseMotionListener, next add the mouse methods you&#146;ll use <TT>mousePressed()</TT>, <TT>mouseReleased()</TT>, and <TT>mouseDragged()</TT>.</P>
<PRE>
      public void mousePressed(MouseEvent e)&#123;
                .
                .
                .
      &#125;

      public void mouseReleased(MouseEvent e)&#123;
                .
                .
                .
      &#125;

      public void mouseDragged(MouseEvent e)&#123;
                .
                .
                .
      &#125;

      public void mouseClicked(MouseEvent e)&#123;&#125;

      public void mouseEntered(MouseEvent e)&#123;&#125;

      public void mouseExited(MouseEvent e)&#123;&#125;

      public void mouseMoved(MouseEvent e)&#123;&#125;
</PRE>
<P><BR></P>
<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="296-299.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="303-306.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>





</BODY>
</HTML>

