<HTML>
<HEAD>

<TITLE>Java 1.2 In Record Time:Java Graphics!</TITLE>




<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="291-295.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="299-303.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<P><BR></P>
<P>To arrange those buttons, use the default FlowLayout manager here. Just add the buttons to that layout now, as well as adding an ActionListener for each button as follows:
</P>
<PRE>
&#8594;public class dauber extends Applet implements ActionListener&#123;

      Button buttonDraw, buttonLine, buttonOval, buttonRect, &#8658;
 button3DRect;
      Button buttonRounded;

      public void init() &#123;

           buttonDraw = new Button("Draw Freehand");
           buttonLine = new Button("Line");
           buttonOval = new Button("Oval");
           buttonRect = new Button("Rect");
           button3DRect = new Button("3D Rect");
           buttonRounded = new Button("Round");

&#8594;           add(buttonDraw);
&#8594;           buttonDraw.addActionListener(this);
&#8594;           add(buttonLine);
&#8594;           buttonLine.addActionListener(this);
&#8594;           add(buttonOval);
&#8594;           buttonOval.addActionListener(this);
            add(buttonRect);
&#8594;           buttonRect.addActionListener(this);
&#8594;           add(button3DRect);
&#8594;           button3DRect.addActionListener(this);
&#8594;           add(buttonRounded);
&#8594;           buttonRounded.addActionListener(this);
                 .
                 .
                 .
      &#125;
</PRE>
<P>Now that your buttons have been installed, you can make them active. Note that the drawing does not take place when the user clicks a drawing tool&#151;it takes place when the user releases the mouse button. That is, the applet draws the required figure in the <TT>mouseReleased()</TT> method.</P>
<P>How will the applet know what figure to draw? The applet will have to know which button the user clicked, so it will set some <I>boolean</I> flags, one for each drawing tool, when the user clicks one of the drawing tools.</P>
<BLOCKQUOTE>
<P><FONT SIZE="-1"><HR><B>NOTE:&nbsp;&nbsp;</B>A boolean flag is just a boolean variable used to indicate the state (true or false) of some option in a program. For example, <TT>windowvisibleboolean</TT> may be a boolean flag, which, if true, indicates that a particular window is visible.<HR></FONT>
</BLOCKQUOTE>
<H4 ALIGN="LEFT"><A NAME="Heading11"></A><FONT COLOR="#000077">Creating Dauber&#146;s Boolean Flags</FONT></H4>
<P>You will learn to create and initialize your boolean flags now. If the user clicks the line drawing tool, set the flag named <TT>bLineFlag</TT> to true; if they click the rectangle drawing tool, set the flag named <TT>bRectFlag</TT> to true, and so on. Your flags will be: <TT>bDrawFlag</TT>, <TT>bLineFlag</TT>, <TT>bOvalFlag</TT>, <TT>bRectFlag</TT>, <TT>b3DRectFlag</TT>, and <TT>bRoundedFlag</TT>, and you should start out with all of them set to <TT>false:</TT></P>
<PRE>
 public class dauber extends Applet implements ActionListener &#123;

      Button buttonDraw, buttonLine, buttonOval, buttonRect,
 button3DRect, buttonRounded;

&#8594;     boolean bMouseDownFlag = false;
&#8594;     boolean bMouseUpFlag = false;
&#8594;     boolean bDrawFlag = false;
&#8594;     boolean bLineFlag = false;
&#8594;     boolean bOvalFlag = false;
&#8594;     boolean bRectFlag = false;
&#8594;     boolean b3DRectFlag = false;
&#8594;     boolean bRoundedFlag = false;
                .
                .
                .
</PRE>
<P>Keep track of the mouse in your dauber applet because dauber draws the graphics figures after the mouse button goes up, so you need to add two new flags, <TT>bMouseDownFlag</TT> and <TT>bMouseUpFlag</TT> as follows:</P>
<PRE>
 public class dauber extends Applet implements ActionListener &#123;

      Button buttonDraw, buttonLine, buttonOval, buttonRect, &#8658;
 button3DRect, buttonRounded;

&#8594;     boolean bMouseDownFlag = false;
&#8594;     boolean bMouseUpFlag = false;
&#8594;     boolean bDrawFlag = false;
&#8594;     boolean bLineFlag = false;
&#8594;     boolean bOvalFlag = false;
&#8594;     boolean bRectFlag = false;
&#8594;     boolean b3DRectFlag = false;
&#8594;     boolean bRoundedFlag = false;
                     .
                     .
                     .
</PRE>
<P>After you make these flags active, you&#146;ll know in any method of the applet which drawing tool the user has selected and what the mouse state is. That&#146;s what&#146;s important to know&#151;what you&#146;re being asked to draw and when you can draw it. Connect the buttons you&#146;ve installed to these flags, and then you won&#146;t need to think about the buttons any more.
</P>
<BLOCKQUOTE>
<P><FONT SIZE="-1"><HR><B>TIP:&nbsp;&nbsp;</B>In this example, you&#146;re dividing your program into a user interface part (using buttons) and a separate drawing part (using flags). Dividing the parts of a program into self-contained (and therefore easily debugged) parts is usually a good programming practice. Long, monolithic programs get to be unwieldy very quickly.<HR></FONT>
</BLOCKQUOTE>
<P>You make the drawing tool buttons active in an <TT>actionPerformed()</TT> method that you can add to your applet now:</P>
<PRE>
     public void actionPerformed(ActionEvent e)&#123;
                    .
                    .
                    .
     &#125;
</PRE>
<P>First, check whether the user clicked the Draw Freehand button to start freehand drawing. The name of this button is <TT>buttonDraw</TT>, and you can check whether it was clicked this way:</P>
<PRE>
     public void actionPerformed(ActionEvent e)&#123;
          if(e.getSource() == buttonDraw)&#123;
                    .
                    .
                    .
          &#125;
     &#125;
</PRE>
<P>If so, you can toggle the setting of the freehand drawing flag, <TT>bDrawFlag</TT>, using the Java exclamation point (!) operator, which reverses boolean values (a value of true becomes false, and a value of false becomes true):</P>
<PRE>
     public void actionPerformed(ActionEvent e)&#123;
          if(e.getSource() == buttonDraw)&#123;
&#8594;               bDrawFlag = !bDrawFlag;
                    .
                    .
                    .
          &#125;
</PRE>
<P>In addition, now that the user has clicked the Draw Freehand button, you should set the other button&#146;s flags to false:
</P>
<PRE>
     public void actionPerformed(ActionEvent e)&#123;
          if(e.getSource() == buttonDraw)&#123;
               bDrawFlag = !bDrawFlag;
&#8594;              bLineFlag = false;
&#8594;              bOvalFlag = false;
&#8594;              bRectFlag = false;
&#8594;              b3DRectFlag = false;
&#8594;              bRoundedFlag = false;
          &#125;         .
                    .
                    .
     &#125;
</PRE>
<P><BR></P>
<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="291-295.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="299-303.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>





</BODY>
</HTML>

