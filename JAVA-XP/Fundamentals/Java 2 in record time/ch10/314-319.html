<HTML>
<HEAD>

<TITLE>Java 1.2 In Record Time:Java Graphics!</TITLE>




<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="310-314.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="319-323.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<P><BR></P>
<P>To draw the oval or circle, you&#146;ll need the width and height of the figure. Now that you&#146;ve ordered your drawto and anchor points, you can find those dimensions by simple subtraction, as follows:
</P>
<PRE>
     public void paint (Graphics g) &#123;
          int loop_index;
          int drawWidth, drawHeight;

          if(bLineFlag &amp;&amp; bMouseUpFlag)&#123;
               g.drawLine(ptAnchor.x, ptAnchor.y, ptDrawTo.x, &#8658;
 ptDrawTo.y);
           &#125;
           if(bOvalFlag &amp;&amp; bMouseUpFlag)&#123;
&#8594;               drawWidth = ptDrawTo.x - ptAnchor.x;
&#8594;               drawHeight = ptDrawTo.y - ptAnchor.y;
                     .
                     .
                     .
     &#125;
</PRE>
<P>You can use the <TT>Graphics</TT> class <TT>drawOval()</TT> method to draw the oval or circle. Pass it the coordinates of the upper-left point of the figure&#146;s bounding rectangle&#151;that is, your anchor point&#151;and the figure&#146;s width and height:</P>
<PRE>
     public void paint (Graphics g) &#123;
          int loop_index;
          int drawWidth, drawHeight;

          if(bLineFlag &amp;&amp; bMouseUpFlag)&#123;
               g.drawLine(ptAnchor.x, ptAnchor.y, ptDrawTo.x, &#8658;
 ptDrawTo.y);
          &#125;
          if(bOvalFlag &amp;&amp; bMouseUpFlag)&#123;
               drawWidth = ptDrawTo.x - ptAnchor.x;
               drawHeight = ptDrawTo.y - ptAnchor.y;
&#8594;              g.drawOval(ptAnchor.x, ptAnchor.y, drawWidth, &#8658;
 drawHeight);
                    .
                    .
                    .
 &#125;
</PRE>
<P>Now you have drawn ovals and circles. The circles and ovals appear on the screen, as shown in Figure 10.10.
</P>
<P><A NAME="Fig14"></A><A HREF="images\10-14.jpg"><IMG SRC="images\10-14t.jpg"></A>
<BR><A HREF="images\10-14.jpg"><FONT COLOR="#000077"><B>FIGURE 10.10</B></FONT></A>&nbsp;&nbsp;Your dauber applet can draw ovals.</P>
<H4 ALIGN="LEFT"><A NAME="Heading18"></A><FONT COLOR="#000077">Using Dauber to Draw Rectangles</FONT></H4>
<P>The next step is to draw rectangles. The user can draw rectangles by clicking the Rect button and using the mouse, as shown in Figure 10.11.
</P>
<P><A NAME="Fig15"></A><A HREF="images\10-15.jpg"><IMG SRC="images\10-15t.jpg"></A>
<BR><A HREF="images\10-15.jpg"><FONT COLOR="#000077"><B>FIGURE 10.11</B></FONT></A>&nbsp;&nbsp;Drawing a rectangle in dauber</P>
<P>You&#146;ve already included all the mouse support that you&#146;ll need to draw rectangles. The <TT>Graphics</TT> method you&#146;ll use to draw rectangles is <TT>drawRect()</TT>, and you&#146;ll use that method in your applet&#146;s <TT>paint()</TT> method. You&#146;ll need to pass the upper-left point of your rectangle and its width and height. First, make sure that you are supposed to be drawing rectangles by checking the <TT>bRectFlag</TT> boolean flag (set when the user clicks the Rect button):</P>
<PRE>
     public void paint (Graphics g) &#123;
          int loop_index;
          int drawWidth, drawHeight;

          if(bLineFlag &amp;&amp; bMouseUpFlag)&#123;
               g.drawLine(ptAnchor.x, ptAnchor.y, ptDrawTo.x, &#8658;
 ptDrawTo.y);
           &#125;
           if(bOvalFlag &amp;&amp; bMouseUpFlag)&#123;
                drawWidth = ptDrawTo.x - ptAnchor.x;
                drawHeight = ptDrawTo.y - ptAnchor.y;
                g.drawOval(ptAnchor.x, ptAnchor.y, drawWidth, &#8658;
 drawHeight);
           &#125;
&#8594;        if(bRectFlag &amp;&amp; bMouseUpFlag)&#123;
                    .
                    .
                    .
&#8594;          &#125;
</PRE>
<P>If you are indeed drawing rectangles, use the <TT>drawRect()</TT> method, passing it the four parameters it needs: the upper-left point of the rectangle&#146;s x and y coordinates, as well as the rectangle&#146;s width and height:</P>
<PRE>
     public void paint (Graphics g) &#123;
          int loop_index;
          int drawWidth, drawHeight;

          if(bLineFlag &amp;&amp; bMouseUpFlag)&#123;
               g.drawLine(ptAnchor.x, ptAnchor.y, ptDrawTo.x, &#8658;
 ptDrawTo.y);
           &#125;
           if(bOvalFlag &amp;&amp; bMouseUpFlag)&#123;
                drawWidth = ptDrawTo.x - ptAnchor.x;
                drawHeight = ptDrawTo.y - ptAnchor.y;
                g.drawOval(ptAnchor.x, ptAnchor.y, drawWidth, &#8658;
 drawHeight);
           &#125;
           if(bRectFlag &amp;&amp; bMouseUpFlag)&#123;
&#8594;               drawWidth = ptDrawTo.x - ptAnchor.x;
&#8594;               drawHeight = ptDrawTo.y - ptAnchor.y;
&#8594;               g.drawRect(ptAnchor.x, ptAnchor.y, drawWidth, &#8658;
 drawHeight);
      &#125;
</PRE>
<P>Now the user can draw rectangles in your dauber applet, as shown in Figure 10.12.
</P>
<P><A NAME="Fig16"></A><A HREF="images\10-16.jpg"><IMG SRC="images\10-16t.jpg"></A>
<BR><A HREF="images\10-16.jpg"><FONT COLOR="#000077"><B>FIGURE 10.12</B></FONT></A>&nbsp;&nbsp;Your dauber applet can draw rectangles.</P>
<H4 ALIGN="LEFT"><A NAME="Heading19"></A><FONT COLOR="#000077">Drawing 3D Rectangles in Dauber</FONT></H4>
<P>It&#146;s also theoretically possible to draw 3D rectangles in dauber; that process works just as it did for drawing rectangles, except that you use the <TT>draw3DRect()</TT> method (adding a final parameter set to true is supposed to make the rectangle appear 3D, or raised):</P>
<PRE>
 public void paint (Graphics g) &#123;
           int loop_index;
           int drawWidth, drawHeight;

           if(bLineFlag &amp;&amp; bMouseUpFlag)&#123;
                g.drawLine(ptAnchor.x, ptAnchor.y, ptDrawTo.x, &#8658;
 ptDrawTo.y);
           &#125;
           if(bOvalFlag &amp;&amp; bMouseUpFlag)&#123;
                drawWidth = ptDrawTo.x - ptAnchor.x;
                drawHeight = ptDrawTo.y - ptAnchor.y;
                g.drawOval(ptAnchor.x, ptAnchor.y, drawWidth, &#8658;
 drawHeight);
           &#125;
           if(bRectFlag &amp;&amp; bMouseUpFlag)&#123;
                drawWidth = ptDrawTo.x - ptAnchor.x;
                drawHeight = ptDrawTo.y - ptAnchor.y;
                g.drawRect(ptAnchor.x, ptAnchor.y, drawWidth, &#8658;
 drawHeight);
           &#125;
&#8594;          if(b3DRectFlag &amp;&amp; bMouseUpFlag)&#123;
&#8594;               drawWidth = ptDrawTo.x - ptAnchor.x;
&#8594;               drawHeight = ptDrawTo.y - ptAnchor.y;
&#8594;               g.draw3DRect(ptAnchor.x, ptAnchor.y, &#8658;
 drawWidth,drawHeight, true);
                     .
                     .
                     .
</PRE>
<BLOCKQUOTE>
<P><FONT SIZE="-1"><HR><B>NOTE:&nbsp;&nbsp;</B>The truth is, drawing a 3D rectangle is impossible; it results in simply a rectangle&#151;at least in the current version of Java.<HR></FONT>
</BLOCKQUOTE>
<H4 ALIGN="LEFT"><A NAME="Heading20"></A><FONT COLOR="#000077">Drawing Rounded Rectangles in Dauber</FONT></H4>
<P>Now that you are able to draw rectangles, it turns out that you can draw rectangles with rounded corners easily. When the user clicks the button you&#146;ve labeled Rounded, they can use the mouse to draw rounded rectangles, as shown in Figure 10.13.
</P>
<P><A NAME="Fig17"></A><A HREF="images\10-17.jpg"><IMG SRC="images\10-17t.jpg"></A>
<BR><A HREF="images\10-17.jpg"><FONT COLOR="#000077"><B>FIGURE 10.13</B></FONT></A>&nbsp;&nbsp;Drawing a rectangle with rounded corners<P><BR></P>
<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="310-314.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="319-323.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>





</BODY>
</HTML>

