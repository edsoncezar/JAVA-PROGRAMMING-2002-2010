<HTML>
<HEAD>

<TITLE>Java 1.2 In Record Time:Java Graphics!</TITLE>




<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="326-331.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="335-336.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<P><BR></P>
<P>You&#146;ve gotten your dauber applet working. You&#146;re able to use the mouse to receive input and draw lines, rectangles, 3D rectangles, ovals, circles, and rounded rectangles. You&#146;ve added quite a few new talents to your Java arsenal in this skill. There&#146;s one more ability we&#146;re going to add in this chapter&#151;printing.
</P>
<H3><A NAME="Heading22"></A><FONT COLOR="#000077">Printing from Java</FONT></H3>
<P>It is possible to print graphics from Java 1.1 and Java 1.2 programs, and we&#146;ll take a look at that here. In this case, our goal might be to print a simple graphics figure&#151;just a box with a diagonal line.
</P>
<P>You&#146;ll need the <TT>getToolkit()</TT> method here, so start by deriving a class named <TT>printgraphics</TT> from the <TT>Frame</TT> class because that class includes the <TT>getToolkit()</TT> method:</P>
<PRE>
 class printgraphics extends Frame &#123;
           .
           .
           .
 &#125;
</PRE>
<H4 ALIGN="LEFT"><A NAME="Heading23"></A><FONT COLOR="#000077">Java Security</FONT></H4>
<P>You may ask why we don&#146;t derive the class from the <TT>Applet</TT> class (the <TT>Applet</TT> class also contains the <TT>getToolKit()</TT> method). The answer is that in Java 1.1 and Java 1.2, security is currently set up so that applets can&#146;t print to a printer. How-ever, Java <I>applications</I> can, and you&#146;ll learn how to install this new <TT>printgraphics</TT> class in a Java application in a minute. Next, you&#146;ll add a constructor to the new <TT>printgraphics</TT> class like this:</P>
<PRE>
 class printgraphics extends Frame &#123;
&#8594;     printgraphics() &#123;
           .
           .
           .
&#8594;     &#125;
 &#125;
</PRE>
<P>Here in the <TT>printgraphics</TT> constructor, create an object of class <TT>PrintJob</TT>, indicating what object you want the print job for, the name you want to give the print job, and a reference to a <TT>Properties</TT> object, which you will set to null:</P>
<PRE>
 class printgraphics extends Frame &#123;
      printgraphics() &#123;
&#8594;PrintJob p = getToolkit().getPrintJob(this, "Print graphics", null);
                          .
                          .
                          .
      &#125;
 &#125;
</PRE>
<P>Now you have a print job, and the next step is to get a <TT>Graphics</TT> object for this print job so you can actually create the graphics you want to print. You can do that with the <TT>getGraphics()</TT> method:</P>
<PRE>
 class printgraphics extends Frame &#123;
      printgraphics() &#123;
           PrintJob p = getToolkit().getPrintJob(this, &#8658;
 "Print graphics", null);
&#8594;          Graphics g = p.getGraphics();
                .
                .
                .
     &#125;
 &#125;
</PRE>
<P>Now you can draw the graphics you want in the new <TT>Graphics</TT> object, just as you did in the dauber applet:</P>
<PRE>
 class printgraphics extends Frame &#123;
      printgraphics() &#123;
           PrintJob p = getToolkit().getPrintJob(this, "Print  graphics",
           &#8658; null);
           Graphics g = p.getGraphics();
&#8594;          g.drawRect(1, 1, 40, 40);
&#8594;          g.drawLine(1, 1, 40, 40);
                .
                .
                .
      &#125;
 &#125;
</PRE>
<P>To start the printing, you have to dispose of the <TT>Graphics</TT> object, which you do with its <TT>dispose()</TT> method:</P>
<PRE>
 class printgraphics extends Frame &#123;
      printgraphics() &#123;
           PrintJob p = getToolkit().getPrintJob(this, "Print graphics",
           &#8658; null);
           Graphics g = p.getGraphics();
           g.drawRect(1, 1, 40, 40);
           g.drawLine(1, 1, 40, 40);
&#8594;          g.dispose();
                .
                .
                .
      &#125;
 &#125;
</PRE>
<P>And finally, end the print job with the <TT>end()</TT> method this way:</P>
<PRE>
 class printgraphics extends Frame &#123;
     printgraphics() &#123;
          PrintJob p = getToolkit().getPrintJob(this, &#8658;
 "Print graphics", null);
           Graphics g = p.getGraphics();
           g.drawRect(1, 1, 40, 40);
           g.drawLine(1, 1, 40, 40);
           g.dispose();
&#8594;          p.end();
     &#125;
 &#125;
</PRE>
<P>At this point, then, the graphics image you have drawn is printed. However, this class only does the printing&#151;you still need to set up your application itself, and you&#146;ll learn to do that now.
</P>
<H3><A NAME="Heading24"></A><FONT COLOR="#000077">Java Applications</FONT></H3>
<P>You&#146;ve only used applets in this book so far, because they are still the most popular type of Java programs, but Java can also create applications, which are not intended to be embedded in a Web page (although you can run applications as applets). To create an application, you just set up a public class, as you would for an applet. You can name this class <TT>app</TT>, and put it in a file named <TT>app.java</TT>:</P>
<PRE>
 public class app &#123;
      .
      .
      .
 &#125;
</PRE>
<P>What distinguishes applications from applets is that applications have a <TT>main()</TT> method, where code is executed first (note that having a <TT>main()</TT> method does not stop a program from being executed as an applet):</P>
<PRE>
 public class app &#123;
&#8594;     public static void main(String[] argv) &#123;
           .
           .
           .
&#8594;     &#125;
 &#125;
</PRE>
<P>The <TT>String</TT> array passed to the application holds the command-line arguments pass to the application. In this first, small application, you might just display &#147;Hello from Java&#148; on the screen, and you can do that with the <TT>System.out.println()</TT> method:</P>
<PRE>
 public class app &#123;
      public static void main(String[] argv) &#123;
           System.out.println("Hello from Java");
      &#125;
 &#125;
</PRE>
<P>When you run this application, you&#146;ll see &#147;Hello from Java&#148; appear. To do that, compile the application by typing <B>javac app</B>. To run the application, use the <TT>java.exe</TT> interpreter which comes with the JDK 1.2 like this at the command line (i.e., in DOS):</P>
<PRE>
 c:\java1-2\app&gt;java app
</PRE>
<P>When you do, you&#146;ll see the &#147;Hello from Java&#148; message:
</P>
<PRE>
 c:\java1-2\app&gt;java app
 Hello from Java
</PRE>
<P>Now run the code in your <TT>printgraphics</TT> class. To do that, just create a new application class named <TT>printer</TT> that creates an object of the <TT>printgraphics</TT> class&#151;when you do that, the <TT>printgraphics</TT> constructor will start the printing job, printing the graphics you want printed:</P>
<PRE>
 import java.awt.*;
 import java.awt.event.*;

 public class printer &#123;
&#8594;     public static void main(String[] argv) &#123;
&#8594;          printgraphics w = new printgraphics();
&#8594;     &#125;
 &#125;
</PRE>
<P><BR></P>
<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="326-331.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="335-336.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>





</BODY>
</HTML>

