<HTML>
<HEAD>

<TITLE>Java 1.2 In Record Time:Java Graphics!</TITLE>




<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="314-319.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="323-325.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<P><BR></P>
</P>
<P>Because you&#146;ve stored the anchor and drawto points already, all the mouse handling has already been done when it comes time to draw your new rounded rectangle&#151;you can determine the rectangle&#146;s width and height, and you already know the location of its upper-left corner. All you have to do in the <TT>paint()</TT> method is check if you are supposed to draw a rounded rectangle by examining the <TT>bRoundedFlag</TT> boolean flag:</P>
<PRE>
      public void paint (Graphics g) &#123;
           int loop_index;
           int drawWidth, drawHeight;

           if(bLineFlag &amp;&amp; bMouseUpFlag)&#123;
               g.drawLine(ptAnchor.x, ptAnchor.y, ptDrawTo.x, &#8658;
 ptDrawTo.y);
           &#125;
           if(bOvalFlag &amp;&amp; bMouseUpFlag)&#123;
                drawWidth = ptDrawTo.x - ptAnchor.x;
                drawHeight = ptDrawTo.y - ptAnchor.y;
                g.drawOval(ptAnchor.x, ptAnchor.y, drawWidth, &#8658;
 drawHeight);
                    .
                    .
                    .
&#8594;          if(bRoundedFlag &amp;&amp; bMouseUpFlag)&#123;
                .
                .
                .
&#8594;          &#125;
</PRE>
<P>If you are supposed to draw rounded rectangles, you can call the <TT>Graphics</TT> method <TT>drawRoundRect()</TT>. This method takes the usual parameters&#151;the coordinates of the upper left of the rectangle, as well as its height and width&#151;and two new parameters as well. These new parameters control the rounding of the corners. The first parameter is the width of the rounding arc (in pixels) and the second parameter is the height of the rounding arc. In this example, give both of these parameters the value of 10:</P>
<PRE>
      public void paint (Graphics g) &#123;
           int loop_index;
           int drawWidth, drawHeight;

           if(bLineFlag &amp;&amp; bMouseUpFlag)&#123;
                g.drawLine(ptAnchor.x, ptAnchor.y, ptDrawTo.x, &#8658;
 ptDrawTo.y);
           &#125;
           if(bOvalFlag &amp;&amp; bMouseUpFlag)&#123;
                drawWidth = ptDrawTo.x - ptAnchor.x;
                drawHeight = ptDrawTo.y - ptAnchor.y;
                g.drawOval(ptAnchor.x, ptAnchor.y, drawWidth, &#8658;
 drawHeight);
                     .
                     .
                     .
           if(bRoundedFlag &amp;&amp; bMouseUpFlag)&#123;
&#8594;               drawWidth = ptDrawTo.x - ptAnchor.x;
&#8594;               drawHeight = ptDrawTo.y - ptAnchor.y;
&#8594;               g.drawRoundRect(ptAnchor.x, ptAnchor.y, drawWidth, &#8658;
 drawHeight, 10, 10);
           &#125;
</PRE>
<P>And now the user can draw rounded rectangles, as shown in Figure 10.14.
</P>
<P><A NAME="Fig18"></A><A HREF="images\10-18.jpg"><IMG SRC="images\10-18t.jpg"></A>
<BR><A HREF="images\10-18.jpg"><FONT COLOR="#000077"><B>FIGURE 10.14</B></FONT></A>&nbsp;&nbsp;Your dauber applet can draw rounded rectangles.</P>
<P>That&#146;s it for the standard graphics figures: lines, circles, ovals, rectangles, and rounded rectangles. However, you can go one better&#151;you can support freehand drawing in your dauber applet, letting the user draw with the mouse. You&#146;ll learn all about that that next.
</P>
<H4 ALIGN="LEFT"><A NAME="Heading21"></A><FONT COLOR="#000077">Dauber and Freehand Drawing</FONT></H4>
<P>After the user clicks the freehand drawing tool&#151;the button labeled Draw Freehand&#151;they can draw with the mouse, as shown in Figure 10.15.
</P>
<P><A NAME="Fig19"></A><A HREF="images\10-19.jpg"><IMG SRC="images\10-19t.jpg"></A>
<BR><A HREF="images\10-19.jpg"><FONT COLOR="#000077"><B>FIGURE 10.15</B></FONT></A>&nbsp;&nbsp;A freehand drawing</P>
<P>The user can do this by pressing the mouse button at some starting location in your applet and dragging the mouse. To handle this new capability, you can use the <TT>mouseDrag()</TT> method:</P>
<PRE>
     public void mouseDragged(MouseEvent e)&#123;
                    .
                    .
                    .
     &#125;
</PRE>
<P>This method is called when the user drags the mouse. You can check if they have selected the Draw tool by looking at the <TT>bDrawFlag</TT> boolean flag:</P>
<PRE>
     public void mouseDragged(MouseEvent e)&#123;
          if(bDrawFlag)&#123;
               .
               .
               .
          &#125;
     &#125;
</PRE>
<P>One way of drawing freehand with the mouse is to record the mouse locations as the mouse is dragged around in your applet and then &#147;connect the dots.&#148; That is, you can store each point you get in the <TT>mouseDrag</TT> event and then draw from point to point in the <TT>paint()</TT> method.</P>
<P>Start that process by storing the points you get in the <TT>mouseDrag</TT> event in an array of <TT>Point</TT> objects named, say, <TT>pts[]</TT>. You can declare an array of, say, 1000 <TT>Point</TT> objects. The syntax of declaring an array in Java is like this: <TT>Type</TT> <TT>name[]</TT> <TT>=</TT> <TT>new</TT> <TT>Type[number]</TT>. This means you can declare your array of points as follows:</P>
<PRE>
 import java.awt.Graphics;
 import java.awt.*;
 import java.awt.event.*;
 import java.lang.Math;
 import java.applet.Applet;

 public class dauber extends Applet implements ActionListener, &#8658;
 MouseListener, MouseMotionListener &#123;

       Button buttonDraw, buttonLine, buttonOval, buttonRect, &#8658;
 button3DRect, buttonRounded;

&#8594;     Point pts[] = new Point[1000];
      Point ptAnchor, ptDrawTo;
                  .
                  .
                  .
</PRE>
<BLOCKQUOTE>
<P><FONT SIZE="-1"><HR><B>Note:&nbsp;&nbsp;</B>Technically, Java only supports one-dimensional arrays. Two-dimensional arrays are really arrays of one-dimensional arrays.  For example, here is how you declare and initialize a 3 x 3 two-dimensional array of String objects:
<PRE>
   String stringarray[][] =
   &#123;
        &#123;"Hello", "there", "USA"&#125;,
        &#123;"Hello", "there", "Asia"&#125;,
        &#123;"Hello", "there", "World!"&#125;,
   &#125;;
</PRE>
<HR></FONT>
</BLOCKQUOTE>
<P><BR></P>
<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="314-319.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="323-325.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>





</BODY>
</HTML>

