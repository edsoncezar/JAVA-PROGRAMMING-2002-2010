<HTML>
<HEAD>

<TITLE>Java 1.2 In Record Time:Java Graphics!</TITLE>




<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="319-323.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="326-331.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<P><BR></P>
<P>Now you&#146;ve set up the array of points to store the mouse locations as the user moves the mouse. In addition, you will need an index value in that array so that you will be able to tell where to add the next point and how many points there are to draw. You can call that array index <TT>ptindex</TT>:</P>
<PRE>
 import java.awt.Graphics;
 import java.awt.*;
 import java.awt.event.*;
 import java.lang.Math;
 import java.applet.Applet;

 public class dauber extends Applet implements ActionListener, &#8658;
 MouseListener, MouseMotionListener &#123;

      Button buttonDraw, buttonLine, buttonOval, buttonRect, button3DRect,
 buttonRounded;

      Point pts[] = new Point[1000];
      Point ptAnchor, ptDrawTo;
&#8594;     int ptindex = 0;
             .
             .
             .
</PRE>
<P>Now your point array is set up, and you can add points to it in the <TT>mouseDrag()</TT> method. The point passed to you is the current location of the mouse, so add that to your <TT>points[]</TT> array this way, incrementing <TT>ptindex</TT> after you have done so:</P>
<PRE>
      public void mouseDragged(MouseEvent e)&#123;
           if(bDrawFlag)&#123;
&#8594;               pts[ptindex] = new Point(e.getX(), e.getY());
&#8594;               ptindex&#43;&#43;;
                     .
                     .
                     .
           &#125;
      &#125;
</PRE>
<BLOCKQUOTE>
<P><FONT SIZE="-1"><HR><B>NOTE:&nbsp;&nbsp;</B>The C&#43;&#43; operator &#43;&#43; simply increments a variable. Used this way, as a postfix operator: <TT>pts[ptindex&#43;&#43;]</TT> <TT>=</TT> <TT>new</TT> <TT>Point(x,</TT> <TT>y);</TT>, it adds 1 to the variable ptindex after the whole statement is executed. Used as a prefix operator: <TT>pts[&#43;&#43;ptindex]</TT> <TT>=</TT> <TT>new</TT> <TT>Point(x,</TT> <TT>y);</TT>, it adds 1 to ptindex before the rest of the statement is executed, and so you use that new, incremented value as the array index. The operator &#43;&#43; is an operator that may be overloaded, so you should not assume that it always adds 1 when used&#151;it may have been redefined for a certain class to add, say, 1000, or even the characters &#147;abc&#148;.<HR></FONT>
</BLOCKQUOTE>
<P>Add a new point made from the <TT>x</TT> and <TT>y</TT> parameters passed to you, store it in the <TT>pts[]</TT> array, and then increment the array index named <TT>ptindex</TT>. After you have stored the point, call <TT>repaint()</TT> to draw the points in the array on the screen:</P>
<PRE>
 public void mouseDragged(MouseEvent e)&#123;
           if(bDrawFlag)&#123;
                pts[ptindex] = new Point(e.getX(), e.getY());
                ptindex&#43;&#43;;
&#8594;               repaint();
           &#125;
      &#125;
</PRE>
<P>All that remains is to add code to the <TT>paint()</TT> method to draw the points in the <TT>pts[]</TT> array. First, in the <TT>paint()</TT> method, check to make sure you are supposed to be drawing freehand by examining the <TT>bDrawFlag</TT> boolean flag:</P>
<PRE>
     public void paint (Graphics g) &#123;
          int loop_index;
          int drawWidth, drawHeight;

          if(bLineFlag &amp;&amp; bMouseUpFlag)&#123;
               g.drawLine(ptAnchor.x, ptAnchor.y, ptDrawTo.x, &#8658;
 ptDrawTo.y);
          &#125;
          if(bOvalFlag &amp;&amp; bMouseUpFlag)&#123;
               drawWidth = ptDrawTo.x - ptAnchor.x;
               drawHeight = ptDrawTo.y - ptAnchor.y;
               g.drawOval(ptAnchor.x, ptAnchor.y, drawWidth, &#8658;
 drawHeight);
                    .
                    .
                    .
&#8594;         if(bDrawFlag)&#123;
               .
               .
               .
&#8594;         &#125;
     &#125;
</PRE>
<P>If the user is to draw freehand, that means you will draw the points in the <TT>pts[]</TT> array. You can loop over all those points, from 0 to the value in <TT>ptindex</TT> with a <TT>for</TT> loop. In general, this loop looks just like it would in C or C&#43;&#43;:</P>
<PRE>
 for(initial statement; conditional test; increment statement)&#123;
          loop body
 &#125;
</PRE>
<P>You use the initial statement to set up a loop index, the conditional test to see if you have looped enough, and the increment statement to increment (or decrement) your loop index. In this case, you can loop over all the points in the <TT>points[]</TT> array as follows:</P>
<PRE>
     public void paint (Graphics g) &#123;
          int loop_index;
          int drawWidth, drawHeight;

          if(bLineFlag &amp;&amp; bMouseUpFlag)&#123;
               g.drawLine(ptAnchor.x, ptAnchor.y, ptDrawTo.x, &#8658;
 ptDrawTo.y);
           &#125;
           if(bOvalFlag &amp;&amp; bMouseUpFlag)&#123;
                drawWidth = ptDrawTo.x - ptAnchor.x;
                drawHeight = ptDrawTo.y - ptAnchor.y;
                g.drawOval(ptAnchor.x, ptAnchor.y, drawWidth, &#8658;
 drawHeight);
                     .
                     .
                     .
           if(bRoundedFlag &amp;&amp; bMouseUpFlag)&#123;
                drawWidth = ptDrawTo.x - ptAnchor.x;
                drawHeight = ptDrawTo.y - ptAnchor.y;
                g.drawRoundRect(ptAnchor.x, ptAnchor.y, drawWidth, &#8658;
 drawHeight, 10, 10);
           &#125;
           if(bDrawFlag)&#123;
&#8594;for(loop_index = 0; loop_index &lt; ptindex - 1; loop_index&#43;&#43;)&#123;
                     .
                     .
                     .
&#8594;               &#125;
          &#125;
     &#125;
</PRE>
<BLOCKQUOTE>
<P><FONT SIZE="-1"><HR><B>NOTE:&nbsp;&nbsp;</B>There are three types of loops in Java&#151;<TT>for</TT>, <TT>while</TT>, and <TT>do</TT> loops. Their syntax looks like this:
<PRE>
   for(initial statement; conditional test; increment statement)&#123;
             loop body
   &#125;

   while(conditional test)&#123;
             loop body
   &#125;

   do&#123;
             loop body
   &#125;while(conditional test(/)[/]
</PRE>
<HR></FONT>
</BLOCKQUOTE>
<P><BR></P>
<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="319-323.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="326-331.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>





</BODY>
</HTML>

