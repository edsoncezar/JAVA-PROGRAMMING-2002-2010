<HTML>
<HEAD>

<TITLE>Java 1.2 In Record Time:Setting and Modifying Text and Fonts</TITLE>




<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="395-398.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="401-405.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<P><BR></P>
<P>As in the artist applet, set up a boolean flag for each of the buttons, except for the clear button (the clear button can clear the text string as soon as it is clicked&#151;you do not have to wait for the <TT>paint()</TT> method to be executed):</P>
<PRE>
 public class scribbler extends Applet implements ActionListener &#123;

       Button boldbutton, italicbutton, largebutton;
       Button romanbutton, courierbutton, clearbutton;
&#8594;      boolean bBoldFlag = false;
&#8594;      boolean bItalicFlag = false;
&#8594;      boolean bLargeFlag = false;
&#8594;      boolean bRomanFlag = true;
&#8594;      boolean bCourierFlag = false;

      public void init()
      &#123;

           boldbutton = new Button("Bold font");
           boldbutton.addActionListener(this);

           italicbutton = new Button("Italic font");
           italicbutton.addActionListener(this);

           largebutton = new Button("Large font");
           largebutton.addActionListener(this);

           romanbutton = new Button("Roman font");
           romanbutton.addActionListener(this);

           courierbutton = new Button("Courier font");
           courierbutton.addActionListener(this);

           clearbutton = new Button("Clear text");
           clearbutton.addActionListener(this);

           add(boldbutton);
           add(italicbutton);
           add(largebutton);
           add(romanbutton);
           add(courierbutton);
           add(clearbutton);
                .
                .
                .
&#125;
</PRE>
<P>All of your boolean flags are set to <TT>false</TT> initially, except the flag <TT>bRomanFlag</TT>, since you will use Roman as your default font. To make these boolean flags active, set up an <TT>actionPerformed()</TT> method in the <TT>scribbler</TT> class:</P>
<PRE>
 public void actionPerformed(ActionEvent event)&#123;
                .
                .
                .
&#125;
</PRE>
<P>You will handle the first of the buttons&#151;the one with the caption &#147;Bold font&#148;&#151;now. When the user clicks this button, they want to make the text they will type boldface, so you could set the boolean flag <TT>bBoldFlag</TT> to <TT>true</TT>. But this way, how can the user turn off boldface typing? It&#146;s better to <I>toggle</I> the bold setting on and off, and you can do that with the negation operator <TT>(!)</TT> as follows, where you just reverse the setting of the <TT>bBoldFlag</TT> flag:</P>
<PRE>
 public void actionPerformed(ActionEvent event)&#123;
     if(event.getSource() == boldbutton)&#123;
             bBoldFlag = !bBoldFlag;
     &#125;          .
                .
                .
 &#125;
</PRE>
<P>When the Bold button is clicked, that gives the <I>input focus</I>&#151;the target of keyboard strokes in Windows&#151;to the button itself. When the user types again, no further text will appear, as the applet itself lost the focus when the button gained it. (The button has the focus, and buttons don&#146;t display keystrokes.) For that reason, after you have handled the button click, have the applet request the focus back again as follows using the <TT>requestFocus()</TT> method:</P>
<PRE>
 public void actionPerformed(ActionEvent event)&#123;
     if(event.getSource() == boldbutton)&#123;
             bBoldFlag = !bBoldFlag;
&#8594;      requestFocus();
     &#125;    .
               .
               .
 &#125;
</PRE>
<P>The first three font settings can be toggled on and off: boldface, italics, and large (versus normal) text, and you can set them up as follows:
</P>
<PRE>
     public void actionPerformed(ActionEvent event)&#123;
          if(event.getSource() == boldbutton)&#123;
&#8594;              bBoldFlag = !bBoldFlag;
&#8594;              requestFocus();
&#8594;         &#125;
&#8594;         if(event.getSource() == italicbutton)&#123;
&#8594;              bItalicFlag = !bItalicFlag;
&#8594;              requestFocus();
&#8594;         &#125;
&#8594;        if(event.getSource() == largebutton)&#123;
&#8594;             bLargeFlag = !bLargeFlag;
&#8594;             requestFocus();
&#8594;        &#125;         .
                   .
                   .
     &#125;
</PRE>
<P>If, however, the user clicks a button with the caption &#147;Roman font&#148; or &#147;Courier font&#148;, you can&#146;t just toggle a boolean flag. There are two font name flags: <TT>bRomanFlag</TT> and <TT>bCourierFlag</TT>; because only one can be true at a time, when you set one to <TT>true</TT>, you must set the other one to <TT>false</TT>:</P>
<PRE>
     public void actionPerformed(ActionEvent event)&#123;
          if(event.getSource() == boldbutton)&#123;
               bBoldFlag = !bBoldFlag;
               requestFocus();
          &#125;
          if(event.getSource() == italicbutton)&#123;
               bItalicFlag = !bItalicFlag;
               requestFocus();
          &#125;
          if(event.getSource() == largebutton)&#123;
               bLargeFlag = !bLargeFlag;
               requestFocus();
          &#125;
&#8594;          if(event.getSource() == romanbutton)&#123;
&#8594;               bRomanFlag = true;
&#8594;               bCourierFlag = false;
&#8594;               requestFocus();
&#8594;          &#125;
&#8594;          if(event.getSource() == courierbutton)&#123;
&#8594;               bCourierFlag = true;
&#8594;               bRomanFlag = false;
&#8594;               requestFocus();
&#8594;          &#125;         .
                     .
                     .
     &#125;
</PRE>
<P><BR></P>
<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="395-398.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="401-405.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>





</BODY>
</HTML>

