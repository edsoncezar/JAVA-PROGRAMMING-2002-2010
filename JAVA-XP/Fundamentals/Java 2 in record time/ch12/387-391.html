<HTML>
<HEAD>

<TITLE>Java 1.2 In Record Time:Swing and Java 2D</TITLE>




<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="382-387.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="391-394.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<P><BR></P>
<P>Next, you can set the drawing color in the <TT>Graphics2D</TT> object to green:</P>
<PRE>
 import java.awt.*;
 import java.awt.geom.*;

 public class Box2D extends java.applet.Applet
 &#123;

    public void paint(Graphics g) &#123;

       Graphics2D graphics2D = (Graphics2D) g;

&#8594;       graphics2D.setColor(Color.green);
    .
    .
    .
</PRE>
<P>All that remains is to draw the first rectangle and fill it in. You can draw shapes in Java 2D with the <TT>GeneralPath</TT> class, and we&#146;ll do that now.</P>
<H4 ALIGN="LEFT"><A NAME="Heading9"></A><FONT COLOR="#000077">Defining Shapes with GeneralPath</FONT></H4>
<P>You can use the <TT>GeneralPath</TT> class to define shapes in Java 2D. To draw a rectangle, create a new <TT>GeneralPath</TT> object named <TT>rectangle</TT>:</P>
<PRE>
 import java.awt.*;
 import java.awt.geom.*;

 public class Box2D extends java.applet.Applet
 &#123;

    public void paint(Graphics g) &#123;

       Graphics2D graphics2D = (Graphics2D) g;

       graphics2D.setColor(Color.green);

&#8594;       GeneralPath rectangle = new GeneralPath();
           .
           .
           .
</PRE>
<P>Use the <TT>GeneralPath</TT> class&#146;s <TT>moveTo()</TT> method to start at a particular location, <TT>lineTo()</TT>, to draw a line to a new location, and <TT>closePath()</TT> to finish the figure you&#146;re drawing. Using these methods, you can draw the rectangle you want this way:</P>
<PRE>
 import java.awt.*;
 import java.awt.geom.*;

 public class Box2D extends java.applet.Applet
 &#123;

    public void paint(Graphics g) &#123;

       Graphics2D graphics2D = (Graphics2D) g;

       graphics2D.setColor(Color.green);

       GeneralPath rectangle = new GeneralPath();

&#8594;       rectangle.moveTo(0, 0);
&#8594;       rectangle.lineTo(-100, 0);
&#8594;       rectangle.lineTo(-100, 50);
&#8594;       rectangle.lineTo(0, 50);
&#8594;       rectangle.closePath();
          .
          .
          .
</PRE>
<P>Now that you&#146;ve drawn your rectangle, you will move it to a new location by setting up a <I>transform</I>.</P>
<H4 ALIGN="LEFT"><A NAME="Heading10"></A><FONT COLOR="#000077">Moving and Rotating with Transforms</FONT></H4>
<P>You can move or rotate the graphics environment using <TT>Graphics2D</TT> <I>affine transforms</I>. For example, to translate your rectangle, you can create a new <TT>transform</TT> object and apply it with the <TT>transform()</TT> method this way:</P>
<PRE>
    public void paint(Graphics g) &#123;

       Graphics2D graphics2D = (Graphics2D) g;

       graphics2D.setColor(Color.green);

       GeneralPath rectangle = new GeneralPath();

       rectangle.moveTo(0, 0);
       rectangle.lineTo(-100, 0);
       rectangle.lineTo(-100, 50);
       rectangle.lineTo(0, 50);
       rectangle.closePath();
&#8594;       AffineTransform transform = new AffineTransform();
&#8594;       transform.setToTranslation(100, 100);
&#8594;       graphics2D.transform(transform);
        .
        .
        .
</PRE>
<P>Finally, you can fill in the rectangle with the <TT>fill()</TT> method:</P>
<PRE>
    public void paint(Graphics g) &#123;

       Graphics2D graphics2D = (Graphics2D) g;

       graphics2D.setColor(Color.green);

       GeneralPath rectangle = new GeneralPath();

       rectangle.moveTo(0, 0);
       rectangle.lineTo(-100, 0);
       rectangle.lineTo(-100, 50);
       rectangle.lineTo(0, 50);
       rectangle.closePath();

       AffineTransform transform = new AffineTransform();
       transform.setToTranslation(100, 100);

       graphics2D.transform(transform);
&#8594;      graphics2D.fill(rectangle);
           .
           .
           .
</PRE>
<P>Now you&#146;ve completed your first rectangle. You can draw another rectangle at right angles to the first and make this one blue:
</P>
<PRE>
    public void paint(Graphics g) &#123;

       Graphics2D graphics2D = (Graphics2D) g;

       graphics2D.setColor(Color.green);

       GeneralPath rectangle = new GeneralPath();
           .
           .
           .
       graphics2D.fill(rectangle);
&#8594;      graphics2D.setColor(Color.blue);
           .
           .
           .
</PRE>
<P>You can move this rectangle to a new location; and you can also rotate it at right angles to the first one by creating a rotation transform with the <TT>setToRotation()</TT> method and applying that new transform to the <TT>Graphics2D</TT> object:</P>
<PRE>
    public void paint(Graphics g) &#123;

        Graphics2D graphics2D = (Graphics2D) g;

        graphics2D.setColor(Color.green);

        GeneralPath rectangle = new GeneralPath();
            .
            .
            .
        graphics2D.fill(rectangle);

        graphics2D.setColor(Color.blue);

&#8594;       transform.setToTranslation(50.0, 0.0);
&#8594;       graphics2D.transform(transform);

&#8594;       transform.setToRotation(Math.PI/2.0);
&#8594;       graphics2D.transform(transform);
          .
          .
          .
</PRE>
<P>Finally, fill in the second rectangle this way:
</P>
<PRE>
    public void paint(Graphics g) &#123;

       Graphics2D graphics2D = (Graphics2D) g;

       graphics2D.setColor(Color.green);

       GeneralPath rectangle = new GeneralPath();
           .
           .
           .
       graphics2D.fill(rectangle);
       graphics2D.setColor(Color.blue);

       transform.setToTranslation(50.0, 0.0);
       graphics2D.transform(transform);

       transform.setToRotation(Math.PI/2.0);
       graphics2D.transform(transform);

&#8594;      graphics2D.fill(rectangle);
    &#125;
</PRE>
<P>That completes the Box2D applet. Run it now, as shown in Figure 12.7. As you can see in that figure, you&#146;ve drawn two rectangles, one green and one blue, and set them at right angles to each other. Your Java 2D example is a success.
</P>
<P><A NAME="Fig9"></A><A HREF="images\12-09.jpg"><IMG SRC="images\12-09t.jpg"></A>
<BR><A HREF="images\12-09.jpg"><FONT COLOR="#000077"><B>FIGURE 12.7:</B></FONT></A>&nbsp;&nbsp;Drawing with Java 2D</P>
<BLOCKQUOTE>
<P><FONT SIZE="-1"><HR><B>NOTE:&nbsp;&nbsp;</B>There is a great deal more to Java 2D&#151;too much to cover here. For example, not only can you draw images, but you can also blend and overlap them in varying degrees of transparency. It takes a good amount of work to become proficient in Java 2D, but if you&#146;re after professional graphics, it can be worth it.<HR></FONT>
</BLOCKQUOTE>
<P><BR></P>
<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="382-387.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="391-394.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>





</BODY>
</HTML>

