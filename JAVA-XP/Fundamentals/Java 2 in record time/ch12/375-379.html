<HTML>
<HEAD>

<TITLE>Java 1.2 In Record Time:Swing and Java 2D</TITLE>




<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="371-375.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="379-382.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<P><BR></P>
<P>Now add the listener you&#146;ll use for the slider; in this case, that&#146;s a ChangeListener, not an ActionListener. Finally, add your controls to the applet:
</P>
<PRE>
 import com.sun.java.swing.*;
 import com.sun.java.swing.event.*;

 import java.awt.*;
 import java.awt.event.*;
 import java.applet.*;

 public class SwingSlider extends Applet implements ChangeListener &#123;
    JSlider slider;
    TextField text;
    public void init() &#123;
        slider = new JSlider(JSlider.HORIZONTAL, 0, 100, 50);
        slider.setPaintTicks(true);
        slider.setMajorTickSpacing(20);
        slider.setMinorTickSpacing(5);
&#8594;       slider.addChangeListener(this);
&#8594;       add(slider);
&#8594;
&#8594;       text = new TextField(20);
&#8594;       add(text);
&#8594;    &#125;
</PRE>
<P>You&#146;re almost done. When the user moves the slider, the program calls the <TT>stateChanged()</TT> method, so add that method now, and create an object corresponding to the slider this way in that method:</P>
<PRE>
&#8594;    public void stateChanged(ChangeEvent e)
&#8594;        JSlider slider = (JSlider)e.getSource();
        .
        .
        .
&#8594;    &#125;
</PRE>
<P>Finally, you need to indicate the new setting of the slider, which you get from the slider&#146;s <TT>getValue()</TT> method, in the text field this way:</P>
<PRE>
    public void stateChanged(ChangeEvent e) &#123;
        JSlider slider = (JSlider)e.getSource();
&#8594;        text.setText("The slider is at: " &#43; slider.getValue());
    &#125;
</PRE>
<P>And that&#146;s it. Open the applet now in the applet viewer, as shown in Figure 12.5. As you can see in that figure, the applet reports the movements of the slider&#146;s knob&#151;your Swing slider applet is a success. At this point, you&#146;ve used Java Swing to add several new controls to your programs.
</P>
<P><A NAME="Fig7"></A><A HREF="images\12-07.jpg"><IMG SRC="images\12-07t.jpg"></A>
<BR><A HREF="images\12-07.jpg"><FONT COLOR="#000077"><B>FIGURE 12.5:</B></FONT></A>&nbsp;&nbsp;Using a Swing slider</P>
<P>The code for this applet appears in <TT>SwingSlider.java</TT>.</P>
<P><FONT SIZE="+1"><B>SwingSlider.java</B></FONT></P>
<PRE>
 import com.sun.java.swing.*;
 import com.sun.java.swing.event.*;

 import java.awt.*;
 import java.awt.event.*;
 import java.applet.*;

 public class SwingSlider extends Applet implements ChangeListener &#123;

    JSlider slider;
    TextField text;

    public void init() &#123;

        slider = new JSlider(JSlider.HORIZONTAL, 0, 100, 50);
        slider.setPaintTicks(true);
        slider.setMajorTickSpacing(20);
        slider.setMinorTickSpacing(5);
        slider.addChangeListener(this);
        add(slider);
        text = new TextField(20);
        add(text);
    &#125;

    public void stateChanged(ChangeEvent e) &#123;
        JSlider slider = (JSlider)e.getSource();
        text.setText("The slider is at: " &#43; slider.getValue());
    &#125;
 &#125;
</PRE>
<P>Now that you&#146;ve seen Swing sliders at work, let&#146;s continue on with Swing toolbars.
</P>
<H3><A NAME="Heading6"></A><FONT COLOR="#000077">Using Swing Toolbars</FONT></H3>
<P>One of the most attractive Swing controls is the toolbar control. This control lets you install buttons in it, just as the standard toolbars you might be familiar with in Windows or other operating systems.
</P>
<BLOCKQUOTE>
<P><FONT SIZE="-1"><HR><B>TIP:&nbsp;&nbsp;</B>In fact, you can make Swing toolbars <I>dockable</I>, which means they can attach or detach themselves to your main Java application.<HR></FONT>
</BLOCKQUOTE>
<P>If you use Swing buttons, you can install images in the tools in your toolbar, and the result is just as professional as you&#146;ll see in any application. Let&#146;s take a look at the process of using toolbars now with an example, <TT>SwingToolbar.java</TT>.</P>
<P>Start this new applet by adding a toolbar of the <TT>JToolBar</TT> class, as well as three Swing buttons and a text field:</P>
<PRE>
 import com.sun.java.swing.*;
 import com.sun.java.swing.event.*;

 import java.awt.*;
 import java.awt.event.*;
 import java.applet.*;

 public class SwingToolbar extends Applet &#123;

&#8594;    JToolBar toolbar;
&#8594;    JButton button1, button2, button3;
&#8594;    TextField text;
    .
    .
    .
</PRE>
<P>The <TT>JToolBar</TT> class methods appear in Table 12.4.</P>
<TABLE WIDTH="100%"><CAPTION ALIGN=LEFT><B>Table 12.4:</B> The <TT>JToolbar</TT> class methods
<TR>
<TD COLSPAN="2"><HR>
<TR>
<TH WIDTH="45%" ALIGN="LEFT">Method
<TH WIDTH="55%" ALIGN="LEFT">Does This
<TR>
<TD COLSPAN="2"><HR>
<TR>
<TD>JToolBar()
<TD>Creates a toolbar
<TR>
<TD><TT>add(Action a)</TT>
<TD>Adds a new <TT>JButton</TT> that dispatches the action
<TR>
<TD><TT>addSeparator()</TT>
<TD>Adds a separator to the toolbar
<TR>
<TD><TT>createActionChangeListener(JButton b)</TT>
<TD VALIGN="TOP">Creates an <TT>ActionChangeListener</TT>
<TR>
<TD><TT>getAccessibleContext()</TT>
<TD>Gets the role of this object
<TR>
<TD><TT>getComponentAtIndex(int i)</TT>
<TD>Gets the <TT>ComponentAt</TT> specified index
<TR>
<TD><TT>getComponentIndex(Component c)</TT>
<TD>Gets the index of a component
<TR>
<TD VALIGN="TOP"><TT>getMargin()</TT>
<TD>Returns the margin between the toolbar&#146;s border and its buttons
<TR>
<TD><TT>getUI()</TT>
<TD>Returns the toolbar&#146;s current UI
<TR>
<TD><TT>getUIClassID()</TT>
<TD>Gets the UI class
<TR>
<TD><TT>isBorderPainted()</TT>
<TD>Checks whether the border should be painted
<TR>
<TD VALIGN="TOP"><TT>isFloatable()</TT>
<TD>Returns <TT>true</TT> if the toolbar can be dragged out by the user
<TR>
<TD VALIGN="TOP"><TT>paintBorder(Graphics g)</TT>
<TD>Paints the toolbar&#146;s border if the <TT>BorderPainted</TT> property is true
<TR>
<TD><TT>setBorderPainted(boolean b)</TT>
<TD>Sets whether the border should be painted
<TR>
<TD><TT>setFloatable(boolean b)</TT>
<TD>Sets whether the toolbar can be made to float
<TR>
<TD VALIGN="TOP"><TT>setMargin(Insets m)</TT>
<TD>Sets the margin between the toolbar&#146;s border and its buttons
<TR>
<TD><TT>setUI(ToolBarUI ui)</TT>
<TD>Sets the toolbar&#146;s UI
<TR>
<TD VALIGN="TOP"><TT>updateUI()</TT>
<TD>Gets a new UI object from the default <TT>UIFactory</TT>
<TR>
<TD COLSPAN="2"><HR>
</TABLE>
<P>Now you need to create the new controls you&#146;ll need in the <TT>init()</TT> method, starting with the toolbar:</P>
<PRE>
    public void init() &#123;

&#8594;        JToolBar toolBar = new JToolBar();
          .
          .
          .
</PRE>
<P>Next, create the first button, <TT>button1</TT>; you&#146;ll give the three buttons you&#146;ll use in a smaller version of the image you used in the Swing button example above:</P>
<PRE>
    public void init() &#123;

        JToolBar toolBar = new JToolBar();

&#8594;       JButton button1 = new JButton("Button 1", new &#8658;
 ImageIcon("image.jpg"));
    .
    .
    .
</PRE>
<P><BR></P>
<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="371-375.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="379-382.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>





</BODY>
</HTML>

