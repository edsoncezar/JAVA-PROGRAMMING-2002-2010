<HTML>
<HEAD>

<TITLE>Java 1.2 In Record Time:More Graphics Animation Power</TITLE>




<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="473-479.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="484-487.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<P><BR></P>
<H3><A NAME="Heading8"></A><FONT COLOR="#000077">Using the Card Layout for Animation</FONT></H3>
<P>If you want to animate things other than images in Java, there is a Java layout manager that can handle many of the details. For example, if you have a panel filled with label controls (as shown in Figure 15.6), you can use the card layout manager to flash another panel onto the screen (as shown in Figure 15.7).
</P>
<P><A NAME="Fig11"></A><A HREF="images\15-11.jpg"><IMG SRC="images\15-11t.jpg"></A>
<BR><A HREF="images\15-11.jpg"><FONT COLOR="#000077"><B>FIGURE 15.6</B></FONT></A>&nbsp;&nbsp;A panel with label controls</P>
<P><A NAME="Fig12"></A><A HREF="images\15-12.jpg"><IMG SRC="images\15-12t.jpg"></A>
<BR><A HREF="images\15-12.jpg"><FONT COLOR="#000077"><B>FIGURE 15.7</B></FONT></A>&nbsp;&nbsp;A second panel</P>
<P>And you could keep going, cycling panel after panel as long as you liked. In this way, the card layout manager supports animation&#151;not animation of images, but of controls and panels. You&#146;ll take a look at this layout manager now, developing the example above.
</P>
<P>Create a new file named <TT>carder.java</TT> and place your standard code in it:</P>
<PRE>
 import java.awt.*;
 import java.applet.Applet;

 public class carder extends Applet &#123;
          .
          .
          .
</PRE>
<P>In addition to the above code, you&#146;ll need a thread in this applet to animate your card layout, so implement the Runnable interface now:
</P>
<PRE>
 import java.awt.*;
 import java.applet.Applet;

&#8594;public class carder extends Applet implements Runnable&#123;
           .
           .
           .
</PRE>
<P>You&#146;ll set up three cards in your card layout, of class <TT>cardPanel</TT>. Call those objects <TT>panel1</TT>, <TT>panel2</TT>, and <TT>panel3</TT>. Add those objects to the applet now (you&#146;ll create the <TT>cardPanel</TT> class in a minute):</P>
<PRE>
 import java.awt.*;
 import java.applet.Applet;

 public class carder extends Applet implements Runnable&#123;

&#8594;    cardPanel panel1, panel2, panel3;
          .
          .
          .
</PRE>
<P>Now you are ready to add your new card layout to the applet. You can do that with a new <TT>CardLayout</TT> object, and you can create that object in the <TT>init()</TT> method:</P>
<PRE>
 import java.awt.*;
 import java.applet.Applet;

 public class carder extends Applet implements Runnable&#123;

     cardPanel panel1, panel2, panel3;

     int cardindex = 0;
     Thread cardThread;
&#8594;    CardLayout cardlayout;

     public void init() &#123;
&#8594;         cardlayout = new CardLayout();
               .
               .
               .
</PRE>
<P>Next, install the new layout manager:
</P>
<PRE>
 import java.awt.*;
 import java.applet.Applet;

 public class carder extends Applet implements Runnable&#123;

     cardPanel panel1, panel2, panel3;

     CardLayout cardlayout;

     public void init() &#123;
          cardlayout = new CardLayout();
&#8594;         setLayout(cardlayout);
               .
               .
               .
</PRE>
<P>At this point, you can create the three card panels to install in the card layout. You&#146;ll give your <TT>cardpanel</TT> class a constructor that will take a string, so you can label each panel (e.g., &#147;Panel One&#148; or &#147;Panel Two&#148;). You&#146;ll create your three new panels as follows, passing an appropriate string to each:</P>
<PRE>
 import java.awt.*;
 import java.applet.Applet;

 public class carder extends Applet implements Runnable&#123;

     cardPanel panel1, panel2, panel3;

     CardLayout cardlayout;

     public void init() &#123;
          cardlayout = new CardLayout();
          setLayout(cardlayout);
&#8594;         panel1 = new cardPanel("One");
&#8594;         panel2 = new cardPanel("Two");
&#8594;         panel3 = new cardPanel("Three");
                    .
                    .
                    .
</PRE>
<P>You can install these new panels in the Java card layout manager with its <TT>add()</TT> method. When you use the card layout manager, you need a string for each new panel that you add: &#147;first&#148; for the first card, &#147;second&#148; for the second card, and so forth. In code, the strings look like this:</P>
<PRE>
 import java.awt.*;
 import java.applet.Applet;

 public class carder extends Applet implements Runnable&#123;

     cardPanel panel1, panel2, panel3;

     int cardindex = 0;
     Thread cardThread;
     CardLayout cardlayout;

     public void init() &#123;
          cardlayout = new CardLayout();
          setLayout(cardlayout);
          panel1 = new cardPanel("One");
          panel2 = new cardPanel("Two");
          panel3 = new cardPanel("Three");
&#8594;         add("first", panel1);
&#8594;         add("second, panel2);
&#8594;         add("third", panel3);
               .
               .
               .
</PRE>
<P>Now we&#146;ll explore the process of using the card layout manager to actually show one of the cards you&#146;ve installed.
</P>
<H4 ALIGN="LEFT"><A NAME="Heading9"></A><FONT COLOR="#000077">Showing a Card with the Card Layout Manager</FONT></H4>
<P>To actually show a card&#151;the first card, for example, use the card layout&#146;s <TT>show()</TT> method, passing the placement strings &#147;first&#148;, &#147;second&#148;, and so on. To show the first card, execute the following statement:</P>
<PRE>
 import java.awt.*;
 import java.applet.Applet;

 public class carder extends Applet implements Runnable&#123;

     cardPanel panel1, panel2, panel3;

     int cardindex = 0;
     Thread cardThread;
     CardLayout cardlayout;

     public void init() &#123;
          cardlayout = new CardLayout();
          setLayout(cardlayout);
          panel1 = new cardPanel("One");
          panel2 = new cardPanel("Two");
          panel3 = new cardPanel("Three");
          add("first", panel1);
          add("second", panel2);
          add("third", panel3);
&#8594;         cardlayout.show(this, "first");
     &#125;
</PRE>
<P>That&#146;s how you&#146;ll show cards in your applet, with the <TT>show()</TT> method. Now you can implement animation itself.</P><P><BR></P>
<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="473-479.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="484-487.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>





</BODY>
</HTML>

