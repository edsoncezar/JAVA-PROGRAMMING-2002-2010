<HTML>
<HEAD>

<TITLE>Java 1.2 In Record Time:Working with Multi-Threaded Programs and JAR Files</TITLE>




<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="493-497.html">Previous</A></TD>
<TD><A HREF="..\ewtoc.html">Table of Contents</A></TD>
<TD><A HREF="501-505.html">Next</A></TD>
</TR>
</TABLE>
</CENTER>
<P><BR></P>
<P>Because this new class extends the <TT>Thread</TT> class and not the <TT>Applet</TT> class, you can&#146;t reach the screen (using the <TT>Applet</TT> class&#146;s methods) to work with the new class directly. You also can&#146;t extend <I>both</I> the <TT>Thread</TT> and <TT>Applet</TT> classes at the same time because Java doesn&#146;t allow multiple inheritance yet. The Runnable interface was introduced to allow applet classes to be multi-threaded. (Using interfaces is as close to multiple inheritance as Java gets.) In this case, you&#146;ll use <TT>System.out.println()</TT> to print your message on the screen in a loop that checks <TT>animateFlag</TT> this way (recall that when the user clicks the Stop button, the applet object sets <TT>animateFlag</TT> to <TT>false</TT>).</P>
<PRE>
  class printingThread extends Thread &#123;
       boolean animateFlag = true;

&#8594;public void run()&#123;
&#8594;     while(animateFlag)&#123;
&#8594;          System.out.println("Hello from Java");
&#8594;     &#125;
&#8594;&#125;
  &#125;
</PRE>
<P>Running the thread applet produces the following display in the DOS window:
</P>
<PRE>
  Hello from Java
  Hello from Java
  Hello from Java
  Hello from Java
  Hello from Java
  Hello from Java
  Hello from Java
  Hello from Java
  Hello from Java
  Hello from Java
  Hello from Java
            .
            .
            .
</PRE>
<P>Of course, thread objects like the one introduced above usually perform more useful tasks in the background. For example, they can perform large-scale mathematical operations, setting flags that the rest of the program can check when the operation is complete. In fact, it&#146;s worth noting that the I/O here has been restricted to the <TT>println()</TT> method, which is very restricted indeed. Let&#146;s explore how to reach the screen more directly.</P>
<H3><A NAME="Heading4"></A><FONT COLOR="#000077">Working with the Runnable Interface</FONT></H3>
<P>You&#146;ve learned how to create <TT>Thread</TT> objects in Java, but you&#146;ve also learned that if you want to work with graphics on the screen, you&#146;ll need something more. That something more is the Runnable interface. For example, in your spinner applet, you implemented the Runnable interface as follows:</P>
<PRE>
   import java.awt.*;
   import java.applet.Applet;
&#8594;public class spinner extends Applet implements Runnable&#123;
                 .
                 .
                 .
</PRE>
<P>Then you were able to add a thread object, <TT>spinThread</TT>, in your applet, as follows:</P>
<PRE>
  import java.awt.*;
  import java.applet.Applet;

  public class spinner extends Applet implements Runnable&#123;

       Image spinImages[] = new Image[4];
       Image nowImage;
       int spinIndex = 0;
&#8594;Thread spinThread;

       public void init() &#123;
            spinImages[0] = getImage(getCodeBase(), "spin1.gif");
            spinImages[1] = getImage(getCodeBase(), "spin2.gif");
            spinImages[2] = getImage(getCodeBase(), "spin3.gif");
            spinImages[3] = getImage(getCodeBase(), "spin4.gif");
       &#125;
</PRE>
<P>Implementing the Runnable interface means that you can now override the <TT>start()</TT>, <TT>stop()</TT>, and <TT>run()</TT> methods, which you can do as follows:</P>
<PRE>
&#8594;   public void start() &#123;
&#8594;        spinThread = new Thread(this);
&#8594;        spinThread.start();
&#8594;   &#125;

&#8594;   public void stop() &#123;
&#8594;        animateFlag = false;
&#8594;   &#125;

&#8594;   public void run() &#123;
&#8594;        while(animateFlag)&#123;
&#8594;             nowImage = spinImages[spinIndex&#43;&#43;];
&#8594;             if(