<HTML>
<HEAD>


<TITLE>Inside Java:The New, Improved AWT: GUI Compo- nents, Containers, and Layout Manag- ers:EarthWeb Inc.-</TITLE>






<P><CENTER>
<a href="0551-0554.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0560-0564.html">Next</A>
</CENTER></P>

<A NAME="PAGENUM-555"><P>Page 555</P></A>



<H4><A NAME="ch13_ 19">
CardLayout
</A></H4>

<P>The CardLayout shows one &quot;card&quot; at a time in a set of cards. Each card can be a
component, or a container of other components.
</P>

<P>Listing 13.4 is an applet named CardDeck, which is an example of using the
CardLayout layout manager. Figure 13.11 illustrates the CardDeck applet's user interface. When
the user clicks one of the buttons at the bottom, the proper playing card appears.
These buttons correspond to some of the CardLayout's methods for causing certain cards
to appear.
</P>

<P>Listing 13.4
</P>
<PRE>
Line==================Java Source=================
001   //////////
002   // CardDeck java  Demonstrates the use of the CardLayout
003   // layout manager.
004   //
005   // Author: James L. Weaver  JDK 1.1 beta1
006   //////////
007   import java.awt.*;
008   import java.applet.*;
009
010   public class CardDeck extends Applet {
011
012   Button firstButton,
013          lastButton,
014          prevButton,
015          nextButton,
016          queenButton;
017   CardLayout cardlayout;
018   Panel cards;
019
020       public void init() {
021           // Create a BorderLayout to have a
022           // control panel area at the bottom, and the
023           // rest of the applet display to show the cards.
024           setLayout(new BorderLayout());
025           Panel controls = new Panel();
026
</PRE>
<PRE>
<I>
                                                          continues
</I>
</PRE>


<A NAME="PAGENUM-556"><P>Page 556</P></A>

<P>
Listing 13.4, Continued
</P>

<PRE>
027           // Create and add the controls to the panel, and
028           // add the control panel to the &quot;South&quot; area of
029           // the applet.
030           firstButton = new Button(&quot;First&quot;);
031           lastButton = new Button(&quot;Last&quot;);
032           prevButton = new Button(&quot;Prev&quot;);
033           nextButton = new Button(&quot;Next&quot;);
034           queenButton = new Button(&quot;Queen&quot;);
035           controls.add(firstButton);
036           controls.add(lastButton);
037           controls.add(prevButton);
038           controls.add(nextButton);
039           controls.add(queenButton);
040           add(&quot;South&quot;, controls);
041
042           // Create a panel to show the cards, and set the
043           // layout to CardLayout so they will appear one
044           // at a time.
045           cards = new Panel();
046           cardlayout = new CardLayout();
047           cards.setLayout(cardlayout);
048
049           // Add the playing cards to the cards panel
050           cards.add(&quot;Ace&quot;, new Button(&quot;Ace of Hearts&quot;));
051           cards.add(&quot;Deuce&quot;, new Button(&quot;Two of Hearts&quot;));
052           cards.add(&quot;Three&quot;, new Button(&quot;Three of Hearts&quot;));
053           cards.add(&quot;Four&quot;, new Button(&quot;Four of Hearts&quot;));
054           cards.add(&quot;Five&quot;, new Button(&quot;Five of Hearts&quot;));
055           cards.add(&quot;Six&quot;, new Button(&quot;Six of Hearts&quot;));
056           cards.add(&quot;Seven&quot;, new Button(&quot;Seven of Hearts&quot;));
057           cards.add(&quot;Eight&quot;, new Button(&quot;Eight of Hearts&quot;));
058           cards.add(&quot;Nine&quot;, new Button(&quot;Nine of Hearts&quot;));
059           cards.add(&quot;Ten&quot;, new Button(&quot;Ten of Hearts&quot;));
060           cards.add(&quot;Jack&quot;, new Button(&quot;Jack of Hearts&quot;));
061           cards.add(&quot;Queen&quot;, new Button(&quot;Queen of Hearts&quot;));
062           cards.add(&quot;King&quot;, new Button(&quot;King of Hearts&quot;));
063
064           // Finally, add the cards Panel to the applet display.
065           add(&quot;Center&quot;, cards);
</PRE>

<A NAME="PAGENUM-557"><P>Page 557</P></A>



<PRE>

066       }
067
068       // The JDK 1.0 event model may be used with 1.1
069       // but may not be used in the same component with
070       // the new event model.
071       public boolean handleEvent(Event event) {
072         if (event.id == Event.ACTION_EVENT &amp;&amp;
073                         event.target == firstButton) {
074             // Show the first card
075             cardlayout.first(cards);
076             return true;
077         }
078         if (event.id == Event.ACTION_EVENT &amp;&amp;
079                         event.target == lastButton) {
080             cardlayout.last(cards);
081             // Show the last card
082             return true;
083         }
084         if (event.id == Event.ACTION_EVENT &amp;&amp;
085                         event.target == prevButton) {
086             // Show the previous card
087             cardlayout.previous(cards);
088             return true;
089         }
090         if (event.id == Event.ACTION_EVENT &amp;&amp;
091                         event.target == nextButton) {
092             // Show the next card
093             cardlayout.next(cards);
094             return true;
095         }
096         if (event.id == Event.ACTION_EVENT &amp;&amp;
097                         event.target == queenButton) {
098             // Show the card with the name of &quot;Queen&quot;
099             cardlayout.show(cards, &quot;Queen&quot;);
100             return true;
101         }
102           return super.handleEvent(event);
103       }
104   }
</PRE>

<A NAME="PAGENUM-558"><P>Page 558</P></A>



<P>This is the associated HTML:
</P>
<PRE>
&lt;HTML&gt;
&lt;HEAD&gt;
&lt;TITLE&gt; Card Deck &lt;/TITLE&gt;
&lt;/HEAD&gt;
&lt;BODY&gt;
&lt;APPLET CODE=&quot;CardDeck.class&quot; WIDTH=300 HEIGHT=300&gt;&lt;/APPLET&gt;
&lt;/BODY&gt;
&lt;/HTML&gt;
</PRE>

<P>The following steps walk you through some of the highlights of this example:
</P>

<OL>
<LI>          Declare some instance variables that will be used in more than one method of
the CardDeck class.<BR>
 Lines 12_18 declare these instance variables.
<LI>          Create a BorderLayout to segment the applet's display.<BR>
         In lines 24 and 25, a BorderLayout is created so that the applet's display can
be divided into two different areas, which are a control panel along the bottom
that contains buttons, and an area in which the playing cards are displayed.
<LI>          Create and add the controls to the panel.<BR>
          Lines 30_40 create the buttons and add them to the control panel. These lines
also add the control panel to the &quot;South&quot; area of the applet's display.
<LI>          Create a panel to show the cards, and set the layout to CardLayout so they
will appear one at a time.<BR>
          Lines 45_47 create a new Panel in which the playing cards are displayed, and
the layout manager is set to CardLayout. Notice in line 46 that a reference is kept to
the new instance of CardLayout. This is because methods of the CardLayout class
will be called later in the program. When constructing the other AWT layout
managers, it is generally not necessary to keep a reference, because you don't usually need
to call the layout manager's methods directly.
<LI>          Add the playing cards to the cards panel.<BR>
      Lines 50_62 add the 13 playing cards to the container. The
add() method of the container takes two parameters:
<UL>
<LI>                    A String that names the card so it can be referred to later
<LI>                    The component or container to be added to this container
</UL>
</OL>

<A NAME="PAGENUM-559"><P>Page 559</P></A>




<OL START="6">
<LI>          Add the cards Panel to the applet display.
<BR>          Line 65 adds the container to the &quot;Center&quot; of the applet's display, which fills up
all the area not used by the control panel in the &quot;South&quot; area.
<LI>          Create the event handling code.
</OL>
<BR>
<P>
<P>

<CENTER>
<TABLE BGCOLOR="#FFFF99">
<TR><TD><B>
NOTE
</B></TD></TR>
<TR><TD>
<BLOCKQUOTE>
Note that this example uses the JDK 1.0 event-handling methods. This is permissible
as long as the 1.1 event handling methods aren't used for the same component.
</BLOCKQUOTE></TD></TR>
</TABLE></CENTER>
</P>
<P>Lines 71_103 contain the event handling code. When the Button labeled &quot;First&quot;
is clicked, the first() method in line 75 is called:
</P>
<PRE>
075             cardlayout.first(cards);
</PRE>

<P>Notice that the first() method is a method of the CardLayout class. The parameter is
the Container that holds the cards. When this method is called, the first card added to
the container is displayed, as shown in figure 13.11.
</P>

<P>Similarly, when the Button labeled &quot;Last&quot; is clicked, the
last() method in line 80 is called:
</P>
<PRE>
080             cardlayout.last(cards);
</PRE>

<P>When this method is called, the last card added to the container is displayed.
</P>

<P>When the &quot;Previous&quot; button is clicked, the
previous() method in line 87 is called:
</P>
<PRE>
087             cardlayout.previous(cards);
</PRE>

<P>This causes the card that was added before the one currently being shown to
be displayed.
</P>

<P>Similarly, when the &quot;Next&quot; button is clicked, the
next() method in line 93 is called:
</P>
<PRE>
093             cardlayout.next(cards);
</PRE>

<P>This causes the card that was added after the one currently being shown to be
displayed.
</P>

<P>Finally, when the &quot;Queen&quot; button is clicked, the
show() method in line 99 is called:
</P>
<PRE>
099             cardlayout.show(cards, &quot;Queen&quot;);
</PRE>

<P>The show method of the CardLayout class takes two parameters:<BR>
</P>


<P><CENTER>
<a href="0551-0554.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0560-0564.html">Next</A>
</CENTER></P>







</BODY>
</HTML>

