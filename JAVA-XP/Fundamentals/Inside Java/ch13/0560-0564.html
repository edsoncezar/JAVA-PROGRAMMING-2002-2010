<HTML>
<HEAD>


<TITLE>Inside Java:The New, Improved AWT: GUI Compo- nents, Containers, and Layout Manag- ers:EarthWeb Inc.-</TITLE>






<P><CENTER>
<a href="0555-0559.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0565-0570.html">Next</A>
</CENTER></P>

<A NAME="PAGENUM-560"><P>Page 560</P></A>





<UL>
<LI>          The container that holds the cards
<LI>          The name that you gave the component in the
add() method
</UL>

<P>This causes the card with the specified name to be displayed.
</P>
<P>
CardLayout can be used to implement a tabbed notebook metaphor, or to show
one
</P>

<P>
<a href="images\ch13fg11.jpg"><img src="images\tn_ch13fg11.jpg"></a><BR>
Figure 13.11
<I>CardDeck applet display.</I>
</P>


<P>record at a time of a small table or result set. You probably can see how useful it is
to combine layout managers in the same window. The final two layout managers,
aptly named GridLayout and GridBagLayout, organize a container into rows and columns
of cells.
</P>

<H4><A NAME="ch13_ 20">
GridLayout
</A></H4>

<P>The GridLayout layout manager divides a container into a grid of equally sized cells.
You must specify the number of rows and columns desired when creating the layout.
Each cell must have a component or container associated with it, because the cells
are populated starting from the top, going left to right and top to bottom. Each component
is resized to the size of the cell. The add() method is used to populate the container.
</P>

<P>Listing 13.5 is an applet named JuneGrid that displays a month calendar view of June
in the last year of the second millennium. Figure 13.12 shows the JuneGrid applet's display.
</P>
<PRE>
Line==================Java Source=================
</PRE>

<A NAME="PAGENUM-561"><P>Page 561</P></A>



<P>Listing 13.5
</P>
<PRE>
01   //////////
02   // JuneGrid.java  Demonstrates the use of the GridLayout
03   // layout manager.
04   //
05   // Author: James L. Weaver  JDK 1.1 beta1
06   //////////
07   import java.awt.*;
08   import java.applet.*;
09
10   public class JuneGrid extends Applet {
11
12       public void init() {
13           // Use BorderLayout for dividing the applet display
14           // into a header for month/year and a body for days
15           // of the week and dates.
16           setLayout(new BorderLayout());
17
18           // Put month and year at top of applet
19           Panel header = new Panel();
20           header.add(new Label(&quot;June 2000&quot;));
21           add(&quot;North&quot;, header);
22
23           // Create a Panel with a GridLayout for putting
24           // the days and dates of the month in.
25           Panel body = new Panel();
26           body.setLayout(new GridLayout(6, 7));
27
28           // Put the day of the week headers at the top
29           String days = new String(&quot;SuMoTuWeThFrSa&quot;);
30           for (int i=0; i&lt;14; i+=2) {
31               body.add(new Label(days.substring(i, i+2)));
32           }
33
34           // Make blank cells for Sunday - Wednesday
35           for (int i=0; i&lt;4; i++) {
36               body.add(new Label());
</PRE>
<PRE>
<I>
                                                                continues
</I>
</PRE>

<A NAME="PAGENUM-562"><P>Page 562</P></A>


<P>
Listing 13.5,  Continued
</P>
<PRE>
37           }
38
39           // Put the dates in
40           for (int i=1; i&lt;=30; i++) {
41               // Convert integers to strings
42               body.add(new Button(new Integer(i).toString()));
43           }
44
45           add(&quot;Center&quot;, body);
46       }
47   }
</PRE>

<P>As in other examples, BorderLayout is employed in line 16 to divide the container
into different areas. In this case, we want an area in the &quot;North&quot; in which to put the
month and year, and the &quot;Center&quot; area in which to put the grid of cells that hold days and dates.
</P>

<P>Lines 19 and 21 center &quot;June 2000&quot; at the top of the applet's display.
</P>

<P>Lines 25 and 26 create a Panel in which the GridLayout is set. The GridLayout in this
case manages a grid with five rows and seven columns in which to place components.
</P>

<P>The first entries in the grid are the abbreviated days of the week. These are added to
the grid in lines 29_32. The simplest form of the
add() method is used in line 31 to add the components.
</P>

<P>In lines 35_37, four blank Labels are added because the first of June falls on a
Thursday. A cell cannot be skipped, but you can use this technique to make a blank cell.
</P>

<P>Lines 40_43 add buttons representing the dates from 1_30 to the grid as shown in
figure 13.12. It is necessary in line 42 to convert the integers into strings, because this form
of the Button constructor takes a String.
</P>

<P>Finally, line 45 adds the Panel containing the days and dates to the &quot;Center&quot; area of
the applet's display.
</P>

<P>The final AWT layout manager is called the GridBagLayout. This is the most powerful
of the AWT layout managers, but it also has a reputation of being difficult to use. The
next section will de-mystify the GridBagLayout so that you can use it effectively.
</P>

<H4><A NAME="ch13_ 21">
GridBagLayout
</A></H4>

<P>GridBagLayout gives you more control over the layout of components in a
container than GridLayout, for the following reasons:
</P>


<A NAME="PAGENUM-563"><P>Page 563</P></A>



<P>
<a href="images\ch13fg12.jpg"><img src="images\tn_ch13fg12.jpg"></a><BR>
Figure 13.12
<I>JuneGrid applet display.</I>
</P>


<UL>
<LI>          Unlike GridLayout, which makes all cells the same size, GridBagLayout enables
you to influence row and column sizes, which then changes the cell sizes.
<LI>          Components placed in a GridLayout are resized to the size of the cell, but
components placed in a GridBagLayout can retain their size and can be placed in one
of several locations within a cell.
<LI>          The number of rows and columns in a GridLayout must be specified when
the GridLayout is constructed, but this number is dynamically computed based
upon placement of components in GridBagLayout.
<LI>          Components must be added left to right and top to bottom in a GridLayout,
but components can be placed in a cell at a given row and column in GridBagLayout.
<LI>          Unlike GridLayout, components managed by a GridBagLayout can span two
or more cells.
</UL>

<P>A <I>display area</I> is the cell or cells in which a component is placed. Each component in
a GridBagLayout is associated with an instance of GridBagConstraints, which
controls how the component will be laid out within its display area. Collectively, these
constraints, along with component sizes, affect how the GridBagLayout layout
manager arranges the components within the container.
</P>

<P>The following constraints are specified in the GridBagConstraints class:
</P>

<UL>
<LI>          gridx and gridy
<LI>          gridwidth and gridheight
</UL>

<A NAME="PAGENUM-564"><P>Page 564</P></A>



<UL>
<LI>          anchor
<LI>          fill
<LI>          weightx and weighty
<LI>          insets, ipadx, and ipady
</UL>

<P>Listing 13.6, which is the program PropertySheet.java on the CD-ROM
accompanying this book, depicts an application that serves as an example of how you can use
these GridBagConstraints constraints in conjunction with GridBagLayout to create a
property sheet. It does not, however, have any code that affects the properties themselves,
such as font size.
</P>

<P>Figure 13.8 displays the output of this application, which is the user interface of
the property sheet described earlier in this chapter. Please refer to the diagram in figure
13.13 during the discussion of this listing.
</P>

<P>Listing 13.6
</P>
<PRE>
Line==================Java Source=================
001   //////////
002   // PropertySheet.java  Example of using GridBagLayout
003   // to position components within a container
004   //
005   // Author: James L. Weaver  JDK 1.1 beta1
006   //////////
007   import java.awt.*;
008
009   public class PropertySheet extends Frame{
010
011       public PropertySheet() {
012           super(&quot;Font Properties&quot;);
013
014           GridBagLayout gridbag = new GridBagLayout();
015           GridBagConstraints c = new GridBagConstraints();
016           setLayout(gridbag);
017           c.insets = new Insets(2,5,2,5);
018
019           // Font Label
020           c.gridx = 1;
021           c.gridy = 1;
</PRE>


<P><CENTER>
<a href="0555-0559.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0565-0570.html">Next</A>
</CENTER></P>







</BODY>
</HTML>

