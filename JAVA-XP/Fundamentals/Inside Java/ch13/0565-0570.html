<HTML>
<HEAD>


<TITLE>Inside Java:The New, Improved AWT: GUI Compo- nents, Containers, and Layout Manag- ers:EarthWeb Inc.-</TITLE>






<P><CENTER>
<a href="0560-0564.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0571-0574.html">Next</A>
</CENTER></P>

<A NAME="PAGENUM-565"><P>Page 565</P></A>


<PRE>
022           c.gridwidth = 1;
023           c.gridheight = 1;
024           c.anchor = GridBagConstraints.SOUTHWEST;
025           c.fill = GridBagConstraints.HORIZONTAL;
026           c.weightx = 1.0;
027           c.weighty = 0.0;
028           Label fontLabel = new Label(&quot;Font:&quot;);
029           gridbag.setConstraints(fontLabel, c);
030           add(fontLabel);
031
032           // Font Choice
033           c.gridx = 1;
034           c.gridy = 2;
035           c.gridwidth = 2;
036           c.gridheight = 1;
037           c.anchor = GridBagConstraints.NORTHWEST;
038           c.fill = GridBagConstraints.HORIZONTAL;
039           c.weightx = 1.0;
040           c.weighty = 0.0;
041           Choice fontChoice = new Choice();
042           fontChoice.addItem(&quot;Helvetica&quot;);
043           fontChoice.addItem(&quot;TimesRoman&quot;);
044           fontChoice.addItem(&quot;Courier&quot;);
045           gridbag.setConstraints(fontChoice, c);
046           add(fontChoice);
047
048           // Size Label
049           c.gridx = 3;
050           c.gridy = 1;
051           c.gridwidth = 1;
052           c.gridheight = 1;
053           c.anchor = GridBagConstraints.SOUTHWEST;
054           c.fill = GridBagConstraints.HORIZONTAL;
055           c.weightx = 1.0;
056           c.weighty = 0.0;
057           Label sizeLabel = new Label(&quot;Size:&quot;);
058           gridbag.setConstraints(sizeLabel, c);
059           add(sizeLabel);
060
</PRE>
<PRE>
<I>
                                          continues
</I>
</PRE>


<A NAME="PAGENUM-566"><P>Page 566</P></A>


<P>
Listing 13.6, Continued
</P>
<PRE>
061           // Size Choice
062           c.gridx = 3;
063           c.gridy = 2;
064           c.gridwidth = 1;
065           c.gridheight = 1;
066           c.anchor = GridBagConstraints.NORTHWEST;
067           c.fill = GridBagConstraints.HORIZONTAL;
068           c.weightx = 1.0;
069           c.weighty = 0.0;
070           Choice sizeChoice = new Choice();
071           sizeChoice.addItem(&quot;16&quot;);
072           sizeChoice.addItem(&quot;18&quot;);
073           sizeChoice.addItem(&quot;20&quot;);
074           gridbag.setConstraints(sizeChoice, c);
075           add(sizeChoice);
076
077           // OK Button
078           c.gridx = 4;
079           c.gridy = 2;
080           c.gridwidth = 1;
081           c.gridheight = 1;
082           c.anchor = GridBagConstraints.CENTER;
083           c.fill = GridBagConstraints.HORIZONTAL;
084           c.weightx = 1.0;
085           c.weighty = 0.0;
086           Button okButton = new Button(&quot;OK&quot;);
087           gridbag.setConstraints(okButton, c);
088           add(okButton);
089
090           // Cancel Button
091           c.gridx = 4;
092           c.gridy = 3;
093           c.gridwidth = 1;
094           c.gridheight = 1;
095           c.anchor = GridBagConstraints.CENTER;
096           c.fill = GridBagConstraints.HORIZONTAL;
097           c.weightx = 1.0;
</PRE>

<A NAME="PAGENUM-567"><P>Page 567</P></A>


<PRE>
098           c.weighty = 0.0;
099           Button cancelButton = new Button(&quot;Cancel&quot;);
100           gridbag.setConstraints(cancelButton, c);
101           add(cancelButton);
102
103           // Reset Button
104           c.gridx = 4;
105           c.gridy = 4;
106           c.gridwidth = 1;
107           c.gridheight = 1;
108           c.anchor = GridBagConstraints.CENTER;
109           c.fill = GridBagConstraints.HORIZONTAL;
110           c.weightx = 1.0;
111           c.weighty = 0.0;
112           Button resetButton = new Button(&quot;Reset&quot;);
113           gridbag.setConstraints(resetButton, c);
114           add(resetButton);
115
116           // Style Label
117           c.gridx = 1;
118           c.gridy = 5;
119           c.gridwidth = 1;
120           c.gridheight = 1;
121           c.anchor = GridBagConstraints.SOUTHWEST;
122           c.fill = GridBagConstraints.HORIZONTAL;
123           c.weightx = 1.0;
124           c.weighty = 0.0;
125           Label styleLabel = new Label(&quot;Style:&quot;);
126           gridbag.setConstraints(styleLabel, c);
127           add(styleLabel);
128
129           // Bold Checkbox
130           c.gridx = 1;
131           c.gridy = 6;
132           c.gridwidth = 1;
133           c.gridheight = 1;
134           c.anchor = GridBagConstraints.WEST;
135           c.fill = GridBagConstraints.HORIZONTAL;
136           c.weightx = 1.0;
</PRE>
<PRE>
<I>
                                          continues
</I>
</PRE>

<A NAME="PAGENUM-568"><P>Page 568</P></A>


<P>
Listing 13.6, Continued
</P>
<PRE>
137           c.weighty = 1.0;
138           Checkbox boldCheckbox = new Checkbox(&quot;Bold&quot;);
139           gridbag.setConstraints(boldCheckbox, c);
140           add(boldCheckbox);
141
142           // Italic Checkbox
143           c.gridx = 1;
144           c.gridy = 7;
145           c.gridwidth = 1;
146           c.gridheight = 1;
147           c.anchor = GridBagConstraints.WEST;
148           c.fill = GridBagConstraints.HORIZONTAL;
149           c.weightx = 1.0;
150           c.weighty = 1.0;
151           Checkbox italicCheckbox = new Checkbox(&quot;Italic&quot;, null, true);
152           gridbag.setConstraints(italicCheckbox, c);
153           add(italicCheckbox);
154
155           // Underline Checkbox
156           c.gridx = 1;
157           c.gridy = 8;
158           c.gridwidth = 1;
159           c.gridheight = 1;
160           c.anchor = GridBagConstraints.WEST;
161           c.fill = GridBagConstraints.HORIZONTAL;
162           c.weightx = 1.0;
163           c.weighty = 1.0;
164           Checkbox underCheckbox = new Checkbox(&quot;Underline&quot;);
165           gridbag.setConstraints(underCheckbox, c);
166           add(underCheckbox);
167
168           // Preview Label
169           c.gridx = 2;
170           c.gridy = 5;
171           c.gridwidth = 1;
172           c.gridheight = 1;
173           c.anchor = GridBagConstraints.SOUTHWEST;
</PRE>

<A NAME="PAGENUM-569"><P>Page 569</P></A>


<PRE>
174           c.fill = GridBagConstraints.HORIZONTAL;
175           c.weightx = 1.0;
176           c.weighty = 0.0;
177           Label previewLabel = new Label(&quot;Preview:&quot;);
178           gridbag.setConstraints(previewLabel, c);
179           add(previewLabel);
180
181           // Preview Canvas
182           c.gridx = 2;
183           c.gridy = 6;
184           c.gridwidth = 3;
185           c.gridheight = 3;
186           c.anchor = GridBagConstraints.CENTER;
187           c.fill = GridBagConstraints.BOTH;
188           c.weightx = 1.0;
189           c.weighty = 1.0;
190           Preview preview = new Preview();
191           gridbag.setConstraints(preview, c);
192           add(preview);
193       }
194
195       public static void main(String args[]) {
196           PropertySheet psFrame = new PropertySheet();
197           // Before showing the frame, make the size
198           // be dependent upon the sizes of the components.
199           psFrame.pack();
200           psFrame.setVisible(true);
201           return;
202       }
203
204       // The JDK 1.0 event model can be used with 1.1
205       // but it is not recommended, and it cannot be
206       // mixed in the same component with the new event model.
207       public boolean handleEvent(Event event) {
208            if (event.id == Event.WINDOW_DESTROY) {
209                setVisible(false);
210                dispose();
211                System.exit(0);
212                return true;
</PRE>
<PRE>
<I>
                                                                 continues
</I>
</PRE>
<A NAME="PAGENUM-570"><P>Page 570</P></A>


<P>
Listing 13.6, Continued
</P>
<PRE>
213            }
214            return super.handleEvent(event);
215       }
216   }
217
218   // This class draws a preview of the selected font, style, and size
219   class Preview extends Canvas
220   {
221       Preview() {
222           setFont(new Font(&quot;Helvetica&quot;, Font.ITALIC, 16));
223       }
224       public void paint(Graphics g) {
225           int w = this.getSize().width;
226           int h = this.getSize().height;
227           g.clearRect(0, 0, w _ 1, h _ 1);
228           g.drawRect(0, 0, w _ 1, h _ 1);
229           g.drawString(&quot;Sample&quot;, w / 4, h / 2);
230       }
231   }
</PRE>

<P>Line 14 creates an instance of GridBagLayout, and line 15 creates an instance
of GridBagConstraints. As mentioned previously, an instance of GridBagConstraints will
be associated with each added component, but because we will reuse the same instance,
it is only necessary to have one instance.
</P>

<P>Line 16 sets the layout manager of this Frame to GridBagLayout.
</P>

<P>Line 199 causes the Frame to be resized as required by the components managed by
the GridBagLayout.
</P>

<P>Beginning with line 19, 13 sections of code exist. Each section is separated by a
blank line, and does the following:
</P>

<UL>
<LI>          Specifies constraints
<LI>          Creates one of the 13 components
<LI>          Places the component in the Frame
</UL>

<P>Lines 19_30, for example, deal with the Font label: Constraints such as gridx and gridy
are set in lines 20_27, the Label is created in line 28, the constraints are associated with
the Label in line 29, and the Label is added to the Frame in line 30. The following
sections explain each of the constraints.
</P>

<P><CENTER>
<a href="0560-0564.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0571-0574.html">Next</A>
</CENTER></P>







</BODY>
</HTML>

