<HTML>
<HEAD>


<TITLE>Inside Java:Using Java Objects and Arrays:EarthWeb Inc.-</TITLE>






<P><CENTER>
<a href="0159-0163.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0170-0173.html">Next</A>
</CENTER></P>

<A NAME="PAGENUM-164"><P>Page 164</P></A>



<P><a href="images\ch05fg21.jpg"><img src="images\tn_ch05fg21.jpg"></a><BR>
Figure 5.21
<I>Ouput of ArraySort&#151; screen 1.</I>
</P>


<P><a href="images\ch05fg22.jpg"><img src="images\tn_ch05fg22.jpg"></a><BR>
Figure 5.22
<I>Ouput of ArraySort&#151; screen 2.</I>
</P>

<P>Listing 5.5 shows a program that sorts an array in either ascending or descending
order. This program exists in the file ArraySort.java on the CD-ROM that accompanies
this book. Figures 5.21 and 5.22 show the output of this program run, using the java
interpreter. After you compile this program, you can run it by using either of the
following command lines:
</P>
<PRE>
java ArraySort ascending
</PRE>

<P>or
</P>
<PRE>
java ArraySort descending
</PRE>


<A NAME="PAGENUM-165"><P>Page 165</P></A>

<P>This program expects a command line parameter (ascending or descending) to
determine how to sort the array.
</P>

<P>The main progam on lines 10_51 examines the argument passed to it in the
parameter &quot;String args[]&quot; to see if it contains the value ascending or descending. This value is used
to determine if the array xa[] defined on lines 13 and 14 is to be sorted in an ascending
or descending order.
</P>

<P>Before invoking the sort() method defined on lines 61_89, a copy of the array is made
on lines 43 and 44. Note that the
System.arraycopy() method is used to make this copy. The
sort() method implements a well known sorting algorithm called the
<I>shell sort</I>. You can examine the method
sort() to figure out how this algorithm works.
</P>

<P>
The method print() defined on lines 127_138 is used for printing the contents of the array.
</P>


<P>The method orderOK() defined on lines 96_121 is used as a support function in the
method sort() to determine if the order of the two elements being compared is correct.
</P>

<P>
Listing 5.5
</P>

<PRE>
Line==================Java Source=================
001 /**
002  * ArraySort: This sorts a collection of integer
003  * values represented by an array.
004  *
005  * Author: Karanjit S.G.S. Siyan
006  *
007  */
008 class ArraySort
009 {
010     public static void main(String[] args)
011     {
012         boolean sortAscending = true; // Controls type of sort.
013         int[] xa = { _20, 500, 200, 100, 300, _5,
014                        0, 800, 600, 250, 700, _100};
015
016         if (args.length != 1)
017         {
018             System.out.println(&quot;Usage:\n\tjava ArraySort
&Acirc;[ascending|descending]&quot;);
019             System.exit(1);
</PRE>
<PRE>
                                                       <I>continues</I>
</PRE>

<A NAME="PAGENUM-166"><P>Page 166</P></A>



<P>Listing 5.5, Continued
</P>
<PRE>
020
021         }  // end if
022
023         if (args[0].equalsIgnoreCase(&quot;ascending&quot;))
024         {
025             sortAscending = true;
026
027         }
028         else if (args[0].equalsIgnoreCase(&quot;descending&quot;))
029         {
030             sortAscending = false;
031
032         }
033         else
034         {
035             System.out.println(&quot;Illegal parameter to program.&quot;);
036             System.exit(1);
037
038         }  // end if
039
040         // Make a copy of the array so that the original
041         // is not modified.
042
043         int[] ya = new int[xa.length];
044         System.arraycopy(xa, 0, ya, 0, xa.length);
045         sort(sortAscending, ya);
046         print(sortAscending ?
047                 &quot;Ascending order&quot;:
048                 &quot;Descending order&quot;, ya);
049
050
051     } // end main
052
053
054    /*
055     * sort: This is the sort procedure that sorts
056     * the specified array in an ascending or

</PRE>



<A NAME="PAGENUM-167"><P>Page 167</P></A>


<PRE>
057     * descending order. This procedure implements
058     * the shell sort algorithm.
059     *
060     */
061     static void sort(boolean sortAsc, int st[])
062     {
063
064         for (int gap = st.length/2; gap &gt; 0; gap /= 2)
065         {
066             for (int x = gap; x &lt; st.length; x++)
067             {
068                 for (int y = x_gap; y &gt;= 0; y_gap)
069                 {
070                     int temp;
071
072                     if (orderOK(sortAsc, st[y], st[y+gap]))
073                     {
074                         break;
075
076                     }  // end if
077
078                     // Exchange
079                     temp = st[y];
080                     st[y] = st[y+gap];
081                     st[y+gap] = temp;
082
083                 }  // end for
084
085             }  // end for
086
087         } // end for
088
089     }  // end sort
090
091    /*
092     * orderOK: This determines if the existing order of the
093     * two elements in the array is OK.
094     *
</PRE>
<PRE>
                                                       <I>continues</I>
</PRE>

<A NAME="PAGENUM-168"><P>Page 168</P></A>




<P>Listing 5.5, Continued
</P>
<PRE>
095     */
096     static boolean orderOK(boolean sortAsc, int xe, int ye)
097     {
098         boolean result = false;
099
100         if (sortAsc)
101         {
102             if (xe &lt;= ye)
103             {
104                 result = true;
105
106             }  // end if
107         }
108         else
109         {
110
111             if (xe &gt; ye)
112             {
113                 result = true;
114
115             }  // end if
116
117         }  // end if
118
119         return result;
120
121     }  // end orderOK
122
123    /*
124     * print: This is used to print the
125     * values of the array.
126     */
127     static void print(String msg, int[] xa)
128     {
129         System.out.println(msg+&quot;\n&quot;);
</PRE>


<A NAME="PAGENUM-169"><P>Page 169</P></A>



<PRE>
130
131         for (int x = 0; x &lt; xa.length; x++)
132         {
133
134             System.out.println(xa[x]);
135
136         }  // end for
137
138     }  // end print
139
140 }  // end ArraySort
</PRE>


<H3><A NAME="ch05_ 13">
Using Strings in Java
</A></H3>

<P>Strings are a sequence of characters and use many types of data, such as names
of people, addresses, cities, and so on. In Java, the string data type is encapsulated in
a special class called the String class. The String class is defined in the package
java.lang. This package is imported by default in all Java programs.
</P>

<P>The String class has several constructors and this provides many ways of
creating strings. These constructors are listed next:
</P>

<PRE>
public String();
public String(String value);
public String(char[] value);
public String(char[] value, int offset, int count);
public String(char[] value);
public String(byte[] ascii, int hibyte, int offset, int count);
public String(byte[] ascii, int hibyte);
public String(StringBuffer buffer);
</PRE>

<P>The value of hibyte in some of the constructors contains the upper 8 bits that are
made the high byte of each character to transform it into a Unicode character.
</P>

<P>Here are some common examples of creating String objects.
</P>

<PRE>
String name1 = new String(&quot;Saint Germain&quot;);
String name2 = &quot;Saint Germain&quot;;
</PRE>

<P>The first definition shows the conventional way of invoking a constructor to create
an object. The second definition is a concise way of stating the constructor. On seeing
a sequence of characters in quotes, the compiler instantiates the String object
and initializes it to the quoted string. In the first definition, a temporary String object
is
</P>

<P><CENTER>
<a href="0159-0163.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0170-0173.html">Next</A>
</CENTER></P>







</BODY>
</HTML>

