<HTML>
<HEAD>


<TITLE>Inside Java:Using Java Objects and Arrays:EarthWeb Inc.-</TITLE>






<P><CENTER>
<a href="0123-0126.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0132-0137.html">Next</A>
</CENTER></P>

<A NAME="PAGENUM-127"><P>Page 127</P></A>


<P>no constructor has been called to set its value, the object variable has a value of null.
In line 46, the value of object variable
futureDate is set to todate. The assignment
statement does not create a copy of the value of
todate; it sets futureDate to reference the same
date object that is referenced by todate (see fig. 5.7). When
futureDate is modified in line 47, by the call to method
setTime(), the value of todate is also modified, because
futureDate and todate are referencing the same date object (see fig. 5.8). You will learn to solve this type of
problem 
</P>



<P><a href="images\ch05fg06.jpg"><img src="images\tn_ch05fg06.jpg"></a><BR>
Figure 5.6
<I>Setting of object variables&#151;
Phase 1.</I>
</P>


<P><a href="images\ch05fg07.jpg"><img src="images\tn_ch05fg07.jpg"></a><BR>
Figure 5.7
<I>Setting of object variables&#151;
Phase 2.</I>
</P>

<BR>

<P><a href="images\ch05fg08.jpg"><img src="images\tn_ch05fg08.jpg"></a><BR>
Figure 5.8
<I>Setting of object variables&#151;
Phase 3.</I>
</P>

<P>in listing 5.2, which presents a variation of the program in listing 5.1. But before
you examine listing 5.2, you should examine the remainder of the program in listing 5.1.
</P>

<P>Line 69 contains a display of the future date in terms of GMT. The
method toGMTString()
</P>


<A NAME="PAGENUM-128"><P>Page 128</P></A>



<P>displays the GMT version of the date value:
</P>

<P><a href="images\ch05fg09.jpg"><img src="images\tn_ch05fg09.jpg"></a><BR>
Figure 5.9
<I>Definition of Date.toGMT
String().</I>
</P>

<PRE>
Future date in GMT is 17 Jun 1997 17:49:05 GMT
</PRE>

<P>The definition of method toGMTString() can be obtained by using javadoc and an
HTML browser to view the generated files (see fig. 5.9).
</P>

<P>Line 71 computes the time zone offset for
futureDate, and line 72 displays this value:
</P>
<PRE>
Timezone offset is 360 minutes for Tue Jun 17 11:49:05 Mountain Daylight
</PRE>


<P><a href="images\ch05fg10.jpg"><img src="images\tn_ch05fg10.jpg"></a><BR>
Figure 5.10
<I>Definition of Date.getTimezone
Offset().</I>
</P>


<PRE>
Time 1997
</PRE>

<P>The method getTimezoneOffset() displays the time zone offset in minutes from GMT.
The definition of method getTimezoneOffset() can be obtained by using javadoc and an
HTML browser to view the topic(see fig. 5.10).
</P>

<P>Lines 77_100 show an example of how you can use the methods in the Date class
to compute the amount of time taken for each execution of the loop.
</P>

<A NAME="PAGENUM-129"><P>Page 129</P></A>



<P>Line 78 is used to get a timestamp in milliseconds since midnight Jan 1, 1970
GMT. Notice the slightly unusual way of calling the
getTime() method when compared with how this method was called earlier in line 37:
</P>

<PRE>
ms = (new Date()).getTime();
</PRE>

<P>The use of new Date() returns an object of class Date. Normally, you would assign
this object to a Date object variable, and then you would invoke the methods for this
object. If, however, you only need to call just once, only one of the methods of that Date
object, the previous syntax is more compact. The compiler creates a temporary object variable
to store the value returned by new Date(), but this is a temporary variable name that is
internal to the Java compiler and not available to the programmer. Similarly, note that line
95 contains a similar statement to line 78, to get the timestamp at the end of the loop:
</P>
<PRE>
ms = (new Date()).getTime();
</PRE>

<P>The variable deltaT is used to hold the time for each iteration of the outer
for loop in milliseconds, and this time is displayed by line 97:
</P>
<PRE>
Loop time = 550
Loop time = 870
Loop time = 880
Loop time = 880
Loop time = 880
</PRE>

<P>The inner for loop does mathematical calculations.
</P>
<P>
<P>

<CENTER>
<TABLE BGCOLOR="#FFFF99">
<TR><TD><B>
NOTE
</B></TD></TR>
<TR><TD>
<BLOCKQUOTE>
The timing values for the loop iterations involving Math class functions are
different because they depend on the algorithm used to compute the Math functions. For
certain values, the arithmetic series used to implement trigonometric functions
converge rapidly, and take less time to compute. For values such as zero (0), many Math
class functions are able to make a quick check and return almost immediately.
</BLOCKQUOTE></TD></TR>
</TABLE></CENTER>
</P>
<P>Listing 5.1
</P>
<PRE>
Line==================Java Source=================
001 /**
002  * DateUse: This demonstrates the use of objects using
003  * the predefined date class in package java.util.
004  *
005  * Author: Karanjit S. G. S. Siyan<BR>


</PRE>
<PRE>
                                                       <I>continues</I>
</PRE>

<A NAME="PAGENUM-130"><P>Page 130</P></A>



<P>Listing 5.1, Continued
</P>

<PRE>
006  *
007  */
008
009 import java.util.Date;
010
011 class DateUse
012 {
013
014     public static void main(String args[])
015     {
016         // Example 1
017
018         Date    todate = new Date();
019         System.out.println(&quot;Today's date is &quot;+todate);
020
021         Date    date1 = null;
022         Date    date2 = null;
023         Date    date3 = null;
024
025         System.out.println(&quot;Printing undefined date value &quot;+date1);
026
027         date1 = new Date(100, 0, 1);
028         date2 = new Date(100, 9, 16, 12, 55);
029         date3 = new Date(100, 11, 31, 23, 59, 59);
030
031         System.out.println(&quot;First date is &quot;+date1);
032         System.out.println(&quot;Second date is &quot;+date2);
033         System.out.println(&quot;Third date is &quot;+date3);
034
035         long    ms;
036
037         ms = todate.getTime();
038         System.out.println(&quot;Milliseconds since midnight Jan 1, 1970 = &quot;+ms);
039
040
041         long    days = 333L;
042         long    msPerDay = 24*3600000L;
043
</PRE>


<A NAME="PAGENUM-131"><P>Page 131</P></A>


<PRE>
044         Date    futureDate;
045
046         futureDate = todate;
047         futureDate.setTime(ms + days*msPerDay);
048
049         System.out.println(&quot;\nFuture date after &quot;+days+&quot; days is
&Acirc;&quot;+futureDate);
050         System.out.println(&quot;Today's date is &quot;+todate);
051
052         if (futureDate.equals(todate))
053         {
054             System.out.println(&quot;This is indeed strange! Let's verify it.&quot;);
055             System.out.println(&quot;Examining todays date again:\n\tIt's
&Acirc;&quot;+todate);
056             System.out.println(&quot;\tWhy is the future date the same as today's
&Acirc;date?&quot;);
057         }
058         else if (futureDate.after(todate))
059         {
060             System.out.println(&quot;Yes. As expected the future date is indeed
&Acirc;after today's date.&quot;);
061         }
062         else
063         {
064             System.out.println(&quot;Dates are realy messed up.&quot;);
065
066         }  // end if
067
068
069         System.out.println(&quot;Future date in GMT is
&Acirc;&quot;+futureDate.toGMTString());
070
071         int tzOffset = todate.getTimezoneOffset();
072         System.out.println(&quot;Timezone offset is &quot;+tzOffset+&quot; minutes for
&Acirc;&quot;+todate);
073
074
075         // Example 2
076
</PRE>
<PRE>
                                                       <I>continues</I>
</PRE>


<P><CENTER>
<a href="0123-0126.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0132-0137.html">Next</A>
</CENTER></P>







</BODY>
</HTML>

