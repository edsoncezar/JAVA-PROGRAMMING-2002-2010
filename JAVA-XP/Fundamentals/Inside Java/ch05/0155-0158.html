<HTML>
<HEAD>


<TITLE>Inside Java:Using Java Objects and Arrays:EarthWeb Inc.-</TITLE>






<P><CENTER>
<a href="0151-0154.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0159-0163.html">Next</A>
</CENTER></P>

<A NAME="PAGENUM-155"><P>Page 155</P></A><br>



<PRE>
27         System.out.println(&quot;Message 3 appears in file&quot;);
28
29         System.out.println(&quot;Message 4 appears in file&quot;);
30
31         // Restore the redirection to the default
32         System.out = oldstream;
</PRE>


<P><a href="images\ch05fg14.jpg"><img src="images\tn_ch05fg14.jpg"></a><BR>
Figure 5.14
<I>Output of program in IoUse.java.</I>
</P>


<PRE>
33
34         System.out.println(&quot;Message 5 appears on console&quot;);
35
36         System.out.println(&quot;Message 6 appears on console&quot;);
37
38     }  // end main
39
40 }  // end IoUse
</PRE>

<H3><A NAME="ch05_ 7">
Using Arrays in Java
</A></H3>

<P>Arrays are a collection of objects or data types that are stored in cells. Each object
so stored is called an <I>element of the array</I> (see fig. 5.15). Each element of the array is of
the same type. The cells in an array may be considered to be slots in which objects can
be stored, or from which objects can be retrieved. The cells are numbered with the
first element always numbered as zero. In the example of figure 5.15, there are 10 cells that
are
</P>

<A NAME="PAGENUM-156"><P>Page 156</P></A>



<P><a href="images\ch05fg15.jpg"><img src="images\tn_ch05fg15.jpg"></a><BR>
Figure 5.15
<I>Array of size 10.</I>
</P>

<P>numbered from 0_9. Each of the array elements are accessed by using the cell
number, also called the <I>index</I>.
</P>

<P>In the array in figure 5.15, for example, the first element of the array is referenced by
a[0], the second element by a[1], and the last element by a[9]. The number of elements in
an array is called the <I>size</I> of the array. Therefore, if the size of the array is
<I>N</I>, the index will be from the value of 0 to
<I>N</I>_1, with index 0 referencing the first element and index
<I>N</I>_1 referencing the last element. The index value of the array is checked at runtime, and if it
is outside the valid range for the index, an exception called
IndexOutOfBoundsException is generated. The automatic check of index ranges makes Java a more robust and
secure language.
</P>

<H4><A NAME="ch05_ 8">
Creating Arrays
</A></H4>

<P>Arrays are created by using the following syntax:
</P>

<PRE>
type arrayname = new type[size];
</PRE>

<P>or
</P>

<PRE>
type[] arrayname = new type[size];
</PRE>

<P>The <I>type</I> is any of the data types or class names. The
<I>arrayname</I> is the name of the array being defined, and the
<I>size</I> is the size of the array being defined. The use of the
new operator allocates space for the array.
</P>

<A NAME="PAGENUM-157"><P>Page 157</P></A>



<P>Consider how you can use the previous syntax to define an array of integers such
as that shown in figure 5.15.
</P>

<PRE>
int a[] = new int[10];
</PRE>

<P>To declare an array of 100 float values, you could use the following syntax:
</P>
<PRE>
float fval[] = new float[100];
</PRE>

<P>You can also use an alternative syntax for the array, and define these arrays as follows:
</P>
<PRE>
int[] a = new int[10];
float[] fval = new float[100];
</PRE>

<P>The alternative syntax is identical to the earlier syntax for defining arrays; it is
considered to be more intuitive in situations where an array of method types are being
defined. Suppose that you want to define a function that returns an array of integers. If you
use the first syntax to define this array named xtab, it would look like the following:
</P>
<PRE>
int xtab()[]
</PRE>

<P>The juxtaposition of () with [] is confusing. The following alternative syntax is simpler:
</P>
<PRE>
int[] xtab()
</PRE>

<P>In the preceding declaration, you can more easily see that the return type of the
method xtab() is int[], an array of integers.
</P>

<P>It is the use of the new operator, which actually allocates space. Without this
operator, you are just declaring that a variable is an array. Consider the following example,
where you want to declare an array of 50 elements, each of type char.
</P>
<PRE>
char[] b;
</PRE>

<P>In the preceding statement, b is declared as an array, but you cannot access any
element of this array unless you allocate space for the array. To complete the definition,
you must have the following statement:
</P>
<PRE>
b = new char[50];
</PRE>

<P>In this definition of the array of 50 characters, the declaration of the array and
its allocation (constructing the array object) have been separated out. You can
combine these two steps into a single step, as shown next:
</P>
<PRE>
char[] b = new char[50];
</PRE>



<A NAME="PAGENUM-158"><P>Page 158</P></A>

<H4><A NAME="ch05_ 9">
Initializing Arrays
</A></H4>

<P>Arrays can be used to hold large amounts of elements of the same data type in each
of its cells. You can initialize the cells by reading data from a file or a network connection.
If the array data is small and known at compile time, you can use the following syntax
to initialize the array:
</P>

<PRE>
type arrayname[] = {e1, e2, &#133; eN};
</PRE>

<P>or
</P>
<PRE>
type[] arrayname = {e1, e2, &#133; eN};
</PRE>


<P>The preceding syntax defines an array with the name
<I>arrayname</I> where each element is of type
<I>type</I>, and the size of the array is determined by the number of elements listed in
{ }. Moreover, each of the array elements is initialized in order by the values listed in {
}. This type of syntax takes care of declaring, instantiating, and initializing the array in
a single statement. Notice also that there is no
new used to specify the size of the array to be allocated because the size is determined by the number of elements in the
initialization list { }.
</P>

<P>The following are some examples of this type of syntax:
</P>
<PRE>
int[]     xa = { 0, _1, 3, 4, 7, 10}; // defines and initializes an
             //  array of 6 elements.
char[] vowels = {`A', `E', `I', `O', `U'); // An initialized
    // char array of 5 elements.


double[] samples = {3.2, 56.2, 345.43};
// An initialized array of 3 doubles.
</PRE>

<P>In all the examples considered so far, the size of the array was known at compile
time. Java permits you to define dynamically sized arrays. As an example, consider
the following:
</P>
<PRE>
int     size;
int[]     points;

size = computeArraySize(); // Method that
       // computes array size.
points = new int[size];
</PRE>

<P>In this example, the size of the array was not known at compile time. The
method computeArraySize() was used to compute the size of the array, and this size was used in
the last statement to compute the size.
</P>

<P><CENTER>
<a href="0151-0154.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0159-0163.html">Next</A>
</CENTER></P>







</BODY>
</HTML>

