<HTML>
<HEAD>


<TITLE>Inside Java:Experimenting with Java Data Types and Variables:EarthWeb Inc.-</TITLE>






<P><CENTER>
<a href="0044-0048.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0053-0057.html">Next</A>
</CENTER></P>

<A NAME="PAGENUM-49"><P>Page 49</P></A>


<PRE>
18            float   f7;
19
20            // Example 1
21            f3 = f1/f2;
22            System.out.println(&quot;f3 = &quot;+f3);
23
24            // Example 2
25            f1 = 0D;
26            f4 = f3/f1;
27            System.out.println(&quot;f4 = &quot;+f4);
28
29            // Example 3
30            f5 = 2.0 * f3;
31            System.out.println(&quot;f5 = &quot;+f5);
32
33            // Example 4
34            f6 = 1/0f;
35            f6 = f6/f4;
36            System.out.println(&quot;f6 = &quot;+f6);
37
38            double d1 = 1;
39            double d2 = 3.0f;
40
41            // Example 5
42            f6 = d1;
43
44            // Example 6
45            d1 = d1/d2;
46            System.out.println(&quot;d1 = &quot;+d1);
47
48            // Example 7
49            f1 = f3/d2;
50            System.out.println(&quot;f1 = &quot;+f1);
51
52
53       } // end main
54
55 } // end FloatEval
</PRE>



<A NAME="PAGENUM-50"><P>Page 50</P></A>



<P>Lines 12_18 define floating point variables. Lines 12 and 13 additionally assign an
initial value to the floating point variable. The definition of variable f1 on line 12 in listing
3.2 will produce a compiler error message. Can you tell why?
</P>

<PRE>
float     f1 = 12.0;
</PRE>

<P>The reason for the error is that the number 12.0 is treated as a double type, and
you cannot assign a double to a float. The definition and initialization of float variable
f2 is correct because the initialization value has been explicitly defined as a float
number:
</P>

<PRE>
float     f2 = 24f;
</PRE>

<P>Next, examine lines 20_22 in Example 1 in listing 3.2. Line 21 performs a division of
two float variables. The result is a float number and can be assigned to a float variable.
From the given initial values of f1 and f2, the value of
f3 should be 0.5.
</P>

<PRE>
// Example 1
f3 = f1/f2;
System.out.println(&quot;f3 = &quot;+f3);
</PRE>

<P>Next, examine lines 24_27 in Example 2 in listing 3.2. Line 25 performs an assignment of
a double zero to a float variable. This will produce a compiler error message because
even though the value zero can be assigned to a float variable, in this case, it is double
zero, and a double cannot be assigned to a float. The division on line 26 will produce a
result that is Inf.
</P>

<PRE>
// Example 2
f1 = 0D;
f4 = f3/f1;
System.out.println(&quot;f4 = &quot;+f4);
</PRE>

<P>Next, examine lines 29_31 in Example 3 in listing 3.2. Line 30 performs an
arithmetic multiplication and an assignment to a float variable. At first sight this may appear to
be correct, but on closer examination you will notice that 2.0 is a double. When a double
is involved in an arithmetic expression, the result is a double, and this cannot be
assigned to a float variable.
</P>

<PRE>
// Example 3
f5 = 2.0 * f3;
System.out.println(&quot;f5 = &quot;+f5);
</PRE>

<P>Next, examine lines 33_36 in Example 4 in listing 3.2. Line 34 performs an
arithmetic division by a float 0. The result is the value Inf and is assigned to f6. In line 35,
f6 is divided by f4, whose value is also Inf (see Example 2). The result of the division is a
NaN value, and this is assigned to f6.
</P>



<A NAME="PAGENUM-51"><P>Page 51</P></A>



<PRE>
// Example 4
f6 = 1/0f;
f6 = f6/f4;
System.out.println(&quot;f6 = &quot;+f6);
</PRE>

<P>Next, examine lines 41_42 in Example 5 in listing 3.2. Line 42 assigns a double variable
to a float variable. This will produce a compiler error, even though the double value is in
the range of the float variable.
</P>

<PRE>
// Example 5
f6 = d1;
</PRE>

<P>Next, examine lines 44_46 in Example 6 in listing 3.2. Line 45 assigns the result of
a division of two double variables to a double variable. This statement is correct, and
will produce a value of 0.333333.
</P>

<PRE>
// Example 6
d1 = d1/d2;
System.out.println(&quot;d1 = &quot;+d1);
</PRE>

<P>Next, examine lines 48_50 in Example 7 in listing 3.2. Line 49 divides a float variable with
a double variable. The result is a double, and cannot be assigned to a float variable.
The compiler therefore produces an error message.
</P>

<PRE>
// Example 7
f1 = f3/d2;
System.out.println(&quot;f1 = &quot;+f1);
</PRE>

<P>Notice that there are five compiler error messages that are produced, and this is
consistent with the previous discussion. These error messages are listed here for your
reference.
</P>

<PRE>
floateval.java(12): Incompatible type for declaration. Explicit cast needed to convert double to float.
           float   f1 = 12.0;
                   ^
floateval.java(25): Incompatible type for =. Explicit cast needed to convert double to float.
           f1 = 0D;
              ^
floateval.java(30): Incompatible type for =. Explicit cast needed to convert double to float.
           f5 = 2.0 * f3;
              ^
floateval.java(42): Incompatible type for =. Explicit cast needed to convert double to float.

</PRE>




<A NAME="PAGENUM-52"><P>Page 52</P></A>




<PRE>
           f6 = d1;
              ^
floateval.java(49): Incompatible type for =. Explicit cast needed to convert double to float.
           f1 = f3/d2;
              ^
5 errors
</PRE>

<P>To eliminate the errors in listing 3.2, you must explicitly define the floating point
numbers as float or double, or make use of the cast operator to perform the conversion. To cast
an expression from type1 to type2, use the following syntax:
</P>

<P>     (type2) type1_expr
</P>

<P>Listing 3.3 shows the corrected version of FloatEval.java. The source code for this
listing is in file FloatEval2.java on the CD-ROM at the back of this book. Compare this
listing with that in listing 3.2 to see the corrections that have been made.
</P>

<P>Listing 3.3
</P>

<PRE>
Line==================Java Source=================
01 /**
02  * FloatEval2: Test program that contains the
03  * corrected syntax errors of FloatEval.java.
04  *
05  * Author: Karanjit S.G.S. Siyan
06  */
07 class FloatEval2
08 {
09      public static void main(String args[])
10      {
11            float   f1 = 12.0f;
12            float   f2 = 24f;
13            float   f3;
14            float   f4;
15            float   f5;
16            float   f6;
17            float   f7;
18
19            // Example 1
20            f3 = f1/f2;
</PRE>



<P><CENTER>
<a href="0044-0048.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0053-0057.html">Next</A>
</CENTER></P>







</BODY>
</HTML>

