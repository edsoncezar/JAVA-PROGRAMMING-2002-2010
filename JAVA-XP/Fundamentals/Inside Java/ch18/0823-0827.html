<HTML>
<HEAD>


<TITLE>Inside Java:Servlets and the Java Web Server:EarthWeb Inc.-</TITLE>






<P><CENTER>
<a href="0819-0822.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0828-0831.html">Next</A>
</CENTER></P>

<A NAME="PAGENUM-823"><P>Page 823</P></A>


<TABLE>

<TR><TD>
Method
</TD><TD>
Description
</TD></TR></TABLE>


<P>
The ServletResponse interface defines a general way to create the response to
the service request. At this generic level, the response is content with only a MIME
identifier and optional length. To write the actual content of the response, the servlet
calls getOutputStream() to get a ServletOutputStream and then makes the necessary
print() calls to compose the response. Table 18.6 lists the methods of ServletResponse.
</P>

<P><B>Table 18.6</B><BR>
Methods of the ServletResponse Interface
</P>

<TABLE>

<TR><TD>
Method
</TD><TD>
Description
</TD></TR><TR><TD>
void setContentType(String)
</TD><TD>
Sets the MIME type of the response.
</TD></TR><TR><TD>
void setContentLength(int)
</TD><TD>
Sets the content length for the 
response.
</TD></TR><TR><TD>
ServletOutputStream getOutputStream()
</TD><TD>
Returns an output stream used for
writing response data to the client.
</TD></TR></TABLE>

<P><B>Methods of the GenericServlet Class</B>
</P>

<P>In general, the GenericServlet class is a base implementation class for any
transport-independent servlet, and specifically it is used for any servlet that can be invoked from
a server-side include. GenericServlet implements the Servlet interface, supplying a
base implementation of the required methods, and provides convenient access to
information from the servlet's ServletContext. In addition to implementing
init(), destroy(), service(), and getServletInfo() methods required by the Servlet interface, GenericServlet provides
the following methods, listed in table 18.7:
</P>

<P><B>Table 18.7</B><BR>
Methods of the GenericServlet Class
</P>

<TABLE> 

<TR><TD>
Method
</TD><TD>
Description
</TD></TR><TR><TD>
String getInitParameter(String)
</TD><TD>
Returns the value of an initialization parameter
of the servlet as specified in either the servlet.properties file or as an attribute in
the
</TD></TR></TABLE>

<A NAME="PAGENUM-824"><P>Page 824</P></A>

<TABLE>

<TR><TD>
</TD><TD>
&lt;servlet&gt; tag for server-side includes servlets.
</TD></TR><TR><TD>
Hashtable getInitParameters()
</TD><TD>
Returns a name/value pair hashtable of
the initialization parameters of the servlet.
</TD></TR><TR><TD>
ServletContext getServeletContext()
</TD><TD>
Returns the servlet context.
</TD></TR><TR><TD>
void log(String)
</TD><TD>
Logs a message into the servlet log file.
</TD></TR></TABLE>

<P><B>Methods of the ServletInputStream Abstract Class</B>
</P>

<P>ServletInputStream is an abstract subclass of InputStream that defines the
readLine(byte[], int offset, int count) method, which reads bytes into the byte array starting at the offset
until either the array is filled or a newline character is read.
</P>

<P><B>Methods of the ServletOutputStream Abstract Class</B>
</P>

<P>ServletOutputStream is an abstract subclass of OutputStream that is similar to
a PrintStream, but only defines methods to print the most commonly used network
data types (ints, longs, and Strings). You must convert other data types by using the
toString() method before printing to the ServletOutputStream. The implementation
of ServletOutputStream handles conversion from internal Unicode encoding of
characters to US-ASCII (generally used by Internet protocols). This class also defines methods
to print and terminate the line with the Internet-standard CR/LF combination. Table
18.8 lists the methods of the ServletOutputStream class.
</P>

<P><B>Table 18.8</B><BR>
Methods of the ServletOutputStream Class
</P>

<TABLE>

<TR><TD>
Method
</TD><TD>
Description
</TD></TR><TR><TD>
void print(int)
</TD><TD>
Prints an integer.
</TD></TR><TR><TD>
void println(int)
</TD><TD>
Prints an integer followed by a CRLF.
</TD></TR><TR><TD>
void print(long)
</TD><TD>
Prints a long integer.
</TD></TR><TR><TD>
void println(long)
</TD><TD>
Prints a long integer followed by a CRLF.
</TD></TR><TR><TD>
void print(String)
</TD><TD>
Prints an ASCII string.
</TD></TR><TR><TD>
void println(String)
</TD><TD>
Prints an ASCII string followed by CRLF.
</TD></TR><TR><TD>
void println()
</TD><TD>
Prints a CRLF.
</TD></TR></TABLE>

<A NAME="PAGENUM-825"><P>Page 825</P></A>

<TABLE>

<TR><TD>
Method
</TD><TD>
Description
</TD></TR></TABLE>

<H4><A NAME="ch18_ 8">
The java.servlet.http Package
</A></H4>

<P>The java.servlet.http package supports servlets that specifically use HTTP.
HTTP provides additional request information and response features than what is available
to generic servlets. This package contains two interface classes, two
implementation classes, and the implementation of a servlet class intended to be subclassed.
These HTTP-specific classes are:
</P>

<UL>
<LI>          HttpServlet
<LI>          HttpServletRequest
<LI>          HttpServletResponse
<LI>          FormServlet
<LI>          HttpUtils
</UL>

<P>All are described in the following sections.
</P>

<P><B>HttpServlet Abstract Class</B>
</P>

<P>You subclass HttpServlet, itself an abstract subclass of GenericServlet, to
implement your HTTP-specific servlets. HttpServlet handles the cast conversion between
the generic ServletRequest and ServletResponse objects, and their HTTP-specific
subclasses HttpServletRequest and HttpServletResponse. You override the
service     (HttpServletRequest,
HttpServletResponse) method in your servlet class to perform the
servlet processing function.<B> </B>Table 18.9 lists the methods of the HttpServlet class.
</P>

<P><B>Table 18.9</B><BR>
Methods of the HttpServlet Class
</P>

<TABLE>

<TR><TD>
Method
</TD><TD>
Description
</TD></TR><TR><TD>
void service(ServletRequest,
ServletResponse)
</TD><TD>
Performs the cast conversion between generic
and HTTP-specific request and response
objects. Normally you should not override
</TD></TR></TABLE>
<A NAME="PAGENUM-826"><P>Page 826</P></A>

<TABLE>

<TR><TD>
</TD><TD>
this method.
</TD></TR><TR><TD>
void service(HttpServletRequest,
HttpServletResponse)
</TD><TD>
Override to accept HTTP service requests.
</TD></TR></TABLE>

<P><B>HttpServletRequest Interface Class</B>
</P>

<P>HttpServletRequest is a subclass of ServletRequest that handles request
information, other than content identification, contained in an HTTP request header. Beyond that
of the base ServletRequest, the information available from HttpServletRequest falls
into four general categories:
</P>

<UL>
<LI>          General information about the request
<LI>          Information concerning the URL
<LI>          Authentication-related information
<LI>          Access information to the original HTTP header
</UL>

<P>The exact information that is available when using these calls is described in the
following sections.
</P>

<P><B>General Request Information</B>
</P>

<P>These methods provide you with general information about the request, including
the name of the method used to access the data and any query information. This
group includes the getMethod() and
getQueryString() methods. The parameters of the request
are obtained by using the getParameters() method, defined in
ServletRequest.
</P>

<P><B>URL Information</B>
</P>

<P>These methods provide you with information about the requested URL, its
major components, and its local translation.
</P>

<P><B>Authentication-Related Information</B>
</P>

<P>The servlet provides you with some very weak access control by using name
and address information about the client as provided by
getHostName() and getHostAddress(). The type of HTTP-level authentication in use is available using
getAuthType(). For connections running in basic mode,
getRemoteUser() returns the user identification.
</P>
<A NAME="PAGENUM-827"><P>Page 827</P></A>



<P><B>Access to HTTP Request Header Fields</B>
</P>

<P>HttpServletRequest provides you with a means to get direct access to the HTTP
request header fields to get information not explicitly supported by an
HttpServletRequest method. Examples include user-agent, referer, preferred languages, accepted content
encodings, and client-state (cookie) information, as well as any non-standard header fields.
</P>

<P>Instead of using an enumerator, the getHeader() and
getHeaderName() methods take an index into the header. An index of 0 retrieves the first header field; null is returned if the
index is greater than the number of fields available. You can also access request header
fields by name, which happens to be the easiest approach. In this case, the request header
is searched for a matching field name and returns the field value. Use
getHeader(), getIntHeader(), or getDateHeader() depending on the desired data conversion.
</P>

<P>Table 18.10 summarizes the methods of the HttpServletRequest class.
</P>

<P><B>Table 18.10</B><BR>
Methods of the HttpServletRequest Class
</P>

<TABLE>

<TR><TD>
Method
</TD><TD>
Description
</TD></TR><TR><TD>
String getMethod()
</TD><TD>
Returns the method used in the request.
</TD></TR><TR><TD>
String getQueryString()
</TD><TD>
Returns the part of the URI following the `?'.
</TD></TR><TR><TD>
String getRequestURI()
</TD><TD>
Returns the request URI.
</TD></TR><TR><TD>
String getServletPath()
</TD><TD>
Returns the part of the request URI that refers to
the servlet being invoked.
</TD></TR><TR><TD>
String getPathInfo()
</TD><TD>
Returns optional, extra path information
following the servlet path, but preceding the query string.
</TD></TR><TR><TD>
String getPathTranslated()
</TD><TD>
Returns extra path information translated to a
real path by using the alias.properties rules.
</TD></TR><TR><TD>
String getRequestPath()
</TD><TD>
Returns the part of the request URI that
corresponds to the servlet path plus the optional, extra
path information.
</TD></TR><TR><TD>
String getAuthType()
</TD><TD>
Returns the authentication scheme of the request,
or null if none.
</TD></TR><TR><TD>
String getRemoteUser()
</TD><TD>
Returns the name of the user making this request
or null if the name is not specified.
</TD></TR><TR><TD>
String getHeader(int)
</TD><TD>
Returns the value of the
<I>n</I>th header field or null if 
</TD></TR></TABLE>


<PRE>
                                                               <I>continues</I>
</PRE>
<P><CENTER>
<a href="0819-0822.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0828-0831.html">Next</A>
</CENTER></P>







</BODY>
</HTML>

