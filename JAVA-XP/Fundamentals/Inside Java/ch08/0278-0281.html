<HTML>
<HEAD>


<TITLE>Inside Java:Creating Java Applets:EarthWeb Inc.-</TITLE>






<P><CENTER>
<a href="0273-0277.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0282-0287.html">Next</A>
</CENTER></P>

<A NAME="PAGENUM-278"><P>Page 278</P></A>

<BLOCKQUOTE>
<PRE>
public class Applet extends Panel
{
      public Applet(); // Default constructor

      // The following methods are empty. That is they have
      // no code. To provide their functionality, they must
      // be overridden.
      public void init(); // Performs initialization of the applet
      public void start(); // This starts the applet execution
      public void stop(); // This stops the applet execution
      public void destroy();     // Frees up resources that applet may be holding

      // The following methods have code in them. These
      //  inherited methods can be used to write applet code.
      public AppletContext getAppletContext(); // Get info on the applet
                                               // environment
      public String getAppletInfo(); // Returns text string on author of
                                     // applet,vers no,
               // copyright, etc.
      public AudioClip getAudioClip(URL url); // Obtain audio clip for playing
      public AudioClip getAudioClip(URL url, String name);
      public URL getCodeBase(); // Obtain URL of applet code
      public URL getDocumentBase(); // Obtain URL of HTML document
      public Image getImage(URL url); // Obtain image for the URL
      public String getParameter(String name); // Get parameter value
      public String[][] getParameterInfo(); // Get a table of parameter info.
      public boolean isActive(); // Is applet active
      public void play(URL url); // Play the audio clip
      public void play(URL url, String name); // Play the audio clip
      public void resize(int width, int height); // Changes the applet display
                                                 // area
      public void resize(Dimension d); // Changes the applet display area
      public final void setStub(AppletStub stub); // Sets applet stub
      public void showStatus(String msg); // Shows a message in browser status
                                          // area
} // end Applet
</PRE>
</BLOCKQUOTE>
<P>Because your applet extends the Applet class, all the public methods described in
the Applet class are inherited and available for your use. Some of the Applet class
methods are empty; that is, they do not have any code. These are the methods
init(), start(), stop(),
</P>


<A NAME="PAGENUM-279"><P>Page 279</P></A>



<P>and destroy(). To use these methods, you must override them and define your own code.
</P>

<P>Recall that for writing Java applications, you had to define the method
main() with a specific signature. Control was transferred to the
main() method, which then performed all the logic of the application.
</P>

<P>For an applet, control is transferred to it by the Web browser when it finds an
applet specified in the HTML document. This control is transferred to the applet by
first loading the applet and calling specific methods for the applet.
</P>

<H4><A NAME="ch08_ 7">
Implementing Applets
</A></H4>

<P>Most of the functionality of applets is already contained in the Applet class. For you
to perform functions specific to your class, you must extend the Applet class and
override the methods init(), start(), stop(), and
destroy(). You do not have to override the
destroy() method if your applet does not have any resources that require special handling when the
applet terminates. You must, however, at least provide code for the
init(), start(), and stop() methods.
</P>

<P>Figure 8.3 shows how the Web browser calls the Applet methods. This figure
also shows a typical order of execution for the applet methods. First the method
init() is called; next the method start() is called. The method
stop() may be called to temporarily suspend the execution of the applet. The method
destroy() is called when the applet is terminated.
</P>

<P>The init() method is called when the applet is first loaded. Its primary function is
to
</P>

<P><a href="images\ch08fg03.jpg"><img src="images\tn_ch08fg03.jpg"></a><BR>
<B>Figure 8.3</B>
<I>Web browser and applet interaction.</I>
</P>



<A NAME="PAGENUM-280"><P>Page 280</P></A>



<P>initialize the applet. This may involve creating instances of classes, setting up
initial values of applet data structures, setting parameters, loading images and fonts, and
so on. You override the init() method in your applet class and add the necessary code:
</P>

<BLOCKQUOTE>
<PRE>
public class MyNewApplet extends java.applet.Applet
{
       public void init()
      {
      // Your initialization code
      // goes here.

      } // end init

} // end MyNewApplet
</PRE>

</BLOCKQUOTE>
<P>After an applet has been initialized by the Web browser calling the
init() method, the Web browser invokes the start() method. The
start() method may be called several times to
restart a suspended applet that may have been suspended by a call to the
stop() method. Applet suspension can occur if the Web user leaves the Web page on which the applet
is displayed by following a link. The applet will be restarted using the
start() method when the user returns to the Web page. A major difference between
init() and start() is that the init() method is called only once during an applet's lifetime, whereas the
start() method may be called several times. Typically, the
start() method contains code to display messages, send messages (method invocation) to other objects, create threads to perform
parallel execution of applet code, and so on.
</P>

<P>You override the start() method in your applet class and add the necessary code:
</P>

<BLOCKQUOTE>
<PRE>
public class MyNewApplet extends java.applet.Applet
{
         public void init()
         {
         // Your initialization code
         // goes here.

         } // end init

      public void start()
      {
</PRE>
</BLOCKQUOTE>

<A NAME="PAGENUM-281"><P>Page 281</P></A>


<BLOCKQUOTE>
<PRE>
         // Your start up code
         // goes here.

      } // end start


} // end MyNewApplet
</PRE>
</BLOCKQUOTE>


<P>As mentioned earlier, if the Web user leaves the Web page on which the applet
is displayed, the Web browser suspends the applet by calling the
stop() method. If the stop() method is not called, the applet will consume CPU resources even though it is
not displayed. This is clearly undesirable. So you must provide a
stop() method for applet suspension. A suspended applet is restarted by the Web browser by sending
the message start() to the applet. To implement
stop(), you must define it to override the stop() method in the
Applet class:
</P>

<BLOCKQUOTE>
<PRE>
public class MyNewApplet extends java.applet.Applet
{
      public void init()
      {
         // Your initialization code
         // goes here.
      } // end init

      public void start()
      {
         // Your start up code
         // goes here.

      } // end start

      public void stop()
      {
         // Your stop code
         // goes here.

      } // end stop


} // end MyNewApplet
</PRE>
</BLOCKQUOTE>


<P>Normally, when an applet terminates, the resources used by the objects are reclaimed.
If, however, you have started additional threads, or have opened files on the Web
server,
</P>


<P><CENTER>
<a href="0273-0277.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0282-0287.html">Next</A>
</CENTER></P>







</BODY>
</HTML>

