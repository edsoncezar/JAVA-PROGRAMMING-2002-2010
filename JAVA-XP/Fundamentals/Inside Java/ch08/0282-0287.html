<HTML>
<HEAD>


<TITLE>Inside Java:Creating Java Applets:EarthWeb Inc.-</TITLE>






<P><CENTER>
<a href="0278-0281.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0288-0291.html">Next</A>
</CENTER></P>

<A NAME="PAGENUM-282"><P>Page 282</P></A>



<P>you must release these resources explicitly. This is where the
destroy() method comes in handy. You use the
destroy() method for general cleanup of the applet resources.
The destroy() method that you define overrides the empty
destroy() method in the class Applet:
</P>


<BLOCKQUOTE>
<PRE>
public class MyNewApplet extends java.applet.Applet
{
      public void init()
      {
         // Your initialization code
         // goes here.

      } // end init

      public void start()
      {
      // Your start up code
      // goes here.

      } // end start

      public void stop()
      {
         // Your stop code
         // goes here.

      } // end stop

      public void destroy()
      {
         // Your cleanup code
         // goes here.

      } // end destroy

} // end MyNewApplet
</PRE>
</BLOCKQUOTE>
<P>

<CENTER>
<TABLE BGCOLOR="#FFFF99">
<TR><TD><B>
NOTE
</B></TD></TR>
<TR><TD>
<BLOCKQUOTE>
The destroy() method is different from the
finalize() method described in Chapter 7. The
finalize() method is a general purpose method that can be used to reclaim resources
for any Java class. The destroy() method has been specifically designed for Java applets.
The destroy() method is called whenever the applet has finished execution&#151;this can occur
if the applet is reloaded or the browser is terminating. The
finalize() method, on the other hand, may not always be executed, especially if a severe error condition occurs.
</BLOCKQUOTE></TD></TR>
</TABLE></CENTER>
</P>
<A NAME="PAGENUM-283"><P>Page 283</P></A>



<P>There is one additional method that you need to implement a useful Java applet.
This method is the paint() method. The paint() method is called whenever there is a need for
the browser to redraw the applet. This will occur at least once, after the applet has
been initialized, and any time when the browser window is moved, resized, or uncovered
after being covered over by another application (see fig. 8.4).
</P>

<P>If you examine the methods of the Applet class discussed in this section, you will
not see any definition of the paint() method. The
paint() method is actually defined in the abstract class Component, which is part of the hierarchy diagram for the Applet
class 
</P>

<P><a href="images\ch08fg04.jpg"><img src="images\tn_ch08fg04.jpg"></a><BR>
<B>Figure 8.4</B>
<I>The paint() method.</I>
</P>

<P>(see fig. 8.1):
</P>

<BLOCKQUOTE>
<PRE>
public void paint(Graphics g)
{
      // Empty body.
}
</PRE>
</BLOCKQUOTE>



<P>The paint() method in the Component class is empty; that is, it has no code. Therefore,
to paint the applet, you must override the paint() method defined in the Component
superclass. If you do not override the paint() method, your applet will not do much of
anything
</P>

<A NAME="PAGENUM-284"><P>Page 284</P></A>


<P>as far as its display area of the applet is concerned. The argument to the method
paint() is an instance of the class Graphics. This object defines the graphic context for
modifying the display area of the applet. The Graphics class is instantiated by the browser, and
this instance of the object is passed to the method
paint(), so you do not have to create the object argument. The Graphics class is defined in the package java.awt, and
defines among other things, methods for drawing lines, ellipses, circles, lines, squares, and
so on.
</P>

<P>The applet now has the following structure:
</P>


<BLOCKQUOTE>
<PRE>
public class MyNewApplet extends java.applet.Applet
{
      public void init()
      {
         // Your initialization code
         // goes here.

      } // end init

      public void start()
      {
         // Your start up code
         // goes here.

      } // end start

      public void stop()
      {
         // Your stop code
         // goes here.

      } // end stop

      public void destroy()
      {
         // Your cleanup code
         // goes here.

      } // end destroy

      public void paint(Graphics g)
</PRE>
</BLOCKQUOTE>


<A NAME="PAGENUM-285"><P>Page 285</P></A>


<BLOCKQUOTE>
<PRE>
      {
         // Your paint code
         // goes here.

      } // end paint

} // end MyNewApplet
</PRE>
</BLOCKQUOTE>


<H4><A NAME="ch08_ 8">
Writing the HelloWorld Applet
</A></H4>

<P>Now that you know the structure of applets, you
are ready to write a simple Java applet. In fact, let us write an applet version of the HelloWorld program described in Chapter
2, &quot;Getting Started with Java.&quot;
</P>

<P>

<B>On the
CD</B><BR>
Listing 8.1 (file HelloAppletWorld.java on the CD-ROM accompanying this
book) contains the applet version of the HelloWorld program. Line 9 defines an import
statement to import the Graphics class. This import statement is necessary, as the
Graphics class is needed in the paint() method. If you are performing several graphics related
tasks and using a number of classes from the
java.awt package, you could replace the import statement on line 9 with the following:
</P>

<PRE>
import java.awt.*;
</PRE>

<P>The preceding statement imports all the classes defined in the package
java.awt.
</P>

<P>Lines 15_19 define the init() method to override the method in the class Applet.
This method contains just one line to invoke the
method resize(). The method resize() is defined in class Applet. For your reference, figure 8.5 shows its definition, created with
the javadoc application. The applet size is resized to the specified dimensions (line 17) of
500 pixels of width and 300 pixels of height.
</P>

<P>The methods start(), stop(), and destroy() are not defined in the class HelloWorld.
Therefore, these methods are inherited from class Applet. As mentioned earlier, these methods
do not contain any code and therefore do not provide any functionality. These methods
are not needed because there is nothing to start, stop, or destroy in the applet. The
paint() method (lines 23_28) is called whenever the browser window that displays the applet
is moved, resized, or uncovered.
</P>

<P>The paint() method contains just one call to the
drawString() method of the Graphics object that was passed as a parameter to the
paint() method. The drawString() method draws the string that is passed at the coordinates &lt;10, 20&gt;. The coordinates are measured in
pixels.
</P>


<A NAME="PAGENUM-286"><P>Page 286</P></A>



<P><a href="images\ch08fg05.jpg"><img src="images\tn_ch08fg05.jpg"></a><BR>
<B>Figure 8.5</B>
<I>Method resize() definition using Java.</I>
</P>

<P>The origin is the top left-hand corner. The value of 10 is along the X-axis and the
value of 20 is along the Y-axis (see fig. 8.6).
</P>

<P>Listing 8.1
</P>

<P><a href="images\ch08fg06.jpg"><img src="images\tn_ch08fg06.jpg"></a><BR>
<B>Figure 8.6</B>
<I>Coordinate for the positioning of the Applet.</I>
</P>

<A NAME="PAGENUM-287"><P>Page 287</P></A>

<BLOCKQUOTE>
<PRE>
Line==================Java Source=================
01 /**
02  * HelloAppletWorld: Applet version of the HelloWorld
03  * program.
04  *
05  * Author: Karanjit S. G. S. Siyan
06  *
07  */
08
09 import java.awt.Graphics;
10
11 public class HelloWorld extends java.applet.Applet
12 {
13
14     // init: Override method in Applet
15     public void init()
16     {
17         resize(500, 300);
18
19     }  // end init
20
21
22     // paint: Override method in Component
23     public void paint(Graphics g)
24     {
25
26         g.drawString(&quot;Hello World! This is a simple Java applet!&quot;, 10, 20);
27
28     }  // end paint
29
30 }  // end HelloWorld
</PRE>
</BLOCKQUOTE>

<P>The next step is to run the applet. In earlier chapters, you ran Java applications by
using the Java interpreter. To run applets in a simulated Internet environment, the
Applet Viewer application is used. To run the applet in Applet Viewer, you must first define
an HTML document that specifies the applet byte code location and any parameters
that you want to send to the applet. You will learn to do this in the next section.
</P>

<P><CENTER>
<a href="0278-0281.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0288-0291.html">Next</A>
</CENTER></P>







</BODY>
</HTML>

