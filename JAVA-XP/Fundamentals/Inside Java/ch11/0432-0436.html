<HTML>
<HEAD>


<TITLE>Inside Java:Performing Java Input/Output:EarthWeb Inc.-</TITLE>







<P><CENTER>
<a href="0426-0431.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0437-0441.html">Next</A>
</CENTER></P>

<A NAME="PAGENUM-432"><P>Page 432</P></A>


<PRE>
    // Returns the length of the file in bytes.
    public long length();


    // Creates a directory and returns a boolean
    // indicating the success of the creation.
    public boolean mkdir();

    // Renames a file and returns a boolean indicating
    // whether or not the rename operation was
    // successful.

    public boolean renameTo(File dest);

    // Creates all directories that are part of the
    // path used to build the File object. It returns
    // true if all directories in this path are
    // created.

    public boolean mkdirs();

    // Lists the files in a directory. Works only on
    // directories. The list will include all files
    // that match the * wildcard, except the
    // equivalent of &quot;.&quot; (current directory) and
    // &quot;..&quot; (parent directory).

    public String[] list();

    // Uses the specified filter to list files
    // in a directory.
    public String[] list(FilenameFilter filter);


    // Deletes the specified file. Returns true
    // if the delete operation was successful.
    public boolean delete();
</PRE>

<A NAME="PAGENUM-433"><P>Page 433</P></A>



<PRE>
    // This computes a hashcode for the file.
    // This method overrides the Object.hashcode().
    // The current hashcode returns the exclusive OR
    // of the Object.hashcode() and
    // the constant 1234321.
    public int hashCode();

    // This compares this object against the
    // specified object.
    public boolean equals(Object obj);


    // Returns a String object representing
    // the File object's path. Is the same as
    // a call to getPath().
    public String toString();

} // end File

</PRE>

<H4><A NAME="ch11_ 7">
Using ByteArrayInputStream and
ByteArrayOutputStream
</A></H4>

<P>Just as you can read data from a file or write data to a file, you may at times need to
read data from a sequence of memory locations, or write data to these locations by
using input and output stream methods.
</P>

<P>If, for example, you need to read memory data as a stream, you can use
the ByteArrayInputStream.
</P>

<PRE>
// Define a byte array
byte[] buff = new byte[100];

// Fill the byte array
for (int x = 0; x &lt; buff.length; x++)
{
      buff[x] = x;

} // end for
</PRE>

<A NAME="PAGENUM-434"><P>Page 434</P></A>



<PRE>
// Create an instance of the ByteArrayInputStream
InputStream is = new ByteArrayInputStream(buff);

byte[] obuff = new byte[100];

// Reads input stream into obuff
is.read(obuff)
</PRE>

<P>The use of the available() method returns the number of bytes in the array of bytes
that have not been read. If you use available() on the input stream before any bytes have
been read, it will always return the length of the array. If you call
reset() on the ByteArrayInputStream, the stream will be reset to the beginning of the buffer,
regardless of where the mark() method was called.
</P>

<P>You can also create an instance of the ByteArrayInputStream by using a slice of a
byte array.
</P>

<PRE>
// Input stream set to bytes 10 to 69 of the array.
InputStream is1 = new ByteArrayInputStream(buff, 10, 50);
</PRE>

<P>You can similarly use ByteArrayOutputStream to redirect the output stream to an
array of bytes:
</P>

<PRE>
// Create an instance of the ByteArrayOutputStream
OutputStream os = new ByteArrayInputStream();

for (int x = 0; x &lt; 1000; x++)
{
      os.write(x);

} // end for
</PRE>

<P>In the preceding code fragment, the size of the internal array for os will expand to
any length to accommodate new data that is written. If you want to provide an initial
capacity for the output stream array, you can pass the size of this array as an argument to
the constructor forByteArrayOutputStream:
</P>

<PRE>
// Set the initial size of internal array to 1024 bytes
OutputStream os1 = new ByteArrayOutputStream(1024);
</PRE>

<P>You can write the array to another stream by using the
writeTo() method:
</P>

<A NAME="PAGENUM-435"><P>Page 435</P></A>


<PRE>
public synchronized void writeTo(OutputStream out)
      throws IOException;
</PRE>

<P>To extract the internal array to a byte array, use the
toByteArray() method:
</P>
<PRE>
public synchronized byte[] toByteArray();
</PRE>

<P>To convert the internal array to a string, you can use the
toString() method:
</P>
<PRE>
public String toString();
public String toString(int hibyte);
</PRE>

<P>To get the size of the internal array, use the
size() method:
</P>

<PRE>
public int size();
</PRE>

<P>To reset the internal array so that old data is discarded and new data will be written
from the beginning of the array, use the reset() method:
</P>
<PRE>
public synchronized void reset();
</PRE>

<P>Here are example of using these methods:
</P>

<PRE>
// Extract to an array of bytes
byte[] extractArray = os.toByteArray();

// Convert to a string
String stringEquivalent = os.toString();

// Convert to a Unicode string using a value of 24 for
// the high byte.
String stringUnicodeEquivalent = os.toString(24);

// Get size of internal buffer.
int sz = os.size();

// Reset internal buffer
os.reset();
</PRE>

<H4><A NAME="ch11_ 8">
Using StringBufferInputStream
</A></H4>

<P>The StringBufferInputStream class is similar to the ByteArrayInputStream class.
The difference is that input data is read from a String object instead of an array of bytes.
</P>


<A NAME="PAGENUM-436"><P>Page 436</P></A>



<P>This class subclasses the InputStream class, defines the abstract method
read(), and overrides the methods available(), read(byte[] b, int off, int
len), reset(), and skip().
</P>

<PRE>
public class StringBufferInputStream
    extends InputStream
{

    // Protected variables //
    // ------------------- //

    // The String object in which the string is
    // placed.
    protected String buffer;

    // The position in the buffer for input
    // operations.
    protected int pos;

    // The number of characters to use in the buffer.
    // This is set to the length of the String.
    protected int count;


    // Public methods //
    // -------------- //

    // This constructor method creates a
    // StringBufferInputStream from the specified
    // String object.
    public StringBufferInputStream(String s);


    // This method reads a byte of data and returns
    // the byte read, or _1 if the end of the stream
    // is encounterd.
    // This method defines InputStream.read().
    public synchronized int read();


</PRE>


<P><CENTER>
<a href="0426-0431.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0437-0441.html">Next</A>
</CENTER></P>







</BODY>
</HTML>

