<HTML>
<HEAD>


<TITLE>Inside Java:Performing Java Input/Output:EarthWeb Inc.-</TITLE>







<P><CENTER>
<a href="0453-0458.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0465-0466.html">Next</A>
</CENTER></P>

<A NAME="PAGENUM-459"><P>Page 459</P></A>



<P>example of a print stream that automatically flushes:
</P>

<PRE>
// Passing a true value as a second argument to the
// PrintStream constructor automatically causes the
// print stream to flush.
PrintStream ps = new PrintStream(
         new FileOutputStream(&quot;debug.log&quot;), true);

ps.println(&quot;Debug log file\n==============&quot;);

int x = 33;
float f = 3.14159;

// Print debug values of variables to debug file
ps.print(&quot;x = &quot;+x&quot;\tf = &quot;+f);
</PRE>

<H4><A NAME="ch11_ 17">
Using RandomAccessFile
</A></H4>

<P>The RandomAccessFile class enables you to read and write bytes, text and Java
data types to any location in a file. You must have appropriate access permissions to the
file. For example, for read operations you must have at least read permissions; and for
general update you must have read and write permissions.
</P>

<P>Because the RandomAccessFile class is neither a pure input or output stream it does
not subclass either InputStream or OutputStream. Note that Java does not support
multiple inheritance so you cannot subclass two classes simultaneously. Instead,
the RandomAccessFile class subclasses the Object class directly and implements
the DataInput and DataOutput interfaces. This forces the
RandomAccessFile class to implement the methods described in these two interfaces.
</P>

<PRE>
public class RandomAccessFile
       implements DataOutput, DataInput
{

    // Public methods //
    // -------------- //

    // This constructor creates a RandomAccessFile
    // with the specified file name and mode.
    // The mode &quot;r&quot; is for read-only and &quot;rw&quot;

</PRE>

<A NAME="PAGENUM-460"><P>Page 460</P></A>


<PRE>

    // for read and write.
    public RandomAccessFile(String name, String mode)
           throws IOException;
    // This constructor creates a RandomAccessFile
    // from a specified File object.
    // The mode &quot;r&quot; is for read-only and &quot;rw&quot;
    // for read and write.
    public RandomAccessFile(File file, String mode)

           throws IOException;


    // This method returns the file descriptor
    // object.
    public final FileDescriptor getFD()
           throws IOException;


    // Read methods //
    // ------------ //

    // This method reads a byte of data. This method
    // will block if no input is available.
    public native int read() throws IOException;


    // This method reads into a sub array, b, as
    // a sequence of bytes. The data is read at
    // byte offset off and is len bytes long.
    public int read(byte b[], int off, int len)
           throws IOException;
    // This method reads data into an array of bytes.
    // This method blocks until some input is
    // available.
    public int read(byte b[]) throws IOException;


    // This method reads bytes into array b,
    // and blocks until all bytes are read.
    public final void readFully(byte b[])
</PRE>


<A NAME="PAGENUM-461"><P>Page 461</P></A>


<PRE>
           throws IOException;

    // This method reads len bytes into the specified
    // subarray at offset off and blocks until all
    // bytes are read.
    public final void readFully(byte b[], int off,
           int len) throws IOException;


    // This method skips n bytes of the file.
    public int skipBytes(int n) throws IOException;


    // Write methods //
    // ------------ //

    // This method writes a byte of data. This method
    // will block until the byte is actually written.
    public native void write(int b)
           throws IOException;

    // This method writes the array, b.
    public void write(byte b[]) throws IOException;


    // This method writes len bytes of a subarray,
    // b, starting from offset off.
    public void write(byte b[], int off, int len)
           throws IOException;



    // This returns the current location of the file
    // pointer.
    public native long getFilePointer()
           throws IOException;

    // This method sets the file pointer to the
    // specified absolute position.


</PRE>


<A NAME="PAGENUM-462"><P>Page 462</P></A>



<PRE>
    public native void seek(long pos)
           throws IOException;

    // This method returns the length of the file.
    public native long length() throws IOException;

    // This method closes the file.
    public native void close() throws IOException;


    // Reads a boolean.
    public final boolean readBoolean()
           throws IOException;


    // Reads an 8 bit byte.
    public final byte readByte() throws IOException;

    // Reads an unsigned 8 bit byte.
    public final int readUnsignedByte()
                 throws IOException;

    // Reads a 16 bit short.
    public final short readShort() throws IOException;

    // Reads 16 bit short.
    public final int readUnsignedShort()
                 throws IOException;


    // Reads a 16 bit char.
    public final char readChar() throws IOException;


    // Reads a 32 bit int.
    public final int readInt() throws IOException;


</PRE>


<A NAME="PAGENUM-463"><P>Page 463</P></A>



<PRE>
    // Reads a 64 bit long.
    public final long readLong() throws IOException;


    // Reads a 32 bit float.
    public final float readFloat() throws IOException;



    // Reads a 64 bit double.
    public final double readDouble()
                 throws IOException;


    // Reads in a line that has been terminated by
    // a \n, \r, \r\n or EOF.
    public final String readLine()
                 throws IOException;


    // Reads a UTF format String.
    public final String readUTF() throws IOException;


    // Reads a UTF format String from the given input
    // stream. Note the use of the static qualifier
    // that makes this a class method as opposed
    // to the previous methods that apply to an
    // object instance(instance methods).
    public final static String readUTF(DataInput in)
                 throws IOException;



    // This writes a byte, b. It will block until
    // the byte is actually written. Overrides
    // OutputStream.write().
    public synchronized void write(int b)
           throws IOException;

</PRE>

<A NAME="PAGENUM-464"><P>Page 464</P></A>



<PRE>
    // This method writes a subarray of bytes, b,
    // to the output stream. It will block until
    // the byte is actually written. The subarray
    // is len bytes long and begins at off. Overrides
    // OutputStream.write().
    public synchronized void write(byte b[], int off,
           int len) throws IOException;


    // This method flushes the stream. This will
    // write any buffered output bytes. Overrides
    // OutputStream.flush().
    public void flush() throws IOException;


    // This writes a boolean. A true value is
    // written as a an integer of value 1, and
    // a false value is written as a value of 0.
    public final void writeBoolean(boolean v)
           throws IOException;


    // This writes an 8 bit byte.
    public final void writeByte(int v)
           throws IOException;


    // This writes a 16 bit short.
    public final void writeShort(int v)
           throws IOException;

    // This writes a 16 bit char.
    public final void writeChar(int v)
           throws IOException;


    // This writes a 32 bit int.
</PRE>

<P><CENTER>
<a href="0453-0458.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0465-0466.html">Next</A>
</CENTER></P>







</BODY>
</HTML>

