<HTML>
<HEAD>


<TITLE>Inside Java:Performing Java Input/Output:EarthWeb Inc.-</TITLE>







<P><CENTER>
<a href="0448-0452.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0459-0464.html">Next</A>
</CENTER></P>

<A NAME="PAGENUM-453"><P>Page 453</P></A>


<PRE>
    // Closes the logical input stream. It starts
    // to read from the next stream, if an EOF
    // is reached. This method must be called to
    // release any resources associated with the
    // stream.

    public void close() throws IOException;

} // end SequenceInputStream
</PRE>

<P>Here is an example of using the SequenceInputStream:
</P>

<PRE>
InputStream is1 = new FileInputStream(&quot;file1.dat&quot;);
InputStream is2 = new FileInputStream(&quot;file2.dat&quot;);

// Now combine these streams
SequenceInputStream sis = new SequenceInputStream(is1, is2);

for(;;)
{
      int data = sis.read();
      if (data == _1) break;

} // end for

</PRE>

<H4><A NAME="ch11_ 15">
Using PushbackInputStream
</A></H4>

<P>The PushbackInputStream class is used to implement a 1-byte push to the input
stream by using the unread() method. The character that is pushed back into the InputStream
is read by the next call to the read() method. This class could be used to implement
a &quot;lookahead&quot; function, which returns the next character that would be read. This
capability is useful in writing programs for parsing input. This class subclasses
the FilterInputStream class.
</P>

<PRE>
public class PushbackInputStream
       extends FilterInputStream
{

    // Protected variables //
    // ------------------- //

</PRE>


<A NAME="PAGENUM-454"><P>Page 454</P></A>



<PRE>
    // The pushback character.
    protected int pushBack;

    // Public methods //
    // -------------- //


    // Builds the PushBackInputStream class from the
    // specified input stream.
    public PushbackInputStream(InputStream in);

    // This method reads a byte of data. It will block
    // if no input is available, and return a _1 if
    // end of stream is encountered.
    // This method overrides FilterInputStream.read().
    public int read() throws IOException;


    // This method reads into an array of bytes, b.
    // The off parameter is the start of offset
    // into the data array.
    // The len parameter is the maximum number of
    // bytes read.
    // A value of _1 is returned when the end of the
    // stream is encountered.
    // This method overrides FilterInputStream.read().
    public int read(byte bytes[], int offset,
                    int length) throws IOException;


    // This method pushes back a character to the
    // Input Stream. If an attempt is made to push
    // back more than one character, an I/O exception
    // is thrown.
    public void unread(int ch) throws IOException;

    // This returns the number of bytes that can be
    // read without blocking.
    public int available() throws IOException;


</PRE>

<A NAME="PAGENUM-455"><P>Page 455</P></A>


<PRE>

    // This returns true if this stream type supports
    // mark/reset.
    public boolean markSupported();

} // end PushbackInputStream

</PRE>

<P>
Here is an example of a code fragment that checks if the next byte from the file is
a newline character. If it is not a newline character, the character is put back into the
input stream and will be read on the next read:
</P>

<PRE>
FileInputStream fis = new FileInputStream(&quot;unknown.dat&quot;);
PushbackInputStream pis = new PushbackInputStream(fis);

// Code to process data in stream pis.

byte data = (byte) pis.read();
if (data != `\n')
{
      pis.unread(data);

} // end if
</PRE>

<H4><A NAME="ch11_ 16">
Using PrintStream
</A></H4>

<P>The PrintStream class is used primarily for displaying strings and Java data types in
a human recognizable format. Therefore, this class is used for displaying messages
on consoles or writing text data to files. The class defines several
print() methods for different Java data types. As a convenience, a special version of the print method
called println() is used to terminate the displayed value with a newline character. Using the
println() version flushes the data in the output stream. All the data types that are converted to
the String data type and this value are then displayed. This is different from
the DataOutputStream, which outputs the binary representation of the value. This class
does not display Unicode characters. The upper 8-bits of the 16-bit Unicode character
are stripped, which results in the Latin-1 (ISO 8859-1) characters.
</P>

<P>The System.out and System.err variables are both instances of the
PrintStream class and are defined in the class
System.
</P>

<PRE>
public class PrintStream extends FilterOutputStream
{

</PRE>

<A NAME="PAGENUM-456"><P>Page 456</P></A>


<PRE>
    // Public methods //
    // -------------- //

    // This constructs a new PrintStream.
    public PrintStream(OutputStream out);

    // This constructs a new PrintStream, with
    // or without auto flushing.
    public PrintStream(OutputStream out,
                       boolean autoflush);

    // This writes a byte. This method will block
    // until the byte is actually written. Overrides
    // FilterOuputStream.write().
    public void write(int b);

    // This writes a sub array of bytes starting
    // at off and len bytes long.  Overrides
    // FilterOuputStream.write().


    // This flushes the stream which writes any
    // buffered output bytes.
    public void flush();


    // This closes the stream and releases
    // resources for the stream.
    public void close();
    // This flushes the print stream and returns
    // whether or not there was an error on the
    // output stream.  Errors are cumulative which
    // means that after the print stream encounters
    // an error this method will continue to
    // return true on all successive calls.
    public boolean checkError();
</PRE>

<A NAME="PAGENUM-457"><P>Page 457</P></A>


<PRE>
  // This prints an object. It displays
    // the String.valueOf(obj) as a string.
    public void print(Object obj);


    // This prints a String. Null strings


    // are printed as &quot;null&quot;.
    synchronized public void print(String s);

    // This prints an array of characters.
    synchronized public void print(char s[]);


    // This prints the specified character.
    public void print(char c);


    // This prints an integer.
    public void print(int I);

    // This prints a long.
    public void print(long l);

    // This prints a float.
    public void print(float f);


    // This prints a double.
    public void print(double d);

    // This prints a boolean as a
    // &quot;true&quot; or &quot;false&quot; value.
    public void print(boolean b);


    // This prints a newline.
    public void println();



</PRE>

<A NAME="PAGENUM-458"><P>Page 458</P></A>



<PRE>
    // This prints an object followed by a newline.
    synchronized public void println(Object obj);

    // This prints a string followed by a newline.
    synchronized public void println(String s);


    // This prints an array of characters followed
    // by a newline.
    synchronized public void println(char s[]);


    // This prints a character followed by a newline.
    synchronized public void println(char c);


    // This prints an integer followed by a newline.
    synchronized public void println(int I);


    // This prints a long followed by a newline.
    synchronized public void println(long l);


    // This prints a float followed by a newline.
    synchronized public void println(float f);


    // This prints a double followed by a newline.
    synchronized public void println(double d);

    // This prints a boolean followed by a newline.
    synchronized public void println(boolean b);

} // end PrintStream

</PRE>

<P>Throughout this book, you have seen many example of the use of the PrintStream
class, such as the operations of println() and
print() for the system variable System.out. Here is an
</P>

<P><CENTER>
<a href="0448-0452.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0459-0464.html">Next</A>
</CENTER></P>







</BODY>
</HTML>

