<HTML>
<HEAD>


<TITLE>Inside Java:Animating Applets with Java Graphics, Images, Colors, and Sound:EarthWeb Inc.-</TITLE>






<P><CENTER>
<a href="0322-0326.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0333-0337.html">Next</A>
</CENTER></P>

<A NAME="PAGENUM-327"><P>Page 327</P></A>



<PRE>
} // end paint
</PRE>

<P>You can pass a Polygon object to the
drawPolygon() and fillPolygon() methods. This class
is particularly useful if you want to dynamically add an additional point to the polygon
to change its shape. This can be done by sending
addPoint() to an instance of the Polygon class.
</P>

<P>The following are examples of creating polygon objects.
</P>

<PRE>
Polygon mygon = new Polygon(); 
</PRE>



<P>
<a href="images\ch09fg11.jpg"><img src="images\tn_ch09fg11.jpg"></a><BR>
Figure 9.11 <I>Triangle to be drawn with the polygon draw methods.</I>
</P>

<P>The preceding statement creates an empty polygon called mygon.
</P>

<P>You can add points to the polygon by using
addPoint(). Here is an example of adding five points:
</P>

<PRE>
mygon.addPoint(10, 60);
mygon.addPoint(40, 60);
mygon.addPoint(60, 30);
mygon.addPoint(25, 20);
</PRE>

<P>To draw a filled polygon, you could then use the following statement:
</P>

<PRE>
g.fillPolygon(mygon);
</PRE>

<P>Here g is the Graphics object instance passed to the
paint() method.
</P>

<P>You could rewrite the previous example of creating a triangle by using the following:
</P>

<PRE>
public void paint(Graphics g)
</PRE>

<A NAME="PAGENUM-328"><P>Page 328</P></A>

<PRE>
{
         int[] xa = {10, 40, 25, 10};
         int[] ya = {60, 60, 10, 60};

         Polygon triangle = new Polygon(xa, ya, xa.length);

         g.drawPolygon(triangle);

} // end paint
</PRE>

<H4><A NAME="ch09_ 12">
Drawing an Applet
</A></H4>

<P>Listing 9.2 (file SunSet.java on the CD-ROM accompanying this book) shows an
example of an applet method that uses some of the draw methods discussed previously to draw
a picture of a setting sun.
</P>

<P>Line 12 defines the instance variable color, which will be used for painting the sun. Line
13 defines the length of the sun's rays in pixels.
</P>

<P>Lines 17_84 define a private helper method,
getColor(), which converts the color string parameter value passed through the HTML file for the applet to a value used by
the setColor() method.
</P>

<P>Lines 88_98 define the init() method to obtain the color parameter value and call
the getColor() helper method.
</P>

<P>Lines 100_123 define the paint() method that draws the applet. Lines 103 and 104 paint
a string message in the color parameter value. Lines 106_108 paint a rectangle block in
blue to represent a sunset over the ocean. Lines 109 and 110 paint the sun by using the
fillArc() method.
</P>

<P>The for-loop on lines 112_124 draws the rays of the sun. Figure 9.12 shows a display
of the applet.
</P>



<A NAME="PAGENUM-329"><P>Page 329</P></A>


<P>
<a href="images\ch09fg12.jpg"><img src="images\tn_ch09fg12.jpg"></a><BR>
Figure 9.12 <I>SunSet applet display.</I>
</P>


<P>
<b>Listing 9.2</b>
</P>

<PRE>
Line==================Java Source=================
001   /**
002   * SunSet: Example of applet using string
003   * draw methods:
004   *
005   * Author: Karanjit S. G. S. Siyan
006   *
007   */
008   import java.awt.Graphics;
009   import java.awt.Color;
010   public class SunSet extends java.applet.Applet
011   {
012      private Color color; // Color of message
013      private double rayLength = 180.0;
014
015      // getColor: Helper method to convert
016      // color string to a Color value.
017      private Color getColor(String colorstr)
018      {
019         Color colorVal = null;
020
021         // Convert color parameter to a color
022         // value that can be used in the applet.
023         if (colorstr == null)
024         {
025            // Not specified. Use default.
</PRE>
<PRE>
                                                       <I>continues</I>
</PRE>

<A NAME="PAGENUM-330"><P>Page 330</P></A>

<P>
<b>Listing 9.2, Continued</b>
</P>
<PRE>
026            colorVal = Color.orange;
027         }
028         else if (colorstr.equalsIgnoreCase(&quot;black&quot;))
029         {
030            colorVal = Color.black;
031         }
032         else if (colorstr.equalsIgnoreCase(&quot;blue&quot;))
033         {
034            colorVal = Color.blue;
035         }
036         else if (colorstr.equalsIgnoreCase(&quot;cyan&quot;))
037         {
038            colorVal = Color.cyan;
039         }
040         else if (colorstr.equalsIgnoreCase(&quot;darkGray&quot;))
041         {
042            colorVal = Color.darkGray;
043         }
044         else if (colorstr.equalsIgnoreCase(&quot;gray&quot;))
045         {
046            colorVal = Color.gray;
047         }
048         else if (colorstr.equalsIgnoreCase(&quot;lightGray&quot;))
049         {
050            colorVal = Color.lightGray;
051         }
052         else if (colorstr.equalsIgnoreCase(&quot;green&quot;))
053         {
054            colorVal = Color.green;
055         }
056         else if (colorstr.equalsIgnoreCase(&quot;magenta&quot;))
057         {
058            colorVal = Color.magenta;
059         }
060         else if (colorstr.equalsIgnoreCase(&quot;orange&quot;))
061         {
062            colorVal = Color.orange;
</PRE>


<A NAME="PAGENUM-331"><P>Page 331</P></A>


<PRE>
063         }
064         else if (colorstr.equalsIgnoreCase(&quot;pink&quot;))
065         {
066            colorVal = Color.pink;
067         }
068         else if (colorstr.equalsIgnoreCase(&quot;red&quot;))
069         {
070            colorVal = Color.red;
071         }
072         else if (colorstr.equalsIgnoreCase(&quot;white&quot;))
073         {
074            colorVal = Color.white;
075         }
076         else if (colorstr.equalsIgnoreCase(&quot;yellow&quot;))
077         {
078            colorVal = Color.yellow;
079
080         }  // end if
081
082            return colorVal;
083
084         }  // end getColor
085
086
087         // init: Override method in Applet
088         public void init()
089         {
090            String colorstr; // color parameter
091
092            resize(600,300);
093            colorstr = getParameter(&quot;color&quot;);
094            color = getColor(colorstr);
095
096         }  // end init
097
098
099         // paint: Override method in Component
100         public void paint(Graphics g)
101         {
</PRE>
<PRE>
                                                       <I>continues</I>
</PRE>

<A NAME="PAGENUM-332"><P>Page 332</P></A>


<P>
Listing 9.2, Continued
</P>
<PRE>
102
103            g.setColor(color);
104            g.drawString(&quot;May you pass every test!&quot;, 10, 50);
105
106            g.setColor(Color.blue);
107            g.fillRect(10, 200, 500, 10);
108
109            g.setColor(color);
110            g.fillArc(105, 50, 300, 300, 0, 180);
111
112            for (int x = 0; x &lt;= 180; x += 5)
113            {
114            int xend, yend;
115            double angle;
116
117            // Convert angle to radians
118            angle = ((double)x)*Math.PI/180.0;
119            xend = 255 + (int)(rayLength*Math.cos(angle));
120            yend = 200  (int)(rayLength*Math.sin(angle));
121
122            g.drawLine(225, 200, xend, yend);
123
124            }         // end for
125
126      }  // end paint
127
128   }  // end SunSet
</PRE>

<H4><A NAME="ch09_ 13">
Operations on the Graphics Area
</A></H4>

<P>The Graphics class has a number of operations that can be performed on the
graphics area for the applet, such as making a copy of an area to another area of the
screen, clearing an area of the screen, obtaining the dimensions of the applet, and so on.
</P>

<P>To copy an area of a screen to another location you use the
copyArea() method (lines 107_111 of listing 9.1). The area to be copied is enclosed in an imaginary rectangle.
Therefore, the first four parameters of the
copyArea() method are the same as for the
drawRect() and fillRect() methods; that is, the first two parameters are the x- and y-coordinates of the
top-left-hand corner of the rectangle, and the third and fourth parameters are the width
and
</P>


<P><CENTER>
<a href="0322-0326.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0333-0337.html">Next</A>
</CENTER></P>







</BODY>
</HTML>

