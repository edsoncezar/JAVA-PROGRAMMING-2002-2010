<HTML>
<HEAD>


<TITLE>Inside Java:Animating Applets with Java Graphics, Images, Colors, and Sound:EarthWeb Inc.-</TITLE>






<P><CENTER>
<a href="0367-0370.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0376-0379.html">Next</A>
</CENTER></P>

<A NAME="PAGENUM-371"><P>Page 371</P></A>


<PRE>
AudioClip audio4 = getAudioClip(getCodeBase(),
          &quot;audio/vflame.au&quot;);
AudioClip audio5 = getAudioClip(getDocumentBase(),
          &quot;audio/vflame.au&quot;);
</PRE>

<P>The audio files in these examples are SUN's au file format.
</P>

<P>To play the audio clip once, you can send it the
play() method:
</P>

<PRE>
audio1.play();
</PRE>

<P>To play the audio clip continuously, send it the
loop() method:
</P>

<PRE>
audio1.loop();
</PRE>

<P>To stop the audio clip from playing at any time, send it the
stop() method:
</P>

<PRE>
audio1.stop();
</PRE>

<P>Typically, you can create an instance of the AudioClip in the
init() method of your applet:
</P>

<PRE>
public void init()
{
      super.init();

      audio = getAudioClip(getCodeBase(),
          &quot;audio/vflame.au&quot;);

      // Other initialization code.

} // end init
</PRE>

<P>If you want the audio clip to play continuously, you can call its
loop() method in the applet's run() method:
</P>

<PRE>public void run()
{
      if (audio != null)
      {
          audio.loop();

</PRE>

<A NAME="PAGENUM-372"><P>Page 372</P></A>


<PRE>
      } // end if

      // Other thread logic.

} // end run
</PRE>

<P>As seen in the preceding code fragment, you must always make sure that the audio
clip instance is not null, before calling its method. If, for example, the audio clip file was
not found in the call to the getAudioClip() method, a value of null will be returned. If you try
to call any of the audio clip methods on a null instance, an exception will occur.
</P>

<P>You can typically stop the audio clip in the applet's
stop() method by using the following code:
</P>

<PRE>
public void stop()
{
      // thread =  instance of the animation thread.
      // audio =  instance of the AudioClip.
      if (thread != null)
      {
         if (audio != null)
         {
            audio.stop();

         } // end if

      thread.stop();
      thread = null;

      } // end if

} // end stop
</PRE>

<P><B>
Interacting with the Applet
</B></P>

<P>You can interact with an applet by using an input device such as a mouse or
keyboard. To handle mouse specific events, you can define any of the following methods in
your applet class.
</P>

<A NAME="PAGENUM-373"><P>Page 373</P></A>


<PRE>
public boolean mouseDown(Event event, int x, int y);
public boolean mouseUp(Event event, int x, int y);
public boolean mouseDrag(Event event, int x, int y);
public boolean mouseMove(Event event, int x, int y);
public boolean mouseEnter(Event event, int x, int y);
public boolean mouseExit(Event event, int x, int y);
</PRE>

<P>By defining these methods, you are overriding the method that would normally
be inherited from the Component class.
</P>

<P>The first argument is the event argument, and is generated by system specific
events. The class Event describes such events. You can access variables and methods of
the event object to find additional details on the event. The second and third arguments
are the coordinates at which the event specified by the method name occurred.
</P>

<P>The methods return a Boolean value. Your overriding method should return a
true value if it has handled the event and does not need to pass the event to an enclosing
component. A false value should be returned if an enclosing component needs to handle
the event. The following is an example of the
mouseDown() method:
</P>

<PRE>
public boolean mouseDown(Event e, int x, int y)
{
      System.out.println(&quot;Event at &lt;&quot;+x+&quot;,&quot;+y+&quot;&gt;&quot;);

      return true;

} // end mouseDown
</PRE>

<P>To capture a keyboard event, you override the
keyDown() or keyUp() method in your applet class:
</P>

<PRE>
public boolean keyDown(Event event, int key);
public boolean keyUp(Event event, int key);
</PRE>

<P>By defining these methods, you are overriding the method that would normally
be inherited from the Component class. The second parameter is an integer representing
the character codes for the key that was activated. To convert them to character values,
you can cast it to a char value. The Event class also defines a set of values for the
control keys. These values are passed to the method as the second argument. The following
are these special value definitions taken from the Event class:
</P>

<PRE> // Key modifiers
 public static final int SHIFT_MASK;
 public static final int CTRL_MASK;
 public static final int META_MASK;
 public static final int ALT_MASK;
</PRE>

<A NAME="PAGENUM-374"><P>Page 374</P></A>


<PRE>
 // Special keys
 public static final int HOME;
 public static final int END;
 public static final int PGUP;
 public static final int PGDN;
 public static final int UP;
 public static final int DOWN;
 public static final int LEFT;
 public static final int RIGHT;
 // Function keys
 public static final int F1;
 public static final int F2;
 public static final int F3;
 public static final int F4;
 public static final int F5;
 public static final int F6;
 public static final int F7;
 public static final int F8;
 public static final int F9;
 public static final int F10;
 public static final int F11;
 public static final int F12;
 // Window events
 public static final int WINDOW_DESTROY;
 public static final int WINDOW_EXPOSE;
 public static final int WINDOW_ICONIFY;
 public static final int WINDOW_DEICONIFY;
 public static final int WINDOW_MOVED;
 // Key press events
 public static final int KEY_PRESS;
 public static final int KEY_RELEASE;
 public static final int KEY_ACTION;
 public static final int KEY_ACTION_RELEASE;
 // Mouse events
 public static final int MOUSE_DOWN;
 public static final int MOUSE_UP;
 public static final int MOUSE_MOVE;
 public static final int MOUSE_ENTER;
</PRE>


<A NAME="PAGENUM-375"><P>Page 375</P></A>



<PRE>
 public static final int MOUSE_EXIT;
 public static final int MOUSE_DRAG;
 // Line events
 public static final int SCROLL_LINE_UP;
 public static final int SCROLL_LINE_DOWN;
 public static final int SCROLL_PAGE_UP;
 public static final int SCROLL_PAGE_DOWN;
 public static final int SCROLL_ABSOLUTE;
 // List events
 public static final int LIST_SELECT;
 public static final int LIST_DESELECT;
 // Action event
 public static final int ACTION_EVENT;
 // File events
 public static final int LOAD_FILE;
 public static final int SAVE_FILE;
 public static final int GOT_FOCUS;
 public static final int LOST_FOCUS;
</PRE>

<P>The following is an example of the keyDown() method:
</P>

<PRE>
public void keyDown(Event event, int key)
{
      char charValue = (char) key;
      System.out.println(&quot;Char value = &quot;+charValue);
      System.out.println(&quot;Int value = &quot;+key);

      switch (key)
      {
         case Event.LEFT:
         System.out.println(&quot;Left key&quot;);
         break;

         case Event.RIGHT:
</PRE>


<P><CENTER>
<a href="0367-0370.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0376-0379.html">Next</A>
</CENTER></P>







</BODY>
</HTML>

