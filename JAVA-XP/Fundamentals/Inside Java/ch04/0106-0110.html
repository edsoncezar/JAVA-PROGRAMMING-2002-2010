<HTML>
<HEAD>


<TITLE>Inside Java:Java Flow Control:EarthWeb Inc.-</TITLE>






<P><CENTER>
<a href="0101-0105.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0111-0116.html">Next</A>
</CENTER></P>

<A NAME="PAGENUM-106"><P>Page 106</P></A>


<PRE>
int   sum = 0;
int   y = 100;

for (int x = 2; x &lt;= 100;  x+=2)
{
      sum += x;
      y _= x;

} // end for
</PRE>

<P>Notice that in the previous example, statement is a block statement. Any time you
have to execute more than one statement in a loop, you must enclose it in a block statement.
</P>

<P>You can also have lists of statements in the
initStmt or a for loop, or a list of expressions in the
intExpr. Each of these statements and expressions are evaluated in the order
in which they are listed.
</P>

<P>The following for loop is equivalent to the previous one.
</P>

<PRE>
for (int x = 2, y = 100, sum = 0; x &lt;= 100;  x+=2)
{
      sum += x;
      y _= x;

} // end for
</PRE>

<P>Notice that the initStmt actually consists of three statements. These statements
define the variables x, y, and sum and also initialize their values.
</P>

<P>Here is another example of a for statement that also has several expressions as part of
the incrExpr.
</P>

<PRE>
int   sumx = 0;
int   sumy = 0;

for (int x = 0,y = 0; x != 100; x += 2,y += 3)
{
      sumx += x;
      sumy += y;

} // end for
</PRE>

<P>The initStmt, boolExpr, and incrExpr in the for statement can be omitted. Here is
an
</P>



<A NAME="PAGENUM-107"><P>Page 107</P></A>



<P>example of a for statement in which the
initStmt has been omitted.
</P>

<PRE>
// Value of p was set earlier.
for (; p &gt;= 100 &amp;&amp; p &lt;= 900; p++)
{
      // Statements

} // end for
</PRE>

<P>Here is an example of a statement that sets up an infinite loop. Notice that all the
initStmt, boolExpr, and incrExpr parts are missing:
</P>

<PRE>
// Infinite loop
for (;;)
{
      // Statements executed
      // forever.

} // end for
</PRE>

<P>In this assignment statement, there are no statements or expressions to evaluate. A
loop, however, is still set up, except that it is an infinite loop. This form of an infinite loop
is superior to the while statement, which has a true constant in the Boolean expression:
</P>

<PRE>
// Infinite loop with a while statement
while (true)
{
      // Statements executed
      // forever.

} // end while
</PRE>

<P>In the preceding infinite loop implemented with a while statement, the expression
true has to be evaluated. A smart compiler will optimize this and eliminate the evaluation
of the expression as it always returns a true value; however, this is not guaranteed, and
in the worst case a few compute cycles will be wasted in checking the while expression.
</P>

<P>Consider the progam in listing 4.6 that attempts to print the value of the loop variables
x and y defined as part of the for statement on line 16. Figure 4.11 shows an attempt
to compile this program with javac. Notice that the error message states that the variables
x and y are not defined. Why?
</P>

<P>Loop variables defined in the for statement have a scope that is within the for loop
only. Remember that the for statement can be regarded as consisting of a while loop:
</P>



<A NAME="PAGENUM-108"><P>Page 108</P></A>


<PRE>{
      initStmt
      while (boolExpr)
      {
         statement
         incrExpr;
      }
}
</PRE>

<P>The for loop on lines 16_21 in listing 4.6, therefore, is equivalent to the following:
</P>

<PRE>
{
      int x= 0, y = 10; // intStmt

      while (x &lt; 10 /* boolExpr */)
      {
         sumx += x;
         sumy += y;
         x++;   // incrExpr
         y++;   // incrExpr
      }

} // end of block statement
</PRE>

<P>The loop variables x and y have a scope that ends with an enclosing block
statement. Any attempt to reference x and y outside this block will produce a syntax error that
the variable is undefined.
</P>

<P>Listing 4.6
</P>

<PRE>
Line==================Java Source=================
01 /**
02  * ForStmt: Illustrates the scope of loop variables
03  * in a for statement.
04  *
05  * Author: Karanjit S. G. S. Siyan
06  */
07 class ForStmt
08 {
09
10      public static void main(String args[])
</PRE>



<A NAME="PAGENUM-109"><P>Page 109</P></A>



<PRE>
11     {
12
13         int sumx = 0;
14         int sumy = 0;
15
16         for (int x = 0, y = 10; x &lt; 10; x++, y++)
17         {
18             sumx += x;
19             sumy += y;
20
21         }  // end for
22
23         System.out.println(&quot;x = &quot;+x);
24         System.out.println(&quot;y = &quot;+y);
25
26     }  // end main
27
28 }  // end ForStmt
</PRE>

<P>In the example of listing 4.6, if you need access to the loop variables, you must
define them outside the for loop. Listing 4.7 shows a correction to this program, where x and
y
</P>

<P>
<a href="images\ch04fg11.jpg"><img src="images\tn_ch04fg11.jpg"></a><BR>
Figure 4.11
Compilation of ForStmt with javac.
</P>

<P>are moved to an outer scope&#151;the scope of the block statement of the
main() method. Figure 4.12 shows the compilation of the program with javac without errors.
</P>



<A NAME="PAGENUM-110"><P>Page 110</P></A>



<P>Listing 4.7
</P>

<PRE>
Line==================Java Source=================
01 /**
02  * ForStmt2: Illustrates the scope of loop variables
03  * in a for statement, and how to access them outside
04  * the for statement.
05  *
06  * Author: Karanjit S. G. S. Siyan
07  */
08 class ForStmt2
09 {
10
11      public static void main(String args[])
12     {
13         int x;  // Loop variable
14         int y;  // Loop variable
15
16         int sumx = 0;
17         int sumy = 0;
18
19
20         for (x = 0, y = 10; x &lt; 10; x++, y++)
21         {
22             sumx += x;
23             sumy += y;
24
25         }  // end for
26
27         System.out.println(&quot;x = &quot;+x);
28         System.out.println(&quot;y = &quot;+y);
29
30     }  // end main
31
32 }  // end ForStmt2
</PRE>

<P>Loops can be nested, and it is typical to use nested for loops with matrix type
calculations. Matrices are a collection of cells where each cell can be identified by a row and
a column. To represent matrices in Java, you need the concept of arrays with
different dimensions. Arrays are covered in detail in a later chapter, so it is best not to use
any array examples here. Instead, we will use a program example that prints out a table
of products of odd numbers and demonstrates nesting of loops.
</P>



<P><CENTER>
<a href="0101-0105.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0111-0116.html">Next</A>
</CENTER></P>







</BODY>
</HTML>

