<HTML>
<HEAD>


<TITLE>Inside Java:The New, Improved AWT: Menus, Events, and More New Features:EarthWeb Inc.-</TITLE>






<P><CENTER>
<a href="0608-0611.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0617-0622.html">Next</A>
</CENTER></P>

<A NAME="PAGENUM-612"><P>Page 612</P></A>



<P>The InputEvent class contains some methods that you can use to determine
which modifier keys and mouse buttons were pressed at the time of the event. The
following three methods deal only with modifier keys and return whether a given modifier key
was pressed:
</P>

<UL>
<LI>          isAltDown()
<LI>          isControlDown()
<LI>          isMetaDown()
<LI>          isShiftDown()
</UL>

<P>The getModifiers() method returns an integer in which some of the bits represent the keys
or mouse buttons that were down. This integer can be compared to the following
constants defined by the InputEvent class:
</P>

<UL>
<LI>          ALT_MASK
<LI>          CTRL_MASK
<LI>          META_MASK
<LI>          SHIFT_MASK
<LI>          BUTTON1_MASK
<LI>          BUTTON2_MASK
<LI>          BUTTON3_MASK
</UL>

<P>The InputEvent class introduces one more method, the
getWhen() method, which returns a timestamp of when the event happened.
</P>

<P>For more information on the InputEvent class, refer to the following Web page:
</P>
<PRE>

http://java.sun.com/products/JDK/1.1/docs/api/
java.awt.event.InputEvent.html
</PRE>

<P><B>KeyEvent Class</B>
</P>

<P>The KeyEvent class contains the following event types, which correspond to
the methods in the KeyListener class:
</P>

<UL>
<LI>          KEY_PRESSED
<LI>          KEY_RELEASED
<LI>          KEY_TYPED
</UL>
<A NAME="PAGENUM-613"><P>Page 613</P></A>





<P>As with any other subclass of AWTEvent, you can use
getId() to determine which of these event types was fired.
</P>

<P>To determine which key fired the event, you can call the
getKeyCode() method. This method returns an integer that is the key code of the key associated with the event. If the key
is an action key, this integer will match one of the action key constants defined in
the KeyEvent class. Some example action key constants are VK_F1, VK_HOME,
and VK_PAGE_UP. The isActionKey() method returns whether or not the key is an action key.
</P>

<P>You also can call the getKeyChar() method, which returns the character associated with
the key that fired the event.
</P>

<P>To determine whether any modifier keys were down at the time of the event, use
the methods inherited from the InputEvent class.
</P>

<P>Any component in the Component hierarchy that can accept keyboard focus can
receive a KeyEvent. For more information on the KeyEvent class, refer to the following
Web page:
</P>
<PRE>

http://java.sun.com/products/JDK/1.1/docs/api/java.awt.event.KeyEvent.html
</PRE>

<P><B>MouseEvent Class</B>
</P>

<P>The MouseEvent class contains the following event types, which correspond to
the methods in the MouseListener and MouseMotionListener classes:
</P>

<UL>
<LI>          MOUSE_CLICKED
<LI>          MOUSE_ENTERED
<LI>          MOUSE_EXITED
<LI>          MOUSE_PRESSED
<LI>          MOUSE_RELEASED
<LI>          MOUSE_DRAGGED
<LI>          MOUSE_MOVED
</UL>

<P>Use the getId() method inherited from AWTEvent to determine which of these event
types was fired.
</P>

<P>To determine where the mouse cursor was when the event happened, you can call
either the getPoint() method or the getX() and
getY() methods. The MenuDemo application (listing 14.1) uses the latter methods to decide where to show the pop-up menu:
</P>


<PRE>
192                   md.popMenu2.show(comp, evt.getX(), evt.getY());
</PRE>

<A NAME="PAGENUM-614"><P>Page 614</P></A>


<P>The getClickCount() method returns the number of mouse clicks associated with the event.
</P>

<P>To determine whether any modifier keys were down at the time of the event, use
the methods inherited from the InputEvent class.
</P>

<P>Any component in the Component hierarchy can receive a MouseEvent. For
more information on the MouseEvent class, refer to the following Web page:
</P>
<PRE>

http://java.sun.com/products/JDK/1.1/docs/api/
java.awt.event.MouseEvent.html
</PRE>

<P><B>WindowEvent Class</B>
</P>

<P>The WindowEvent class contains the following event types, which correspond to
the methods in the WindowListener class:
</P>

<UL>
<LI>          WINDOW_CLOSED
<LI>          WINDOW_CLOSING
<LI>          WINDOW_DEICONIFIED
<LI>          WINDOW_ICONIFIED
<LI>          WINDOW_OPENED
</UL>

<P>You can use the inherited getId() method to determine which of these event types
was fired.
</P>

<P>The WindowEvent class introduces a method named
getWindow() that can be used to return a Window reference to the window that received the event. This returns the
same reference as the getSource() method of the EventObject class, except that it is a
Window reference, not an Object reference. Consider the
windowClosing() method of the MenuDemo application (listing 14.1):
</P>
<PRE>
201       public void windowClosing(WindowEvent evt) {
202           Frame frm = (Frame)evt.getSource();
203           frm.setVisible(false);
204           frm.dispose();
205           System.exit(0);
206       }
</PRE>

<P>Line 202 could be changed to the following, which would make the cast to
Frame unnecessary:
</P>

<A NAME="PAGENUM-615"><P>Page 615</P></A>


<PRE>
Window frm = evt.getWindow();
</PRE>

<P>This is true because:
</P>

<UL>
<LI>          getWindow() returns a Window.
<LI>          setVisible() and dispose() are introduced higher in the Component hierarchy than
Frame. The Window class is the most specific reference required for these method calls.
</UL>

<P>Any subclass of Window can receive a WindowEvent. For more information on
the WindowEvent class, refer to the following Web page:
</P>
<PRE>

http://java.sun.com/products/JDK/1.1/docs/api/
java.awt.event.WindowEvent.html
</PRE>

<H4><A NAME="ch14_ 14">
Summary of the Delegation Event Model
</A></H4>

<P>Table 14.6 summarizes the AWT event listeners, associated event classes/types,
and associate event sources.
</P>

<P><B>Table 14.6</B>
<P>
Summary of AWT Event Listeners, Event Classes, and
Event Sources
</P>


<TABLE>

<TR><TD>
Event Listener/Methods
</TD><TD>
Event Class/Types
</TD><TD>
Event Sources
</TD></TR><TR><TD>
ActionListener
actionPerformed 
</TD><TD>
ActionEvent
ACTION_PERFORMED 
</TD><TD>
Button, List,<BR>
MenuItem,<BR>
TextField
</TD></TR><TR><TD>
AdjustmentListener     
adjustmentValueChanged
</TD><TD>
AdjustmentEvent
ADJUSTMENT_VALUE<BR>
_CHANGED
</TD><TD>
Scrollbar
</TD></TR><TR><TD>
ItemListener
itemStateChanged 
</TD><TD>
ItemEvent
ITEM_STATE_CHANGED
</TD><TD>
List, Choice,<BR>
Checkbox,<BR>
CheckboxMenuItem
</TD></TR><TR><TD>
ComponentListener
componentHidden
componentMoved   
componentResized
componentShown
</TD><TD>
ComponentEvent
COMPONENT_HIDDEN 
COMPONENT_MOVED
COMPONENT_RESIZED
COMPONENT_SHOWN
</TD><TD>
Any AWT<BR>
component<BR>
</TD></TR></TABLE>




<PRE>
                                     <I>continues</I>
</PRE>
<A NAME="PAGENUM-616"><P>Page 616</P></A>


<P><B>
Table 14.6, Continued</B>

<P><B>Summary of AWT Event Listeners, Event Classes, and
Event Sources</B>
</P>
<TABLE>

<TR><TD>
Event Listener/Methods
</TD><TD>
Event Class/Types 
</TD><TD>
Event Sources
</TD></TR><TR><TD>
FocusListener
focusGained
focusLost
</TD><TD>
FocusEvent
FOCUS_GAINED 
FOCUS_LOST
</TD><TD>
Any AWT
component
</TD></TR><TR><TD>
KeyListener
keyPressed  
keyReleased
keyTyped
</TD><TD>
KeyEvent
KEY_PRESSED
KEY_RELEASED
KEY_TYPED 
</TD><TD>
Any AWT
component that
can accept
keyboard focus
</TD></TR><TR><TD>
MouseListener        
mouseClicked
mouseEntered 
mouseExited 
mousePressed 
mouseReleased
</TD><TD>
MouseEvent 
MOUSE_CLICKED
MOUSE_ENTERED
MOUSE_EXITED
MOUSE_PRESSED
MOUSE_RELEASED
</TD><TD>
Any AWT
component
</TD></TR><TR><TD>
MouseMotionListener
mouseDragged 
mouseMoved 
</TD><TD>
MouseEvent
MOUSE_DRAGGED  
MOUSE_MOVED
</TD><TD>
Any AWT
component
</TD></TR><TR><TD>
WindowListener        
windowClosed 
windowClosing  
windowDeiconified
windowIconified
windowOpened
</TD><TD>
WindowEvent 
WINDOW_CLOSED
WINDOW_CLOSING
WINDOW_DEICONIFIED
WINDOW_ICONIFIED
WINDOW_OPENED
</TD><TD>
Any subclass
of the AWT
Window class
</TD></TR></TABLE>

<P>The Delegation Event Model offers several advantages over the JDK 1.0 event model:
</P>

<UL>
<LI>          Supports a GUI component architecture: The main reason for introducing
the Delegation Event Model is to support the Java Beans component
architecture, which is covered in the next chapter.
<LI>          Increases performance: The only events that your code has to handle are
the events for which it explicitly listens.
<LI>          Separates application code from GUI code: Using this model facilitates
this separation, especially with the action commands discussed earlier.
<LI>          Does not require sub-classing components: It is not necessary to sub-class
and override an event handler to tie application code to a given event.
</UL>
<P><CENTER>
<a href="0608-0611.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0617-0622.html">Next</A>
</CENTER></P>







</BODY>
</HTML>

