<HTML>
<HEAD>


<TITLE>Inside Java:The New, Improved AWT: Menus, Events, and More New Features:EarthWeb Inc.-</TITLE>






<P><CENTER>
<a href="0590-0593.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0598-0602.html">Next</A>
</CENTER></P>

<A NAME="PAGENUM-594"><P>Page 594</P></A>



<TABLE>

<TR><TD>
MenuShortcut(int, boolean)
</TD><TD>
Creates a menu shortcut with the specified key. If
the second parameter is true, the Shift key must be used
as well.
</TD></TR><TR><TD>
int getKey()
</TD><TD>
Returns the key associated with this menu shortcut.
</TD></TR><TR><TD>
boolean usesShiftModifier()
</TD><TD>
Returns whether the shortcut includes a Shift key.
</TD></TR></TABLE>

<P>Another way to assign a shortcut key to a menu item is to call the
setShortcut() method of the desired menu item. Line 77, for example, assigns the Ctrl+b menu shortcut to
the &quot;Bold&quot; menu item:
</P>
<PRE>
074           CheckboxMenuItem miBold =
075                   new CheckboxMenuItem(&quot;Bold&quot;, true);
076           // Assign the Ctrl+b shortcut key.
077           miBold.setShortcut(new MenuShortcut(`b'));
</PRE>

<P>For this example application to respond to menu shortcuts, one of the components in
the frame must have <I>keyboard focus</I>. To achieve this, line 38 requests focus for
the &quot;Popups&quot; button:
</P>
<PRE>
038           btn1.requestFocus();
</PRE>
<BR>
<P>

<CENTER>
<TABLE BGCOLOR="#FFFF99">
<TR><TD><B>
NOTE
</B></TD></TR>
<TR><TD>
<BLOCKQUOTE>
When a component has keyboard focus, any keys pressed are delivered to
the component. For example, if a text field has keyboard focus, when alphanumeric keys
are pressed they appear in the text field. Pressing the Tab key moves keyboard focus
from one component to another one.
</BLOCKQUOTE></TD></TR>
</TABLE></CENTER>
</P>
<P>This section has explained how to create two different kinds of menus: menu bar
menus and pop-up menus. You have seen the classes that implement menus in Java, and
you have learned to create menu shortcuts that grant the user keyboard access to
menu items.
</P>

<P>In the next section, you will learn about the Java event models that are new to JDK
1.1. Although the JDK 1.0 event model will work with JDK 1.1, JavaSoft suggests that
new applications be developed using the JDK 1.1 event models.
</P>

<H3><A NAME="ch14_ 12">
Understanding the Java Event Models
</A></H3>

<A NAME="PAGENUM-595"><P>Page 595</P></A>





<P>Event handling is a mechanism by which events such as button clicks, key presses,
and scrollbar adjustments can be fired, caught, and received by the code that is created
to handle the events. JDK 1.1 introduced the following new models associated with
event handling:
</P>

<UL>
<LI>          The Delegation Event Model
<LI>          The Extended Component Event Model
</UL>

<P>These models were introduced to correct some of the deficiencies in the JDK 1.0
model, to increase performance, and to support Java Beans (which Chapter 15, &quot;Java
Beans: Java's Component Architecture,&quot; will cover).
</P>
<P>

<CENTER>
<TABLE BGCOLOR="#FFFF99">
<TR><TD><B>
NOTE
</B></TD></TR>
<TR><TD>
<BLOCKQUOTE>
The Delegation Event Model is the name used by JavaSoft for the new JDK 1.1
event model. The Extended Component Event Model is a name introduced by this book.
It identifies a way of using the mechanisms defined in the
Delegation Event Model to handle events in extended components.
</BLOCKQUOTE></TD></TR>
</TABLE></CENTER>
</P>
<H4><A NAME="ch14_ 13">
Overview of Delegation Event Model
</A></H4>

<P>If you've examined the examples in Chapter 13, &quot;The New, Improved AWT: GUI
Components, Containers, and Layout Managers,&quot; and the example earlier in this chapter,
you are already somewhat familiar with the Delegation Event Model. Look at the
MenuDemo application in listing 14.1 again, this time to examine a simple example of the
Delegation Event Model.
</P>

<P>Lines 50_52 create and add a menu item with the label &quot;New&quot; to the &quot;File&quot; menu.
During this process, line 51 assigns an <I>action
listener</I> to this menu item, which causes any
<I>action events</I> fired by this menu item to be delegated to the specified action listener.
</P>
<PRE>
050           MenuItem miNew = new MenuItem(&quot;New&quot;);
051           miNew.addActionListener(this);
052           fileMenu.add(miNew);
</PRE>

<P>A <I>list</I>ene<I>r</I> is a class that implements a given interface, depending on the type of
listener it is. In this case, the listener is an action listener, which implements the
ActionListener interface. The ActionListener interface in turn defines the
actionPerformed() method. In this simple example, line 51 specifies that the current object is the action listener.
</P>
<P>Lines 12 and 13 declare that this class implements the ActionListener interface:
</P>
<PRE>
012   public class MenuDemo extends Frame
013                       implements ActionListener {<BR>
</PRE>


<A NAME="PAGENUM-596"><P>Page 596</P></A>





<P>Lines 167_169 implement the ActionListener interface and are executed when the
&quot;New&quot; menu item fires an action event.
</P>

<PRE>
167       public void actionPerformed(ActionEvent evt) {
168           System.out.println(((MenuItem)evt.getSource()).getLabel());
169       }
</PRE>

<P>Line 168 calls the getSource() method of the event object that was passed. This returns
a reference to the event source, which in this case is the MenuItem instance
named miNew. The reference is cast to a MenuItem, and then the
getLabel() method is called to return the label on the menu item, which is then printed. As a result, the string
&quot;New&quot; prints to the system output when the user chooses the &quot;New&quot; menu item.
</P>

<P>Figure 14.5 depicts the relationships between:
</P>

<UL>
<LI>          The event source, which in this case is the miNew menu item.
<LI>          The event, which in this case is an ActionEvent.
<LI>          The event listener, which in this case is an ActionListener.
</UL>

<P>These three items (<I>event source</I>,
<I>event</I>, and <I>event listener</I>) define the Delegation
Event Model. When an <I>event</I> is emitted by an
<I>event source</I>, the <I>event</I> is delegated to the
<I>event listener</I>, which is responsible for carrying out the appropriate response.
</P>

<P>When the addActionListener() method of miNew is called, a reference to the ActionListener
is created and stored within miNew. This process is known as registering a listener.
When the user chooses the miNew menu item, an ActionEvent is fired and passed to
the actionPerformed() method of each registered ActionListener.
</P>

<P>ActionListener is only one of several event listeners defined by the JDK. The
next section explores each of these listeners, including ActionListener.
</P>


<P><B>Event Listeners
</P></B>

<P>The JDK defines a total of nine listeners, and each listener has one or more types
of events for which it listens. These listeners can be divided into two categories:
</P>

<A NAME="PAGENUM-597"><P>Page 597</P></A>


<P>
<a href="images\ch14fg05.jpg"><img src="images\tn_ch14fg05.jpg"></a><BR>
Figure 14.5
<I>MenuDemo example of the Delegation Event Model.</I>
</P>


<UL>
<LI>          Listeners that listen for low-level events
<LI>          Listeners that listen for semantic events
</UL>

<P><B>Low-Level Versus Semantic Events
</P></B>

<P>Low-level events represent traditional events that can happen to a GUI element in
a windowing system. These include event types such as
MOUSE_CLICKED, FOCUS_LOST, and KEY_PRESSED.
</P>

<P>Semantic events represent higher-level events that a user can perform. These events
are associated here with Java AWT components, but you could create custom
components that fire these events as well. Three semantic event types exist:
</P>

<UL>
<LI>          The ACTION_PERFORMED event type is fired when the user chooses
a MenuItem, clicks a Button, double-clicks a List, or presses the Enter key when
a TextField has focus. This event type has a semantic meaning of &quot;perform
a command.&quot;
<LI>          The ADJUSTMENT_VALUE_CHANGED event type is fired when the value of
a Scrollbar is adjusted, whether by dragging the bubble, clicking an arrow,
or pressing the Page Up key. This event type has a semantic meaning of &quot;an
adjustable value changed.&quot;
</UL>

<P><CENTER>
<a href="0590-0593.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0598-0602.html">Next</A>
</CENTER></P>







</BODY>
</HTML>

