<HTML>
<HEAD>


<TITLE>Inside Java:Object-Oriented Programming with Java:EarthWeb Inc.-</TITLE>






<P><CENTER>
<a href="0231-0236.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0243-0249.html">Next</A>
</CENTER></P>

<A NAME="PAGENUM-237"><P>Page 237</P></A>


<PRE>
083     }  // end size
084
085     double angleyx()
086     {
087
088         double ang;
089
090         ang = Math.atan2(sy,sx) * 180.0/Math.PI;
091         System.out.println(&quot;S.angleyx() = &quot;+ang+&quot; degs&quot;);
092
093         return ang;
094
095     }  // end angleyx
096
097 }  // end S
098
099 // Subclass S
100 class E extends S
101 {
102     // Instance variables for class E.
103     double  ez;     // Zaxis coordinate
104
105     // Constructors for E
106     E()
107     {
108
109         sx = sy = ez = 1.0;
110
111     }  // end E
112
113     E(double x, double y, double z)
114     {
115         sx = x;
116         sy = y;
117         ez = z;
118
119     }  // end E
120
</PRE>
<PRE>
                                                 <I>continues</I>
</PRE>
<A NAME="PAGENUM-238"><P>Page 238</P></A>

<P>Listing 7.2, Continued
</P>

<PRE>
121     // Instance methods for class E
122
123     // Compute the size of the vector E
124     double size()
125     {
126         double  ret;
127
128         ret = Math.sqrt(sx*sx + sy*sy +ez*ez);
129
130         System.out.println(&quot;E.size() = &quot;+ret+&quot; units&quot;);
131
132         return ret;
133
134
135     }  // end size
136
137     // Compute angle of point in 3 dimensional
138     // space with reference to origin and x_y
139     // plane
140     double anglezyx()
141     {
142
143         double ang;
144         double rxy;
145
146         rxy = Math.sqrt(sx*sx + sy*sy);
147
148         ang = Math.atan2(ez,rxy) * 180.0/Math.PI;
149         System.out.println(&quot;E.anglezyx() = &quot;+ang+&quot; degs&quot;);
150
151         return ang;
152
153     }  // end anglezyx
154
155
156 }  // end E
</PRE>

<A NAME="PAGENUM-239"><P>Page 239</P></A>



<P><a href="images\ch07fg12.jpg"><img src="images\tn_ch07fg12.jpg"></a><BR>
Figure 7.12
Output of OverrideMethod.
java.
</P>

<H4><A NAME="ch07_ 7">
Overriding Methods Using super and this
</A></H4>

<P>You can use the reserved word this in constructor methods to indicate the name of
the class itself. This is a convenient way of invoking another constructor defined in
the class to implement a constructor. If, for example, you examine the constructor
methods for class S in listing 7.2, you can see that the default constructor
S() can
</P>

<P>be implemented by calling the constructor S(double,
double) with the values of 1.0 and 1.0:
</P>

<PRE>
S()
      {
         this(1.0, 1.0);

      }  // end S

      S(double sx, double sy)
      {

         this.sx = sx;
         this.sy = sy;

      }  // end S
</PRE>

<P>In the default constructor, S(), there is a call to the second constructor:
</P>



<A NAME="PAGENUM-240"><P>Page 240</P></A>


<PRE>
         this(1.0, 1.0);
</PRE>

<P>The preceding statement is equivalent to the following:
</P>

<PRE>
         S(1.0, 1.0);
</PRE>

<P>You can also use the reserved word super in class methods to indicate the name of
the superclass. This is useful if you want to invoke a method in the superclass. If,
for example, you want to call the default constructor in the superclass, you can use
the following statement:
</P>
<PRE>
super();
</PRE>

<P>You can invoke the superclass's constructor only from the constructor method in
</P>

<P>the subclass. When you've done so, the call to the superclass's constructor has to
be the first statement in the subclass's constructor. Actually, every constructor
must invoke its superclass's constructor in its first statement. If there is no invocation to
</P>

<P>the superclass's constructor, the Java language automatically inserts a constructor
of the following type:
</P>

<PRE>
super();
</PRE>

<P>If there is no default constructor&#151;a constructor with no arguments defined&#151;then this
is a programming error. If a superclass does not have a default constructor, you
must explicitly invoke the superclass constructor and pass it the required arguments:
</P>

<PRE>
super(arguments);
</PRE>

<P>To invoke a method in the superclass from a method in the subclass, you can use
the following:
</P>

<PRE>
super.methodname(parameters);
</PRE>

<P>The <I>methodname</I> is the name of the method in the superclass, and
<I>parameters</I> are the parameters to this method.
</P>
<P>
<P>

<CENTER>
<TABLE BGCOLOR="#FFFF99">
<TR><TD><B>
NOTE
</B></TD></TR>
<TR><TD>
<BLOCKQUOTE>
Every constructor must invoke its superclass's constructor in its first statement.
If there is no invocation to the superclass's constructor in the first statement, the
Java language automatically inserts a statement to call the superclass's default constructor.
</BLOCKQUOTE></TD></TR>
</TABLE></CENTER>
</P>
<P>An alternative way of implementing the default constructor for E in listing 7.2 is
to invoke the constructor for the superclass, S:
</P>


<A NAME="PAGENUM-241"><P>Page 241</P></A>


<PRE>
      E()
      {
         super();
         ez = 1.0;
      }  // end E
</PRE>

<P>In the preceding example, the call to the superclass constructor is, as expected, the
first statement in the default constructor for E. This call to the superclass constructor has
the effect of setting the superclass's instance variables sx and sy to 1.0. The statement
that follows the super() statement sets the value of ez to 1.
</P>

<P>The second constructor for class E in listing 7.2 can also be written as the following:
</P>
<PRE>
      E(double x, double y, double z)
      {
         super(x, y);
         ez = z;

      }  // end E
</PRE>

<P>The statement super(x, y) results in the call to the
S(double, double) constructor in class S. The statement that follows sets the instance variable ez in class E.
</P>

<P>To see an example of invoking the superclass's methods from the subclass E in
listing 7.2, consider alternate implementations of the methods
size() and anglezyx() in class E. The method
size() in class E can be implemented as follows:
</P>


<PRE>
      double size()
      {
         double  ret;
         double  rxy = super.size();

         ret = Math.sqrt(rxy*rxy +ez*ez);
         return ret;

      }  // end size
</PRE>

<P>This method uses the call to super.size() to obtain the size of the two-dimensional vector
in the X_Y plane. This value is then used to compute the size of the
three-dimensional vector.
</P>



<A NAME="PAGENUM-242"><P>Page 242</P></A>



<P>The following is another alternative implementation of
anglezyx():
</P>


<PRE>
      double anglezyx()
      {

         double ang;
         double rxy;

         rxy = super.size();

         ang = Math.atan2(ez,rxy) * 180.0/Math.PI;

         return ang;

      }  // end anglezyx
</PRE>

<P>The call to super.size() computes the vector's projection on the X_Y plane, and the call
to atan2() computes the angle to this plane (see fig. 7.13).
</P>

<P>Listing 7.3 shows an alternate implementation of the class S and it subclass E
(file OverrideMethod1.java on the CD-ROM accompanying this book). This listing shows
the use of the reserved word this and super as described previously. This listing
contains println() statements in the methods and constructors for the class S and class E so
that you can follow the order in which these methods are executed when the program is run.
</P>

<P><a href="images\ch07fg13.jpg"><img src="images\tn_ch07fg13.jpg"></a><BR>
Figure 7.13
Angle computation
of vector
&lt;sx, sy, ez&gt;.
</P>

<P><CENTER>
<a href="0231-0236.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0243-0249.html">Next</A>
</CENTER></P>







</BODY>
</HTML>

