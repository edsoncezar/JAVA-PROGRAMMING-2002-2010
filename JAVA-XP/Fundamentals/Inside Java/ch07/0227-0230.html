<HTML>
<HEAD>


<TITLE>Inside Java:Object-Oriented Programming with Java:EarthWeb Inc.-</TITLE>






<P><CENTER>
<a href="0219-0226.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0231-0236.html">Next</A>
</CENTER></P>

<A NAME="PAGENUM-227"><P>Page 227</P></A>


<PRE>
39     void s_method3()
40     {
41         System.out.println(&quot;sc = &quot;+sc);
42
43     }  // end s_method3
44
45 }  // end S
46
47
48 class E extends S
49 {
50     // Instance variables for class E.
51     int ea;
52     int eb;
53     int ec;
54
55     // Instance methods for class E
56     void e_method1()
57     {
58         System.out.println(&quot;ea = &quot;+ea);
59
60         // Question 3: Can a method in class E
61         // invoke a method in class S?
62         s_method1();
63
64     }  // end e_method1
65
66     void e_method2()
67     {
68         // Question 4: Can a method in class E
69         // reference an instance variable in E?
70         System.out.println(&quot;eb = &quot;+eb);
71
72     }  // end e_method2
73
74     void e_method3()
75     {
76         System.out.println(&quot;ec = &quot;+ec);
</PRE>
<PRE>
                                                 <I>continues</H1>
</PRE>

<A NAME="PAGENUM-228"><P>Page 228</P></A>


<P>Listing 7.1, Continued
</P>
<PRE>
77         // Question 5: Can a method in class E
78         // reference an instance variable in S?
79         sa = 10;
80
81
82     }  // end e_method3
83
84 }  // end E
</PRE>

<P>The comments in listing 7.1 have questions that are asked about the use of
instance variables and instance methods. These questions are followed by a statement
that attempts to perform the action described in the question. These questions are listed
as follows:
</P>

<P><B>Question 1:</B> Can a method in class E be invoked from class S?
</P>

<P><B>Question 2:</B> Can a method in class S reference an instance variable in class E?
</P>

<P><B>Question 3:</B> Can a method in class E invoke a method in class S?
</P>

<P><B>Question 4:</B> Can a method in class E reference an instance variable in E?
</P>

<P><B>Question 5:</B> Can a method in class E reference an instance variable in S?
</P>

<P>At this point, you may want to compile the file InheritRules.java by using the
javac compiler to see if you can answer these questions. On compiling this program, you
will find two errors on lines 23 and 34 respectively. Both of these errors are in class S.
All other statements compile correctly. The lines in error deal with questions 1 and 2,
and indicate that the answers to these questions is &quot;No.&quot;
</P>

<P>The following is a detailed analysis of the questions in listing 7.1:
</P>

<P><B><I>Question 1:</I></B><I> Can a method in class E be invoked from class
S?</I> No. Class S is a superclass for class E. Superclasses do not have access to the methods in subclasses. This
is because a subclass, such as E, may extend the definition of class S by adding
additional instance variables. Having an instance of class S does not guarantee that a
subclass such as E has been instantiated, and its instance variables set up correctly.
</P>

<P><B><I>Question 2:</I></B><I> Can a method in class S reference an instance variable in class E?
</I>No&#151;for reasons similar to the answer to question 1. Remember that class S is a superclass
for class E. Superclasses do not have access to the internals (methods and
instance variables) for subclasses. This is because creating an instance of class S does
not guarantee that a subclass such as E has been instantiated, and its instance variables
set up correctly.
</P>



<A NAME="PAGENUM-229"><P>Page 229</P></A>



<P><B><I>Question 3:</I></B><I> Can a method in class E invoke a method in class S?
</I>Yes. Class E is a subclass of class S. A method subclass can invoke a method in its superclass.
</P>

<P><B><I>Question 4:</I></B><I> Can a method in class E reference an instance variable in E?
</I>Yes. This is the normal behavior for all classes. Instance variables in a class are visible to all
methods of that class.
</P>

<P><B><I>Question 5:</I></B><I> Can a method in class E reference an instance variable in S?
</I>Yes. Class E is a subclass of class S. A subclass can access the instance variables in its
superclass, unless such an access has been denied by making the superclass instance
variable private. One of the reasons it may want to access an instance variable in the
superclass is to perform additional logic for methods in the subclass.
</P>

<H4><A NAME="ch07_ 6">
Overriding Methods for Java Classes
</A></H4>

<P>Listing 7.2 shows a program (file OverrideMethod.java on the CD-ROM that
accompanies the book) in which class E inherits from class S. Both classes, S and E,
define instance variables and methods. Some of the instance methods in class E and S,
however, are the same. Figure 7.6 shows the method and instance variables in the
two classes. Notice that the method size() occurs in both class S and its subclass E. When
a method with the same signature occurs in a subclass and its superclass, the method
in the subclass is said to override the method of the superclass. The method
E.size(), therefore, overrides the method S.size(), the method in the superclass. This means that
if the method size() was invoked for an instance of class E, the method that would
be invoked would be that of the corresponding class E.</P>
<BR>


<P><a href="images\ch07fg06.jpg"><img src="images\tn_ch07fg06.jpg"></a><BR>
Figure 7.6
ClassView for OverrideMethod.
</P>

<A NAME="PAGENUM-230"><P>Page 230</P></A>



<P>The set of methods that can be invoked for a
class is called its <I>contract</I>. If a method invoked for a class is not found in the contract for the class, the superclass of
the method is searched for that method. If the method is not found in the superclass,
</P>

<P>the search proceeds up the inheritance hierarchy. From listing 7.2, you can see that
the contracts for class S and E are the following:
</P>

<P>Contract for S:
</P>
<PRE>
    S()
    S(double sx, double sy)
    double size()
    double angleyx()
</PRE>

<P>Contract for E:
</P>

<PRE>
    E()
    E(double x, double y, double z)
    double size()
    double anglezyx()
</PRE>

<P>The <I>protocol</I> of a class is the set of
methods that can be invoked for a class. This includes the methods in the contract for the class, plus the methods in the
superclass minus the superclass methods that have been overridden. The following is an example
of the protocol for the class E:
</P>
<PRE>
    S()         // In class S
    S(double sx, double sy) // In class S
    double angleyx() // In class S
    E()     // In class E
    E(double x, double y, double z) // In class E
    double size() // In class E
    double anglezyx() // In class E
</PRE>

<P>The method size() defined in class S is not listed in the protocol for class E because it
is overridden.
</P>
<P>
<P>

<CENTER>
<TABLE BGCOLOR="#FFFF99">
<TR><TD><B>
NOTE
</B></TD></TR>
<TR><TD>
<BLOCKQUOTE>
When a method with the same signature occurs in both the superclass and its
subclass, the method in the subclass overrides the method in the superclass.
</BLOCKQUOTE></TD></TR>
</TABLE></CENTER>
</P>
<P>Lines 10_45 define the class Dimension with the method
main() needed for the stand-alone program. The remaining lines in the program define the superclass S and its subclass E.
</P>



<P><CENTER>
<a href="0219-0226.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0231-0236.html">Next</A>
</CENTER></P>







</BODY>
</HTML>

