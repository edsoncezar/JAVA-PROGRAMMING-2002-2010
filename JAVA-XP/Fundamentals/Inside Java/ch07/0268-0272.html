<HTML>
<HEAD>


<TITLE>Inside Java:Object-Oriented Programming with Java:EarthWeb Inc.-</TITLE>






<P><CENTER>
<a href="0262-0267.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="..\ch08\0273-0277.html">Next</A>
</CENTER></P>

<A NAME="PAGENUM-268"><P>Page 268</P></A>



<P>network connections or file handles, before the space for the object is reclaimed.
The garbage collector is not able to perform closing actions important for your program.
The &quot;last rites&quot; for an object can be performed by the
finalize() method. Typically, you implement the
finalize() method by using the following:
</P>

<PRE>
      protected void finalize() throws Throwable
      {
         super.finalize();

         // Other cleanup code.

      } // end finalize
</PRE>

<P>The call to super.finalize(), although not required by the language, is a good
programming practice. It ensures that the finalize code for instances of the superclass is executed
and any cleanup actions needed to be performed by the superclass portion of the object
is executed. Otherwise, only the finalize actions for the subclass extension of the object
will be performed, and the superclass's finalize() method will not be called.
</P>

<P>When an application terminates, the finalize() method of all the objects are run.
Under severe error conditions, the Java runtime may not be able to execute the
finalize() methods. If, for example, an &quot;out of memory&quot; error occurs, there may not be enough memory
to execute the code to invoke the finalize() methods of the classes. Under normal
operating conditions, you can expect the
finalize() method to be executed any time before
the application terminates.
</P>

<H4><A NAME="ch07_ 14">
Making Classes and Methods Abstract
</A></H4>

<P>Java permits you to define classes that provide the structure of how the methods
should be designed, with the restriction that the class itself cannot be instantiated.
These classes are called abstract classes. You can, however, subclass the abstract class,
and create an instance of the class. The abstract class can also be used to provide a
partial implementation of the class, and use extended classes to provide the remaining
implementation. Abstract classes are useful for modeling the basic behavior of an
object, while leaving the implementation details to programmers. Abstract classes can be
used to create the protocol that will be used with the class.
</P>

<P>Abstract classes can also be used to model the behavior of
<I>abstract data types</I> (ADTs), used in object-oriented design. You can declare a class to be abstract by marking it
with the reserved word abstract:
</P>

<PRE>
      abstract class classname
</PRE>


<A NAME="PAGENUM-269"><P>Page 269</P></A>


<PRE>
      {
         ...
      }
</PRE>

<P>Each method not specifically implemented in
<I>classname</I> is marked as abstract. For
greater clarity and readability, you can individually mark the methods in the class as
being abstract. If any of the methods of a class is abstract, the entire class is marked
implicitly as abstract. Therefore, the following class is also abstract:
</P>

<PRE>
      class classname
      {
         abstract datatype methodname(parameters);
         ...
      }
</PRE>

<P>As part of good programming practice, you should declare the entire class as
being abstract so that you can readily identify the class as being abstract without having
to scan all the methods to see if there is an abstract method that would make the
class abstract.
</P>

<P>Consider the following abstract class construction:
</P>

<PRE>
abstract class Connection
{
      // Returns a true if the connection is
      // successful; otherwise, a false is
      // returned.
      public abstract boolean makeConnection();

      public void tryConnection(int retrys)
      {
         for (int x = 0; x &lt; retrys; x++)
         {
            if (makeConnection())
            {
                  return;

            } // end if

            } // end for
</PRE>


<A NAME="PAGENUM-270"><P>Page 270</P></A>


<PRE>
            System.out.println(&quot;Connection failure&quot;);

         } // end tryConnection
} // end Connection
</PRE>

<P>The abstract class, Connection, defines an abstract method called
makeConnection() that is used to make a logical connection between two computers on a network.
Because makeConnection() is marked as abstract, there is no code provided for this method; the
code will have to be provided by an extended class. Method
tryConnection() invokes makeConnection() a certain number of times to ensure that the connection takes place.
</P>

<P>To use the abstract class Connection, you will have to subclass it and provide the
implementation of the abstract method:
</P>

<PRE>
class MoneyTransac extends Connection
{

      public boolean makeConnection()
      {
            // Code that returns a true
            // if the connection is
            // successful; otherwise, a false
            // is returned.

         } // end makeConnection

         // Method tryConnection()
         // is inherited.

} // end MoneyTransac
</PRE>

<P>If a subclass of an abstract class fails to provide an implementation of an
abstract method, it too is marked abstract. You can therefore have an inheritance chain
where several classes that do not implement an abstract method are implicitly abstract.
</P>
<P>
<P>

<CENTER>
<TABLE BGCOLOR="#FFFF99">
<TR><TD><B>
NOTE
</B></TD></TR>
<TR><TD>
<BLOCKQUOTE>
Subclasses of an abstract class that do not provide an implementation of an
abstract method are also abstract.
</BLOCKQUOTE></TD></TR>
</TABLE></CENTER>
</P>
<A NAME="PAGENUM-271"><P>Page 271</P></A>



<H3><A NAME="ch07_ 15">
Summary
</A></H3>

<P>In this chapter you learned how to implement the inheritance mechanism of Java.
The inheritance mechanism in Java is fundamental to support object-oriented programming
in the Java language. In this chapter you learned about superclasses and subclasses.
You were presented with a number of examples illustrating class inheritance. Creating
a subclass of an existing class is also called extending the class. You can create
restrictions on how the methods of a class are accessed by subclasses and other classes in
the same package as the declaring class or another package. You can create alternative
and more refined implementations of methods of a superclass by overriding the
superclass methods.
</P>


<A NAME="PAGENUM-272"><P>Page 272</P></A>



<P><CENTER>
<a href="0262-0267.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="..\ch08\0273-0277.html">Next</A>
</CENTER></P>







</BODY>
</HTML>

