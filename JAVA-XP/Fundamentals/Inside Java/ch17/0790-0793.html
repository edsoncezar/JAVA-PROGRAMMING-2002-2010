<HTML>
<HEAD>


<TITLE>Inside Java:JDBC:EarthWeb Inc.-</TITLE>






<P><CENTER>
<a href="0787-0789.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0794-0797.html">Next</A>
</CENTER></P>

<A NAME="PAGENUM-790"><P>Page 790</P></A>

<P>facilities of the underlying java.util.Date class. The
setHours() method, for example, would
give a java.sql.Date value that would not compare properly with other SQL Date
values, because a SQL Date consists of just a day, a month, and a year. The following
sections describe the methods and constructors of the java.sql.Date class.
</P>

<P><B>Constructors for the java.sql.Date Class
</P></B>

<P>The constructor for this class has the following two forms:
</P>

<UL>
<LI>          Date(int year, int month, int day): This constructs a date from the supplied parameters.
<LI>          Date(long datevalue): This constructs a date by using a time value in milliseconds.
</UL>

<P><B>Methods of the java.sql.Date Class
</P></B>

<P>The java.sql.Date class has the following methods:
</P>

<UL>
<LI>          String toString(): This method returns a String in the &quot;yyyy-mm-dd&quot; format.
<LI>          Date valueOf(String datestring): This method accepts a String in the form
&quot;yyyy-mm-dd&quot; and returns a corresponding Date object.
</UL>

<H4><A NAME="ch17_ 24">
The java.sql.Time Class
</A></H4>

<P>This class adds to the functionality provided by the java.util.Date class, enabling
JDBC to identify it as a SQL TIME value. Formatting and parsing operations have been
added to support the JDBC escape syntax for time values.
</P>

<P>Once again, the JavaSoft documentation recommends against the use of the full
facilities of the underlying java.util.Date class. The
setMonth() method, for example, obtains a java.sql.Time value that would not compare properly with other Time values.
The following sections describe the constructors and methods of the java.sql.Time class.
</P>


<P><B>Constructors for the java.sql.Time Class
</P></B>

<P>The java.sql.Time Class constructor has the following two forms:
</P>

<UL>
<LI>          Time (int hour, int minute, int
second): This constructs a Time object from the
specified parameters.
<LI>          Time (long timevalue): This constructs a Time object by using the timevalue,
provided in milliseconds.
</UL>


<A NAME="PAGENUM-791"><P>Page 791</P></A>



<P><B>Methods of the java.sql.Time Class
</P></B>

<P>The java.sql.Time class has two methods:
</P>

<UL>
<LI>          Time valueOf (String timevalue): This method accepts a String in JDBC time-escape
format &quot;hh:mm:ss&quot; and then converts it to a Time object.
<LI>          String toString(): This method returns a String in &quot;hh:mm:ss&quot; format.
</UL>

<H4><A NAME="ch17_ 25">
The java.sql.Timestamp Class
</A></H4>

<P>This class is an extension of the java.util.Date class. Modifications enable JDBC
to identify this as a SQL TIMESTAMP value. With its new capabilities, this class now
can hold the SQL TIMESTAMP nanos value and perform formatting and parsing
operations that support the JDBC escape syntax for timestamp values.
</P>

<P>This class is actually a combination of a java.util.Date and a separate nanos value.
The nanos, which are fractional seconds, are separate from the integral seconds, which
are stored in the java.util.Date component. To obtain a time value that includes the
fractional seconds, convert the nanos to milliseconds and add this value to the value returned
by the getTime() method.
</P>

<P><B>Constructors for the java.sql.Timestamp Class
</P></B>

<P>The constructor for the java.sql.Timestamp class has the following two forms:
</P>

<UL>
<LI>          Timestamp(int year, int month, int date, int hour, int minute, int second, int
nanosecond): This constructs a Timestamp object by using the values supplied as parameters.
<LI>          Timestamp(long timevalue): This constructs a Timestamp by using a time value
in milliseconds.
</UL>

<P><B>Methods of the java.sql.Timestamp Class
</P></B>

<P>The java.sql.Timestamp class has the following methods:
</P>

<UL>
<LI>          Timestamp valueOf(String
timeStampStr): Accepts a String in the timestamp format
&quot;yyyy-mm-dd hh:mm:ss.fffffffff&quot; and returns a corresponding Timestamp object.
<LI>          String toString(): Returns a String in the &quot;yyyy-mm-dd hh:mm:ss.fffffffff&quot; format.
<LI>          int getNanos(): Returns the Timestamp's fractional seconds part.
</UL>

<A NAME="PAGENUM-792"><P>Page 792</P></A>



<UL>
<LI>          void SetNanos(int nanovalue): Sets the Timestamp's nanos value.
<LI>          boolean equals(Timestamp ts): Tests Timestamp values for equality. This
method compares the current Timestamp with the supplied Timestamp value. It returns
true if the values are equal, or false if they are not.
<LI>          boolean before(Timestamp ts): Determines if the current Timestamp object is earlier
than another Timestamp value. This method accepts the Timestamp value, ts,
to compare with the current Timestamp object. It returns true if the current
Timestamp object's value is before ts; otherwise, false is returned.
<LI>          boolean after(Timestamp ts): Determines if the current Timestamp object is later
than another Timestamp value. This method accepts the Timestamp value, ts,
to compare with the current Timestamp object. It returns true if the current
Timestamp object's value is after ts.
</UL>

<H4><A NAME="ch17_ 26">
The java.sql.Types Class
</A></H4>

<P>The Types class extends the java.lang.Object class and defines constants used
to identify SQL types. The actual type constant values are equivalent to those in XOPEN.
</P>

<P>The section &quot;Mapping SQL Data Types to Java Data Types,&quot; which occurs later in
this chapter, presents a detailed mapping of SQL types to Java types.
</P>

<H4><A NAME="ch17_ 27">
The java.sql.DataTruncation Class
</A></H4>

<P>The DataTruncation class extends the java.sql.SQLWarning class. When JDBC
truncates a data value unexpectedly, it either reports a DataTruncation warning for a
read process or throws a DataTruncation exception for a write process.
</P>

<P>The SQL state for a DataTruncation is &quot;01004.&quot;
</P>

<P>The following sections describe the constructor and methods for
the java.sql.DataTruncation class.
</P>


<P><B>Constructor for the java.sql.DataTruncation
</P></B>

<P>This constructor has the following form:
</P>

<PRE>
DataTruncation( int index, boolean param_truncated, boolean read_truncated, int dataSize, int dataTransferredSize)
</PRE>

<P>The index parameter is the index of the column or parameter value. The
param_truncated parameter is true if a parameter value was truncated. If the trun-<BR>
cation occurred for a read process, the read_truncated value is true. The
dataSize variable indicates the original size of the data. The size of the data after truncation
is indicated by dataTransferredSize.
</P>

<A NAME="PAGENUM-793"><P>Page 793</P></A>




<P><B>Methods of the java.sql.DataTruncation Class
</P></B>

<P>The java.sql.DataTruncation class has the following methods:
</P>

<UL>
<LI>          int getIndex(): Returns the index of the column or parameter that was truncated.
The return value is _1 if the column or parameter index is unknown. In this case,
the parameter and read fields of the DataTruncation object should be ignored.
<LI>          boolean getParameter(): Returns true if the truncated value was a parameter; if a
column value was truncated, false is returned.
<LI>          boolean getRead(): Returns true if the value was truncated when read from the
database. This method returns false if the data was truncated during a write.
<LI>          int getDataSize(): Returns the number of bytes that should have been transferred.
The value is _1 if the size is unknown. If data conversions were being performed,
the number returned can be an approximation.
<LI>          int getTransferSize(): Returns the number of bytes that were actually transferred. If
the size is unknown, the return value is _1.
</UL>

<H4><A NAME="ch17_ 28">
The java.sql.SQLException Class
</A></H4>

<P>The java.sql.SQLException class extends the java.lang.Exception class.
The SQLException class provides information about a database access error.
</P>

<P>Each SQLException class provides the following kinds of information:
</P>

<UL>
<LI>          A string that describes the error. This string, which is used as the
JavaException message, is available via the
getMessage() method.
<LI>          A vendor-specific integer error code. This is usually the actual error code that
is returned by the database being accessed.
<LI>          A SQLState string that is in accordance with the XOPEN SQLState
conventions. The acceptable values of this string are described in the XOPEN SQL specification.
<LI>          A chain to the next Exception. This chain can be used to obtain more
information about the error.
</UL>

<P>The following sections describe the constructors and methods for
the java.sql.SQLException class.
</P>

<P><B>Constructors for the java.sql.SQLException Class
</P></B>


<P><CENTER>
<a href="0787-0789.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0794-0797.html">Next</A>
</CENTER></P>







</BODY>
</HTML>

