<HTML>
<HEAD>


<TITLE>Inside Java:JDBC:EarthWeb Inc.-</TITLE>






<P><CENTER>
<a href="0794-0797.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0801-0804.html">Next</A>
</CENTER></P>

<A NAME="PAGENUM-798"><P>Page 798</P></A>



<UL>
<LI>          LONGVARCHAR&#247;String. Can be expressed as a String type in Java.
The LONGVARCHAR SQL type can be used to store multimegabyte strings.
By retrieving a LONGVARCHAR value as a Java input stream, programmers
can retrieve the value in chunks. Java streams can be used for Unicode, as well
as ASCII data.
<LI>          DATE&#247;java.sql.Date. Consists of a day, month, and year. For SQL DATE
information, java.sql.Date can be used. The hour, minute, second, and millisecond fields
of the base class java.util.Date are set to zero.
<LI>          TIME&#247;java.sql.Time. Consists of hours, minutes, and seconds. For SQL
TIME information, java.sql.Time can be used. The year, month, and day fields of the
base class java.util.Date are set to 1970, January, and 1, respectively. This signifies
the &quot;zero&quot; date in the Java epoch.
<LI>          TIMESTAMP&#247;java.sql.Timestamp. Consists of both DATE and TIME, as well as
a nanosecond field. For SQL TIMESTAMP information, you can
use java.sql.Timestamp, which also has a nanosecond field.
</UL>

<P>This section discusses the mapping of results and parameters whose types are known
at compilation time. Some applications may not have knowledge of the database
schema that they access at the time they are compiled, so JDBC provides support for
complete dynamically typed data access.
</P>

<H4><A NAME="ch17_ 31">
Exploring JDBC Metadata Capabilities
</A></H4>

<P>Metadata is information about both the data in the database and the database itself.
This information is invaluable when determining the nature of the data and the capabilities
of the database. The initial design of JDBC used complex methods in core JDBC classes
to implement metadata features. This approach was, however, discarded and replaced
by two additional interfaces in JDBC release 1.10, and carried forward into the current
JDK 1.1 release. JDBC provides database application programmers with two interfaces
that provide a wide range of metadata functions. These interfaces
are java.sql.DatabaseMetaData and java.sql.ResultSetMetaData.
</P>

<P><B>The DatabaseMetaData Interface
</P></B>

<P>DatabaseMetaData provides metadata about the database itself. The methods of <BR>
this interface generally return their results in java.sql.ResultSet objects. Because
this section discusses only a few of the most commonly used features of
Database     MetaData, you can refer to the JavaSoft Web site at the following Web page for
a complete reference document:
</P>

<PRE>

http://splash.javasoft.com/jdbc/html-0110/java.sql.DatabaseMetaData.html#_top
</PRE>


<A NAME="PAGENUM-799"><P>Page 799</P></A>



<P>The following are some of the most commonly used methods in the
DatabaseMetaData interface:
</P>

<UL>
<LI>          URL getURL(): Obtains the Uniform Resource Locator (URL) of the database.
The URL is returned as a Java String object, if it can be determined. A SQLException
is thrown if the URL cannot be determined.
<LI>          String getUserName(): Returns the username that is known to the database as a
Java String object. The method throws a SQLException if the username cannot
be determined.
<LI>          int getMaxConnections(): Provides the maximum number of active connections that
the database can support. An integer representing the maximum number of
connections is returned.
<LI>          ResultSet getTables(String CatalogName, String SchemeNamePattern, String TableNamePattern,
String TableTypes): Searches for tables matching the TableNamePattern and the
specified TableTypes (for example, Table, System Table, View, and so on) in the
catalog (specified by CatalogName). This method also searches for all the schema
matching SchemaNamePattern. It returns a ResultSet containing the descriptions of
all the tables matching the above-mentioned criteria. Each row in the
ResultSet describes a single table. The user can iterate through the ResultSet to obtain
table descriptions.
</UL>
<P>

<CENTER>
<TABLE BGCOLOR="#FFFF99">
<TR><TD><B>
WARNING
</B></TD></TR>
<TR><TD>
<BLOCKQUOTE>
Not every method of this interface can be completely implemented by all
database drivers. Database vendors or third-party driver providers can implement only the
most commonly used methods. Any method that is not implemented throws a
SQLException if the method is invoked.
</BLOCKQUOTE></TD></TR>
</TABLE></CENTER>
</P>
<P><B>The ResultSetMetaData Interface
</P></B>

<P>The ResultSetMetaData interface is probably more commonly used than
the DatabaseMetaData interface. The ResultSetMetaData interface gives an
application programmer information about the ResultSet obtained from a query. The programmer
can use this interface to determine properties of the columns in a ResultSet.
</P>

<P>The following list describes important methods of this interface:
</P>

<UL>
<LI>          int getColumnCount(): Obtains the number of columns in the ResultSet. This
method returns an integer that equals the number of columns.
<LI>          String getColumnName(int Column
Number): Obtains the actual name of a column, given
the column number in a ResultSet.
<LI>          int getColumnType(int Column
Number): Returns the SQL type of the column indicated
by
</UL>

<A NAME="PAGENUM-800"><P>Page 800</P></A>

<UL>
Column_Number. SQL types are defined in java.sql.Types. Refer to table 17.2 for
a list of SQL types and their mapping to corresponding Java data types.<BR>
<LI>          boolean isCurrency(int Column
Number): Checks whether the value in the column
specified by using Column_Number is a currency (cash) value or not. This method,
which returns a true or false value, is quite useful in financial applications.
<LI>          String getTableName(int Column
Number): Obtains the name of the table to which
the column represented by Column_Number belongs. This method then returns
the name of the table in a Java String object.
</UL>

<P>Other methods can determine whether a particular column can only be read, if it can
be written, or if a search can be specified by using the column.
</P>

<H3><A NAME="ch17_ 32">
Implementing  JDBC
</A></H3>

<P>So far, this chapter has presented information to familiarize you with JDBC. Now it's
time to put this knowledge to work. This section presents
a real-life scenario that uses JDBC to create a corporate Web site, and takes you step-by-step through the
implementation procedure.
</P>

<H4><A NAME="ch17_ 33">
Background Information
</A></H4>

<P>Based in Atlanta and Macon, Georgia, H2O Inc. is an up-and-coming dealer of
water pumps of all kinds. With growing competition, H2O decided that they needed to target
a wider market, including the entire state of Georgia, by using the World Wide
Web. Company officials were convinced that Web shopping would bring in an
unprecedented amount of revenue because their company would become more visible and more
accessible from distant places.
</P>

<P>H2O, however, faced certain problems. The offices in Atlanta and Macon had
grown independently, creating differences in the way each of the offices stored
information. The Atlanta office maintained their inventory database on Oracle

(http://     www.oracle.com), whereas the smaller Macon office maintained its database on mSQL
(Mini SQL&#151;for full details refer to
<a href="http://www.minmet.uq.oz.au/msqljava/)">
http://www.minmet.uq.oz.au/msqljava/)</A>, a lightweight
database engine.
</P>

<P>To enable their Web shoppers to view the entire inventory contained collectively
within both offices, the company designed an application with Java and JDBC.
</P>


<P><CENTER>
<a href="0794-0797.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0801-0804.html">Next</A>
</CENTER></P>







</BODY>
</HTML>

