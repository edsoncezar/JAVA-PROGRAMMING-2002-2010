<HTML>
<HEAD>


<TITLE>Inside Java:Defining Java Classes:EarthWeb Inc.-</TITLE>






<P><CENTER>
<a href="0191-0197.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0203-0207.html">Next</A>
</CENTER></P>

<A NAME="PAGENUM-198"><P>Page 198</P></A>



<P>
<a href="images\ch06fg09.jpg"><img src="images\tn_ch06fg09.jpg"></a><BR>
<B>Figure 6.9</B>
<I>Call by value illustrated.</I>
</P>

<P>Figure 6.9 illustrates the call by value for the program in listing 6.2.
</P>

<P>Listing 6.3
</P>
<PRE>
Line==================Java Source=================
01 /**
02  * CallByValue: This shows how call by value works.
03  *
04  * Author: Karanjit S.G.S. Siyan
05  *
06  */
07 class CallByValue
08 {
09     public static void main(String[] args)
10     {
11         int x = 10;
12
13         System.out.println(&quot;Value of x before call to multBy3() = &quot;+x);
14
15         multBy3(x);
16
17         System.out.println(&quot;Value of x after call to multBy3() = &quot;+x);
18
19     }  // end main
20
21     static void multBy3(int x)
22     {
23         System.out.println(&quot;\tValue of x received inside multBy3() = &quot;+x);
24
</PRE>


<A NAME="PAGENUM-199"><P>Page 199</P></A>


<PRE>
25         x *= 3;
26

27         System.out.println(&quot;\tValue of x after multiplying by 3 inside
&Acirc;multBy3() = &quot;+x);
28
29     }  // end multBy3
30
31 }  // end CallByValue
</PRE>

<P>The example in listing 6.3 used a basic Java type passed as a parameter. If, however,
Java objects such as arrays and class instances are passed as parameters, their
reference values are passed by value. A reference value for a Java object is the internal address
of the object. This internal address is not available to you, the programmer, for
manipulation.
</P>

<P>

<B>On the
CD</B><BR>
Consider the example of passing an object to a method shown by program in listing
6.4 (see file CallByValue2.java on the CD-ROM accompanying this book).
</P>


<P>
<a href="images\ch06fg10.jpg"><img src="images\tn_ch06fg10.jpg"></a><BR>
<B>Figure 6.10</B>
<I>Output of call by value for Java objects.</I>
</P>

<P>The output of this program CallByValue2 is shown in figure 6.10. This output shows
that the color of the car object is modified after a call to the method.
</P>

<P>Lines 9_41 contain the declaration of the CallByValue2 class and lines 44_71 contain
the definition of the Car class. A good place to start understanding this program is
to examine the Car class first, and then the CallByValue2 class that uses the Car class.
</P>

<P>Lines 46_48 define class variables name, color, and
nCylinders for holding the make of the car, the color of the car, and the number of cylinders in the car engine.
</P>

<P>Lines 51_57 define a constructor for the car. Recall that a constructor builds the
instance
</P>

<A NAME="PAGENUM-200"><P>Page 200</P></A>



<P>of the class. In the case of the constructor for
Car, the name, color, and number of cylinders are passed as parameters to the constructor, and the class variables are set
to these parameter values.
</P>
<PRE>
61     public String toString()
62     {
63         String descr = &quot;{name = &quot;+name+
64                       &quot;, color = &quot;+color+
65                       &quot;, engine = &quot;+nCylinders+&quot; cyl}&quot;;
66
67         return descr;
68
69     }  // end toString
</PRE>

<P>Lines 61_69 contain the toString() method for class
Car. The toString() method needs to be defined for every class that expects its value to be printed out by using the
print() and println() methods defined for the
PrintStream class. These print methods call the
toString() method to generate a printable string value for all objects passed to them.
</P>

<P>Next, examine the class CallByValue2. Line 18 instantiates the
Car class and builds an object called car by calling the constructor for class
Car.
</P>
<PRE>
Car car = new Car(&quot;Grand Cherokee Limited&quot;, &quot;blue&quot;, 8);
</PRE>

<P>Line 20 prints out the current value of the car object. The
println() method uses the toString() method defined in class Car to print out the car object.
</P>
<PRE>
System.out.println(&quot;Car before call\n\t&quot;+car);
</PRE>

<P>Line 22 calls the changeToGreen() method defined in the class CallByValue2 to change
the color of the car object passed to it to green.
</P>
<PRE>
changeToGreen(car);
</PRE>

<P>When the car object is passed to this method, the reference (address) to the car object
is passed by value. Figure 6.11 shows that there are two references to car object. One is
the actual object car and the other is the parameter for the car object, autoRef, in
the changeToGreen() method.
</P>

<P>Step 1 in figure 6.11 shows that the reference value of
car is passed by value to the autoRef parameter. At this point, both
car and autoRef point to the same object (see step 2). In step 3, when the color value is modified by using
autoRef, the actual color value of
</P>

<A NAME="PAGENUM-201"><P>Page 201</P></A>





<P>
<a href="images\ch06fg11.jpg"><img src="images\tn_ch06fg11.jpg"></a><BR>
<B>Figure 6.11</B>
<I>Two references to car object.</I>
</P>

<P>the object that was passed is modified. This is illustrated in the output in figure 6.10.
</P>

<P>Listing 6.4
</P>
<PRE>
Line==================Java Source=================
01 /**
02  * CallByValue2: This shows how call by value works
03  * for Java objects.
04  *
05  * Author: Karanjit S.G.S. Siyan
06  *
07  */
08
09 class CallByValue2
10 {
11    /*
12     * main: Main procedure that is called
13     * by Java runtime.
14     */
15     public static void main(String[] args)
</PRE>
<PRE>
								<I>continues</I>
</PRE>

<A NAME="PAGENUM-202"><P>Page 202</P></A>




<P>Listing 6.4, Continued
</P>
<PRE>
16     {
17         // Build a new car
18         Car car = new Car(&quot;Grand Cherokee Limited&quot;, &quot;blue&quot;, 8);
19
20         System.out.println(&quot;Car before call\n\t&quot;+car);
21
22         // Change color of car to green
23         changeToGreen(car);
24
25         // What do you think:
26         //      Has the color changed?
27         System.out.println(&quot;Car after call\n\t&quot;+car);
28
29     }  // end main
30
31
32    /*
33     * changeToGreen: Selectively changes color of car
34     */
35     static void changeToGreen(Car autoRef)
36     {
37         autoRef.color = &quot;forest green&quot;;
38
39     }  // end changeToGreen
40
41 }  // end CallByValue2
42
43 // Car class definition
44 class Car
45 {
46     String name = &quot;no name&quot;;
47     String color = &quot;no color&quot;;
48     int nCylinders;
49
50     // Car constructor
51     Car (String nam, String col, int nCyl)
52     {
53         name = nam;
54         color = col;
</PRE>


<P><CENTER>
<a href="0191-0197.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0203-0207.html">Next</A>
</CENTER></P>







</BODY>
</HTML>

