<HTML>
<HEAD>


<TITLE>Inside Java:Defining Java Classes:EarthWeb Inc.-</TITLE>






<P><CENTER>
<a href="0198-0202.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0208-0212.html">Next</A>
</CENTER></P>

<A NAME="PAGENUM-203"><P>Page 203</P></A>



<PRE>
55         nCylinders = nCyl;
56

57     }  // end Car
58
59     // toString: Needed by System.out.println
60     // to print string value of car.
61     public String toString()
62     {
63         String descr = &quot;{name = &quot;+name+
64                       &quot;, color = &quot;+color+
65                       &quot;, engine = &quot;+nCylinders+&quot; cyl}&quot;;
66
67         return descr;
68
69     }  // end toString
70
71 }  // end Car
</PRE>

<P>Passing object references by values avoids large copies of data structures that
would become necessary if the entire object was passed by value. If, for example, you
were passing a large object such as an int array of 1000 bytes to a method by value, instead
of the array reference, the compiler would have to copy 4000 bytes of data. Obviously,
this is very inefficient. Because the array reference is passed by value, only the size of
the reference (address) value needs to be copied internally, and this amounts to just a
few bytes (typically 4 bytes on a 32-bit processor).
</P>

<H4><A NAME="ch06_ 14">
Use of this
</A></H4>

<P>Java provides a reserved word called this to refer to an instance of the class object
itself. When writing a method, you do not know ahead of time what the name of the object
is. Use of this can, in many instances, simplify the writing of the class methods.
</P>

<P>Consider the following example that defines two classes AnotherClass and Continent:
</P>

<PRE>
class AnotherClass
{
      void getArea(Continent cont)
      {
         // statements

      } // end getArea

      // Other methods
</PRE>


<A NAME="PAGENUM-204"><P>Page 204</P></A>


<PRE>
} // end AnotherClass

class Continent
{
      void drift()
      {
         AnotherClass uobj;

         uobj.getArea(this);


      } // end drift

      // Other methods
} // end Continent
</PRE>

<P>In the getArea() method of the AnotherClass, an object of type Continent is passed.
In the method drift() in the class Continent, the method
getArea() needs to be called. getArea() needs to be called with an instance of the class
Continent, and, in this case, the instance is the same object for which the method
drift() was called. The problem here is that you
do not know beforehand the name of the object instance. This is where
this comes in handy! Notice that getArea() is called with this as a parameter:
</P>

<PRE>
uobj.getArea(this);
</PRE>

<P>Actually, the use of this is implied for all references to the class variables within
the class. Consider, for example, the following Java code fragment:
</P>
<PRE>
class ExThis
{
      float area = 10F;
      int      index = 0;
      char      ch;

      void method1()
      {
         int       x = 20;
         float     y = 40f;
         float     z = 1f;
</PRE>


<A NAME="PAGENUM-205"><P>Page 205</P></A>


<PRE>
         area = 20f;
         index = 20;
         ch = `x';


      } // end method1
} // end ExThis
</PRE>

<P>The preceding code fragment is equivalent to the following:
</P>
<PRE>
class ExThis
{
      float area = 10F;
      int     index = 0;
      char    ch;

      void method1()
      {
         int       x = 20;
         float     y = 40f;
         float     z = 1f;

         this.area = 20f;
         this.index = 20;
         this.ch = `x';

      } // end method1

} // end ExThis
</PRE>

<P>Notice that in the second version of the code fragment, the use of
this is used to reference all class variables for the object for which the method was invoked.
This illustrates the fact that the use of this is implied for all reference to class variables
within the class itself. You can omit this for referencing class variables and reference them
just by the name; the use of this, in this case is implicit.
</P>

<P>You can also use this to distinguish between class variables and local variables.
Consider the example of the constructor for Car in the listing 6.4.
</P>

<PRE>
44 class Car
45 {

</PRE>

<A NAME="PAGENUM-206"><P>Page 206</P></A>



<PRE>
46       String name = &quot;no name&quot;;
47       String color = &quot;no color&quot;;
48       int nCylinders;
49
50       // Car constructor
51       Car (String nam, String col, int nCyl)
52       {
53           name = nam;
54           color = col;
55           nCylinders = nCyl;
56
57       }  // end Car
58
59       // toString: Needed by System.out.println
60       // to print string value of car.
61       public String toString()
62       {
63           String descr = &quot;{name = &quot;+name+
64                         &quot;, color = &quot;+color+
65                         &quot;, engine = &quot;+nCylinders+&quot; cyl}&quot;;
66
67           return descr;
68
69       }  // end toString
70
71 }  // end Car
</PRE>

<P>Notice that the parameters for the constructor
Car() were changed so as not to conflict with the class variable names. If you wanted to use the same names for both the
class variables and parameters, you could use the following:
</P>
<PRE>
  class Car
   {
      String name = &quot;no name&quot;;
      String color = &quot;no color&quot;;
      int nCylinders;

      // Car constructor
      Car (String name, String color, int nCylinders)
      {
         this.name = name;
</PRE>


<A NAME="PAGENUM-207"><P>Page 207</P></A>


<PRE>
         this.color = color;
         this.nCylinders = nCylinders;

      }  // end Car

      // toString: Needed by System.out.println
      // to print string value of car.
      public String toString()
      {
         String descr = &quot;{name = &quot;+name+
            &quot;, color = &quot;+color+
            &quot;, engine = &quot;+nCylinders+&quot; cyl}&quot;;

         return descr;

      }  // end toString

   }  // end Car
</PRE>

<P>The statements that have been changed are in bold so that you can more easily
identify the changes. The this.name, this.color, and
this.nCylinders refer to the class instance variables, and the
name, color, and nCylinders refer to parameters.
</P>

<P>One reason that you may want to use the same name for class variables, parameters,
and locals is that the name you selected is a good one, and is descriptive of the actual
usage of the variable.
</P>

<P>Note that you could also have written the
toString() method by using this, as shown next:
</P>
<PRE>
public String toString()
      {
         String descr = &quot;{name = &quot;+this.name+
            &quot;, color = &quot;+this.color+
            &quot;, engine = &quot;+this.nCylinders+&quot; cyl}&quot;;

         return descr;

      }  // end toString
</PRE>



<P><CENTER>
<a href="0198-0202.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0208-0212.html">Next</A>
</CENTER></P>







</BODY>
</HTML>

