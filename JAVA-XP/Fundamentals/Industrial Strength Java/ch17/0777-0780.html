<HTML>
<HEAD>


<TITLE>Industrial Strength Java:JDBC:EarthWeb Inc.-</TITLE>





<P><CENTER>
<a href="0773-0776.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0781-0783.html">Next</A>
</CENTER></P>

<A NAME="PAGENUM-777"><P>Page 777</P></A>


<P>original size of the data. The size of the data after truncation is indicated
by &quot;dataTransferredSize.&quot;
</P>

<P><B>
Methods of the java.sql.DataTruncation Class
</B></P>

<P>The java.sql.DataTruncation class has the following methods:
</P>

<UL>
<LI>          int
getIndex(). Returns the index of the column or parameter that was
truncated. The return value is _1, if the column or parameter index is unknown. In this
case, the &quot;parameter&quot; and &quot;read&quot; fields of the DataTruncation object should be ignored.
<LI>          Boolean
getParameter(). Returns true, if the truncated value was a parameter; if
a column value was truncated, false is returned.
<LI>          Boolean
getRead(). Returns true if the value was truncated when read from
the database. It returns false if the data was truncated during a write.
<LI>          int
getDataSize(). Returns the number of bytes that should have been
transferred. The value is _1, if the size is unknown. If data conversions were being
performed, the number returned may be an approximation.
<LI>          int
getTransferSize(). Returns the number of bytes that were actually
transferred. If the size is unknown, the return value is _1.
</UL>

<H4><A NAME="ch17_ 24">
The java.sql.SQLException Class
</A></H4>

<P>The java.sql.SQLException class extends the java.lang.Exception class. Information
about a database access error is provided by the SQLException class.
</P>

<P>Each SQLException class provides the following kinds of information:
</P>

<UL>
<LI>          A string that describes the error. It is available via the
getMessage() method. This string is used as the JavaException message.
<LI>          A vendor specific integer error code. This is usually the actual error code that
is returned by the database being accessed.
<LI>          A SQLState string that is in accordance with the XOPEN SQLState
conventions. The acceptable values of this string are described in the XOPEN SQL
specification.
<LI>          A chain to the next Exception. This can be used to obtain more information
about the error.
</UL>

<P>The constructors and methods for the java.sql.SQLException class are described in
the following sections.
</P>


<A NAME="PAGENUM-778"><P>Page 778</P></A>


<P><B>
Constructors for the java.sql.SQLException Class
</B></P>

<P>The constructors of this class follow:
</P>

<UL>
<LI>     SQLException(). This constructs an SQLException object. The reason
and SQLState attributes of the object default to null, and the vendorCode
attribute defaults to zero.
<LI>     SQLException(String
reasonForException). This constructs an
SQLException with a reason. However, the SQLState attribute defaults to null and
the vendorCode attribute defaults to zero.
<LI>     SQLException(String reasonForException, String
SQLState). This constructs an SQLException with a reason and a SQLState. The reasonForException
attribute describes the exception, and the SQLState attribute is an XOPEN code for
the exception. However, the vendorCode attribute is set to zero.
<LI>     SQLException(String reasonForException, String SQLState,
intvendor-     Code). This constructs a fully specified SQLException.
</UL>

<P><B>
Methods of the java.sql.SQLException Class
</B></P>

<P>The java.sql.SQLException class consists of the following methods:
</P>

<UL>
<LI>          int
getErrorCode(). This returns the vendor-specific exception code.
<LI>          String
getSQLState(). This returns the SQLState, defined in the XOPEN
specification.
<LI>          SQLException
getNextException(). Use this method to obtain the next
exception that is chained to the current exception.
<LI>          void
setNextException(SQLException nextSQLException). This adds
a SQLException to the end of the chain.
</UL>

<H4><A NAME="ch17_ 25">
The java.sql.SQLWarning Class
</A></H4>

<P>The java.sql.SQLWarning class extends the java.sql.SQLException class.
The SQLWarning class provides information about a database access warning. When a
method of an object causes a warning to be reported, the warning is chained to that object.
The constructors and methods for the java.sql.SQLWarning class are described in the
following sections.
</P>

<P><B>
Constructors for the java.sql.SQLWarning Class
</B></P>

<P>The constructors for this class have the following forms:
</P>


<A NAME="PAGENUM-779"><P>Page 779</P></A>


<UL>
<LI>     SQLWarning(). This constructs an SQLWarning with the reason and
SQLState attributes set to null, and the vendorCode attribute set to zero.
<LI>     SQLWarning(String
reasonForWarning). This constructs a SQLWarning with
a reason. However, the SQLState attribute defaults to null and the
vendorCode attribute defaults to zero.
<LI>     SQLWarning(String reasonForWarning, String
SQLState). This constructs a SQLWarning with values for the reason and SQLState attributes. The
vendorCode attribute defaults to zero.
<LI>     SQLWarning(String reasonForWarning, String SQLState, int
vendorCode). This constructs a SQLWarning object with a reason that describes the warning,
a SQLState, which is an XOPEN code identifying the warning, and a
vendorCode, which is a vendor-specific warning code.
</UL>

<P><B>
Methods of the java.sql.SQLWarning Class
</B></P>

<P>The java.sql.SQLWarning class consists of the following methods:
</P>

<UL>
<LI>          SQLWarning
getNextWarning(). This returns the SQLWarning object chained
to the current SQLWarning object.
<LI>          void setNextWarning(SQLWarning
nextWarning). This adds a SQLWarning object to the end of the chain.
</UL>

<H3><A NAME="ch17_ 26">
Mapping SQL Data Types to Java Data Types
</A></H3>

<P>Before assigning data that is retrieved from a database to
application variables, be sure it is assigned to compatible types. Also, in order to store and retrieve parameters and
recover results returned after the execution of SQL statements, enough type information should
be made available to the program.
</P>

<P>A mapping of SQL data types to Java data types makes this conversion clear. The
default Java mapping for common SQL data types is shown in table 17.1.
</P>


<P>Table 17.1 Common SQL Data Types
</P>

<TABLE>

<TR><TD>
SQL Type
</TD><TD>
Java Type
</TD></TR><TR><TD>
TINYINT
</TD><TD>
byte
</TD></TR></TABLE>


<A NAME="PAGENUM-780"><P>Page 780</P></A>


<TABLE>

<TR><TD>
SMALLINT
</TD><TD>
short
</TD></TR><TR><TD>
INTEGER
</TD><TD>
int
</TD></TR><TR><TD>
BIGINT
</TD><TD>
long
</TD></TR><TR><TD>
REAL
</TD><TD>
float
</TD></TR><TR><TD>
FLOAT, DOUBLE
</TD><TD>
double
</TD></TR><TR><TD>
NUMERIC, DECIMAL
</TD><TD>
java.lang.Bignum
</TD></TR><TR><TD>
BIT
</TD><TD>
Boolean
</TD></TR><TR><TD>
BINARY, VARBINARY, LONGVARBINARY
</TD><TD>
byte[]
</TD></TR><TR><TD>
CHAR, VARCHAR, LONGVARCHAR
</TD><TD>
String
</TD></TR><TR><TD>
DATE
</TD><TD>
java.sql.Date
</TD></TR><TR><TD>
TIME
</TD><TD>
java.sql.Time
</TD></TR><TR><TD>
TIMESTAMP
</TD><TD>
java.sql.Timestamp
</TD></TR></TABLE>

<P>The documentation provided by JavaSoft mentions that the Java data type does not need
to have exactly the same form as the SQL data type. For instance, Java does not have
any fixed length arrays. So, variable length Java arrays can be used to represent both fixed
and variable length SQL arrays.
</P>

<P>Also, Java Strings have been used, although they do not match any of the SQL
CHAR types exactly.
</P>

<P>Some details of these mappings are discussed in the following list.
</P>

<UL>
<LI>     TINYINT&#180;byte. Represents an 8 bit value, so it can be mapped to Java's
byte type.
<LI>     SMALLINT&#180;short. SMALLINT represents a 16 bit value, so it can be mapped
to Java's short type.
<LI>     INTEGER&#180;int. INTEGER represents a 32 bit value, so it can be mapped to
Java's int type.
<LI>     BIGINT&#180;long.BIGINT represents a 64 bit value, so it can be mapped to
Java's long type.
<LI>     REAL&#180;float. REAL has to support 7 digits of mantissa precision. It has
been mapped to the float type in Java.
<LI>     FLOAT&#180;double. FLOAT has to support 15 digits of mantissa precision.
<LI>     DOUBLE&#180;double. DOUBLE has to support 15 digits
of mantissa precision.
<LI>     NUMERIC&#180;java.lang.Bignum. NUMERIC represents
fixed point numbers when absolute precision is required. This
type is often used for currency values.
</UL>


<P><CENTER>
<a href="0773-0776.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0781-0783.html">Next</A>
</CENTER></P>






</BODY>
</HTML>



