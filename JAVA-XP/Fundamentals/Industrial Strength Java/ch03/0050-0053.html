<HTML>
<HEAD>


<TITLE>Industrial Strength Java:Planning Your Application:EarthWeb Inc.-</TITLE>





<P><CENTER>
<a href="0046-0049.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0054-0057.html">Next</A>
</CENTER></P>

<A NAME="PAGENUM-50"><P>Page 50</P></A>


<P>designers of Java decided that they were not worth the trouble.
</P>

<P>Just to prove that Java interfaces are better solutions, look at the following very
nasty inheritance problem. This is an example of an employee information program. Notice
that all
</P>

<P><a href="images\ch03fg08.jpg"><img src="images\tn_ch03fg08.jpg"></a><BR>
Figure 3.8 A C++ model of company employees.
</P>

<P>the inheritance arrows for Project Consultant and for Temporary Secretary both end
up eventually leading to the Employee class, despite the fact that they should only
inherit from Temporary! There is also a problem with the Project Consultant and Director
classes because each of these may only need certain parts of the Manager class. The
Project consultant handles the project-side of management and the Director only handles
the people-side of Manager.
</P>

<P>The problem here is the visibility of multiple inherited classes, Employee and
Temporary (see fig. 3.8). For example, Project Consultant has a copy of both the Employee class
and the Temporary class, which means that the project consultant might have access to
the employee insurance and retirement plan! 
</P>

<P>Unfortunately, this implementation happens to be perfectly valid in C++.
Inexperienced programmers, when faced with this problem, may design it just this way
(or worse).
</P>

<P>This class structure is logically incorrect and needs to be rewritten. In fact, the
same model can be implemented with pure abstract classes similar to the Java version below.
</P>

<P>The Java solution is much cleaner, and the designer is forced into a particular
structure because true multiple inheritance is impossible. In the Java example shown in figure
3.9, there is no way that a Project Consultant and a Temporary Secretary could become both
a
</P>


<A NAME="PAGENUM-51"><P>Page 51</P></A>


<P><a href="images\ch03fg09.jpg"><img src="images\tn_ch03fg09.jpg"></a><BR>
Figure 3.9 A Java model of company employees.
</P>

<P>Temporary and an Employee. Also, the problems between Director and Project
Manager are reduced because they only need to implement the Manager interface, and that
implementation can be tailored as is required for each management type.
</P>

<P>Multiple inheritance is a very useful metaphor in many programming problems; however,
as was demonstrated, C++ could be easily abused, creating more problems than it was
worth. The designers of the Java language saw that the only safe method for multiple
inheritance was to limit the programmer to inherit one regular class and multiple pure abstract
classes, which are now known as interfaces. Interfaces have become an important part of the
Java
</P>

<P><a href="images\ch03fg10.jpg"><img src="images\tn_ch03fg10.jpg"></a><BR>
Figure 3.10 A Booch diagram showing decoupled access.
</P>


<A NAME="PAGENUM-52"><P>Page 52</P></A>


<P>language. They make several programming problems easy to understand and develop.
</P>

<H4><A NAME="ch03_ 20">
Decoupling Classes
</A></H4>

<P>Interfaces can also be used to decouple classes from their environments (see fig. 3.10).
For instance, a class of Employee can use an interface called Database. The Database
interface contains a method called getNextEmployee() that returns employee information.
The getNextEmployee() method can be implemented by the OracleDatabase class
or FlatFileDatabase class or even an EmployeeDialog class. The Employee class does
not care which other class is doing the work&#151;it just calls the supplied object's method
and uses the results.
</P>

<H4><A NAME="ch03_ 21">
The Myth of Mixed Inheritance (Making Pigs Fly)
</A></H4>

<P>Genetic inheritance is often used to describe object-oriented programming. In Chapter
2, human inheritance was used to explain some of these very concepts. However,
genetic inheritance is often used inappropriately. To understand why and to show by example
what can happen, the example of crossing a pig with a bird is discussed.  First, you need a
quick review of high school biology.
</P>

<P>Genetic inheritance is accomplished when an egg and sperm, each carrying one half of
a strand of DNA, are integrated and (soon) form the first cell of a new individual.
The halves, representing the list of attributes that make up the individual, are
combined, creating a &quot;list&quot; of instructions that are used to build the animal. The instructions on
the chromosomes are position-dependent, and each of the chromosomes contains
different codes. The cell contains the machinery needed to read the instructions encoded in
the DNA, and a factory needed to produce more cells and chemicals that create the individual.
</P>

<P>Now to the example of mating a pig with a bird. Nature does not allow these two
very different species to produce offspring. Exactly why not is a mystery, but there are
many clues. The most obvious reason is the integration of the DNA to create the offspring.
</P>

<P>The sequencing and positioning of the instructions is very dependent on the species.
Many are identical. For instance, instructions for building cells that make up bones,
skin,and organs are almost identical. But, in the case of wings and feathers of a bird, there is
no clear position that can be used to replace some of the parts of the pig with those of
</P>


<A NAME="PAGENUM-53"><P>Page 53</P></A>


<P>the bird. Some sequences that describe wings and other features, such as hollow bones
and feathers, are possibly in areas of a pig's DNA that may describe its legs or curly tail.
Even if they were in the same place, they probably do not take up the same amount of
information on the chromosome. Because of the position dependence of the chromosome
data, mixing a pig with a bird would create some very unpredictable results.
</P>

<P>For example, if the DNA data were represented as the names of the parts, you could
see where a problem might occur. In the following example, the positions are the same for
the heart and lung, but the remaining part of the string have different lengths, so were they
to be mixed, the information would become almost random.
</P>

<TABLE>

<TR><TD>
Bird DNA string:
</TD><TD>
Heart|Lung|Wings|Feather|Beak
</TD></TR><TR><TD>
Pig DNA string:
</TD><TD>
Heart|Lung|Leg|Skin|Tail|Hair
</TD></TR><TR><TD>
Bird/Pig:
</TD><TD>
Heart|Lung|Win|skfeather|Beak
</TD></TR></TABLE>

<P>The resulting &quot;birdpig&quot; would have a heart, lung, and beak, but the legs, skin, and tail
of the pig would be randomly mixed with the wings and feathers of the bird. The
probability of a flying pig from this combination is quite low.
</P>

<P>Comparing this type of mixed species inheritance is impossible to do. If there were a
class Bird and a class Pig, with the combination designated as a class of FlyingPig, it
would become a class with an identity crisis. For instance, the FlyingPig would have a snout
and a beak, four stubby pig legs and an extra pair of clawed feet, a brain that knows how to
fly, and a brain that likes to rut in the mud. The FlyingPig class could isolate or replace
certain methods to create a reasonable flying pig, but that could entail a lot of work.
</P>

<P>The alternative is to evolve a pig into a flying pig. This is much closer to the
genetic inheritance model. In normal inheritance, children are like their inheritance with
only slight differences and possibly mutations. This means you use mutation to create a pig
that has a set of wings. In programming terms, you simply create a flying pig class
that inherets from pig, which adds a new method called fly().
</P>

<P>Simply adding a fly() method is the simplistic answer. A more useful way of creating
the new FlyingPig class is to implement a Flyer interface. The interface has the method
fly(), which the class implements. The reason for the interface becomes obvious if the
FlyingPig and the Bird class are used in the same program. In this case, the Bird class would
also implement the Flyer interface. Now both animals can be operated on as class of Flyer.
</P>

<P><CENTER>
<a href="0046-0049.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0054-0057.html">Next</A>
</CENTER></P>






</BODY>
</HTML>



