<HTML>
<HEAD>


<TITLE>Industrial Strength Java:Planning Your Application:EarthWeb Inc.-</TITLE>





<P><CENTER>
<a href="0054-0057.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0062-0066.html">Next</A>
</CENTER></P>

<A NAME="PAGENUM-58"><P>Page 58</P></A>

<PRE>
       // Label that observed Name field

           nameLabel=new NameLabel(&quot;&quot;);
       add(nameLabel);
           nameLabel.reshape(insets().left + 12,insets().top +
            &Acirc;42,318,26);

       // Name field that talks to the label

       nameField=new Name(39);

       // NameLable connected to nameField
       nameField.setObserver((DataChanged)nameLabel);

       add(nameField);

           nameField.reshape(insets().left + 6,insets().top +
            &Acirc;81,324,26);

       show();
    }
</PRE>

<P>Listings 3.7b through 3.7e have the remaining
code that completes the example by implementing the remaining methods needed by the frame class. The show()
method moves the display to 50,50 and causes the frame to appear.
</P>

<P>Listing 3.7bSimpleObserver Class: The show() method
</P>

<PRE>
public synchronized void show() {
        move(50, 50);
        super.show();
}
</PRE>

<P>The method handleEvent() traps the WINDOW_DESTROY event to close the frame.
</P>

<P>Listing 3.7cSimpleObserver Class: The handleEvent() Method
</P>

<PRE>
public boolean handleEvent(Event event) {
       if (event.id == Event.WINDOW_DESTROY) {
           hide();         // hide the Frame
           dispose();      // tell windowing system to free resources
           System.exit(0); // exit
           return true;
</PRE>


<A NAME="PAGENUM-59"><P>Page 59</P></A>


<PRE>
       }
       return super.handleEvent(event);
}
</PRE>

<P>The main() method is called when the class is run.
</P>

<P>Listing 3.7dSimpleObserver Class: The main() Method
</P>

<PRE>
public static void main(String args[]) {
        new SimpleObserver();
}
</PRE>

<P>Listing 3.7eSimpleObserver Class: Field Definitions
</P>

<PRE>
    Label label2;
    NameLabel nameLabel;
    Name nameField;
}
</PRE>

<H3>
Packages
</H3>

<P>Packages are used to group several interacting or similar classes into a single logical
unit. Packages are used for several reasons. The first is for ensuring unique name
spaces. The package name is prefixed to the class names in the package in order to form a
unique sequence of characters. This prevents name collisions when two different collections
of classes have identical names.
</P>

<H4><A NAME="ch03_ 23">
Name Collision Avoidance
</A></H4>

<P>The possibility of name collision becomes obvious when you imagine that you are
writing an application that would design houses. Because this would be a window application,
you use the AWT package. As part of a house designer, you need to create several classes
that will be used to form the pieces of the house. Some of these classes, such as Door, Roof,
and Bathroom, will not cause any problems. Other classes, however, will have the same names
as those found in the AWT. Classes such as Frame, Window, and Button (a base class for
lights and doorbells) can cause the compiler to generate errors because
of name duplication.
</P>

<P>Packages solve the house problem because the package java.awt holds the AWT classes,
thus making them unique and not confusable with the classes in the house designer
</P>

<A NAME="PAGENUM-60"><P>Page 60</P></A>


<P>application. When the classes that are from the AWT and the house designer are used in the same
class, the package name can be added to the AWT classes to prevent name
collision.
</P>

<P>For instance, in listing 3.8, the house Window class is used in the DisplayHouse
class. Additionaly, because DisplayHouse is used to render the house in an AWT window,
the java.awt.Window class must also be used.
</P>

<P>The class will compile correctly because the Window class is fully qualified by
prefixing AWT's package name to the Window class name.
</P>

<P>Listing 3.8DisplayHouse Class: Field Definitions
</P>

<PRE>
import java.awt.*;
import Window;
class DisplayHouse{
    DisplayHouse(java.awt.Frame frame){
        Window frontWindow = new Window();
        java.awt.Window displayWindow = new  java.awt.Window(frame);
    }
}
</PRE>

<H4><A NAME="ch03_ 24">
Package Name Conventions
</A></H4>

<P>Name collisions can happen between code libraries or even major sections of your
own code. When any group of classes can be placed in a logical grouping or are to be
delivered to other users as utilities, they should be placed in packages. This prevents problems
that occur when other utility classes are used or when new code is written that has the
same name for classes.
</P>

<P>Because packages should be used to prevent collisions, the package names
themselves need to be free from ambiguity. The standard is to prefix your company's Internet
domain name, followed by the name for the group of classes. If, for instance, your
company's domain was cluck.com and the package was serialToolbox, the full package name
should be cluck.com.serialToolbox. Because domain names are somewhat unique, the
probability that anyone will have the same name is quite low.
</P>

<P>If you are part of a major corporation, there could be a problem with many
programmers developing packages. To prevent problems, the group name or project name can be
added
</P>


<A NAME="PAGENUM-61"><P>Page 61</P></A>


<P>to the package name. What if there were a Macintosh team and a Sun team
developing serialToolBox packages? The package names could become
cluck.com.mac.serialToolbox and cluck.com.sun.serialToolbox.
</P>

<H4>
Visibility Control
</H4>

<P>Another reason to package groups of classes is to hide classes and methods that
only interact within a group of classes and that should not be accessed outside of the
group. This is useful when there are many classes that make up a system but only a few that
are accessed by other classes. Programmers only see some of the classes and methods
when they use them, preventing them from using inappropriate classes and reducing the need
to understand a complete package beyond its visible members.
</P>

<P>For example, imagine that part of the house designer consists of a group of classes
that could be used to make up the structure of the house frame. These functions would
include calculations for determining where structural members would be placed and the amount
of material required. The actual interface to this group of functions would specify only
the layout of the house, then ask for the blueprint and list of materials. Exposing the
classes that make the calculations would make the package appear more complex than it
is. Because the package would be used to hide all the calculation details, only the
simpler interaction of specifying the layout and printing information is required. This helps
reduce to just one simple class the amount of documentation and training that is required to use
a potentially complex system.
</P>

<P>The default visibility of a package is protected. Classes in a package can interact with
any method or field in any other class in the same package, unless it has been
specifically modified to be private. Foreign classes&#151;those not in the same package&#151;can only
access classes, methods, and fields that are specifically labeled public.
</P>

<P>The following code example shows how packages protect unmodified classes, while
being accessible to classes within the same package. The main() method can only
access ClassA1 and ClassA2 because they were specifically declared public. The
publicMethod() in each of these classes is also visible to main(), but the defaultMethod() is not accessible.
</P>

<P>From within the packages the defaultMethod() methods are visible and can be
executed. This method is used to attempt calling the other methods in each class in the example.
The code that has been commented out are methods that would fail because the methods
they are attempting to access are invisible from their class.
</P>


<P><CENTER>
<a href="0054-0057.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0062-0066.html">Next</A>
</CENTER></P>






</BODY>
</HTML>



