<HTML>
<HEAD>


<TITLE>Industrial Strength Java:Planning Your Application:EarthWeb Inc.-</TITLE>





<P><CENTER>
<a href="0076-0080.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0087-0090.html">Next</A>
</CENTER></P>

<A NAME="PAGENUM-81"><P>Page 81</P></A>


<PRE>
    // This holds that password that is compared.
    private final String validPassword = &quot;password&quot;;

    public PasswordDialog(PasswordStatus observer) {
        super(&quot;Enter Password&quot;);
        // Record the observer of the password status;
        statusObserver = observer;

        //{{INIT_CONTROLS
        setLayout(null);
        addNotify();
        resize(insets().left + insets().right + 379
                       , insets().top + insets().bottom + 180);
        label1=new Label(&quot;Enter your password&quot;
                                      , Label.CENTER);
        label1.setFont(new Font(&quot;Dialog&quot;,Font.BOLD,14));
        add(label1);
        label1.reshape(insets().left + 12,insets().top
                                                    + 13,350,28);
        password=new TextField(30);
        add(password);
        password.reshape(insets().left + 61,insets().top
                                                    + 62,252,26);
        button1=new Button(&quot;OK&quot;);
        add(button1);
        button1.reshape(insets().left + 142,insets().top
                                                    + 112,82,29);
        //}}

        // Prevent other users from seeing the
           // password while it is typed.
        password.setEchoCharacter(`*');

}

    public synchronized void show() {
       move(50, 50);
       super.show();
    }

    public boolean handleEvent(Event event) {
       if (event.id == Event.ACTION_EVENT &amp;&amp; event.target == button1) {
            clickedButton1();
</PRE>
<PRE>
                                                           continues
</PRE>

														   
<A NAME="PAGENUM-82"><P>Page 82</P></A>


<P>Listing 3.27 Continued
</P>

<PRE>
            return true;
        }
        else
        if (event.id == Event.WINDOW_DESTROY) {
            hide();
            return true;
        }
        return super.handleEvent(event);
    }

    //{{DECLARE_MENUS
    //}}

    //{{DECLARE_CONTROLS
    Label label1;
    TextField password;
    Button button1;
    //}}
    public void clickedButton1() {
        String text = password.getText();
        if (text.equals(validPassword)){
            //Password is OK.
            statusObserver.passwordStatus(true);
        }else{
            //Bad password.
            statusObserver.passwordStatus(false);
        }
    }
}
</PRE>

<P>The class in listing 3.28 is an applet that tests the password dialog. It
implements PasswordStatus to retrieve password entry status.
</P>

<P>Listing 3.28Class Password
</P>

<PRE>
import java.awt.*;
import java.applet.*;
import PasswordDialog;
import PasswordStatus;
</PRE>


<A NAME="PAGENUM-83"><P>Page 83</P></A>


<PRE>
public class Password extends Applet implements PasswordStatus{
    PasswordDialog passwordDialog;

    public void init() {

        super.init();

        //{{INIT_CONTROLS
        setLayout(null);
        resize(292,117);
        button1=new Button(&quot;Logon&quot;);
        add(button1);
        button1.reshape(110,68,70,30);
        label1=new Label(&quot;Password Test&quot;, Label.CENTER);
        label1.setFont(new Font(&quot;Dialog&quot;,Font.BOLD,16));
        add(label1);
        label1.reshape(0,6,294,21);
        statusText=new Label(&quot;Press Logon Button&quot;, Label.CENTER);
                 &Acirc;statusText.setFont(new Font(&quot;Dialog&quot;,Font.BOLD|Font.ITALIC,
                 &Acirc;12));
        add(statusText);
        statusText.reshape(20,37,252,23);
        //}}
    }

    public boolean handleEvent(Event event) {
        if (event.id == Event.ACTION_EVENT
  &amp;&amp; even