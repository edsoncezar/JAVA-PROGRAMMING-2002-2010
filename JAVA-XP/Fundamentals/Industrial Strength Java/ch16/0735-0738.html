<HTML>
<HEAD>


<TITLE>Industrial Strength Java:Jeeves and Java Servlets:EarthWeb Inc.-</TITLE>





<P><CENTER>
<a href="0731-0734.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0739-0742.html">Next</A>
</CENTER></P>

<A NAME="PAGENUM-735"><P>Page 735</P></A>


<P><B>
ServletRequest Interface Class
</B></P>

<P>The ServletRequest interface class defines method used to obtain information about
the servlet request independent of the actual transport protocol used between the client
and server. The request must be carried by an IP-based transport protocol, such as
HTTP. Implementations of ServletRequest for specific transports, such as HTTP, must
provide the following protocol-related methods:
</P>

<UL>
<LI>     getRemoteAddr(). Returns the IP address of the client that sent the request
(its equivalent CGI variable is REMOTE_ADDR).
<LI>     getRemoteHost(). Returns the fully qualified host name of the agent that sent
the request (its equivalent CGI variable is REMOTE_HOST).
<LI>     getServerName(). Returns the host name of the server that received the
request (its equivalent CGI variable is SERVER_NAME).
<LI>     getServerPort(). Returns the port number on which this request was received
(the CGI variable is SERVER_PORT).
<LI>     getProtocol(). Returns a string identifying the protocol and version (the
CGI variable is SERVER_PROTOCOL).
</UL>

<P>The request can include parameters or content information. The servlet can determine
the length of any content sent with the request using getContentLength(). The servlet can
also obtain the content encoding type using getContentType(). When content is available,
the servlet can read it using a HttpInputStream obtained from getInputStream().
Implementations of ServletRequest for specific transports, such as HTTP, must provide the
following content-related methods:
</P>

<UL>
<LI>     getParameter(String). Returns the value of the specified parameter for
the request.
<LI>     getParameters(). Returns a hashtable of all the parameters of this request.
<LI>     getContentType(). Returns the MIME type of any data included with the
request, or null if the MIME type is not specified in the request header.
<LI>     getContentLength(). Returns the size of the data included with the request, or
_1 if a length is not specified in the request header.
<LI>     getInputStream(). Returns an input stream for reading any data included with
the request.
</UL>


<A NAME="PAGENUM-736"><P>Page 736</P></A>


<P><B>
ServletResponse Interface Class
</B></P>

<P>The ServletResponse interface class defines a general way to create the response to
the service request. At this generic level, the response is just content with a MIME
identifier and optional length. To write the actual content of the response, the servlet
calls getOutputStream() to get a ServletOutputStream and then makes the necessary
print() calls to compose the response. The methods to create the response are as follows:
</P>

<UL>
<LI>     setContentType(String). Sets the MIME type of the response.
<LI>     setContentLength(int). Sets the content length for the response.
<LI>     getOutputStream(). Returns a ServletOutputStream used for writing
response data to the client.
</UL>

<P><B>
GenericServlet Class
</B></P>

<P>In general, the GenericServlet class is a base implementation class for any
transport-independent servlet, and specifically it is used for any servlet that can be invoked from
a server-side include. GenericServlet implements the Servlet interface and provides
convenient access to information from the servlet's ServletContext. In addition to
implementing init(), destroy(), service(), and getServletInfo() methods required by the Servlet
interface, GenericServlet provides the following methods:
</P>

<UL>
<LI>     init(). Called after the servlet is loaded to initialize the servlet. Override
this method to accept initialization parameters or to perform other
initialization functions. A servlet is initialized only once, when it is loaded.
<LI>     getInitParameter(String
name). Gets the value of an initialization parameter
of the servlet as specified in either the servlet.properties file or as an attribute in
the &lt;servlet&gt; tag for server-side includes servlets.
<LI>     getInitParameters(). Returns a name/value pair hashtable of the
initialization parameters of the servlet.
<LI>     getServletContext(). Returns the servlet context.
<LI>     log(String). Logs a message into the servlet log file.
</UL>

<P><B>
ServletInputStream
</B></P>

<P>ServletInputStream is an abstract subclass of InputStream that defines the
readLine(byte[], int offset, int count) method, which reads bytes into the byte array starting at the
offset until the array is filled or a newline character is read.
</P>


<A NAME="PAGENUM-737"><P>Page 737</P></A>

<P><B>
ServletOutputStream Abstract Class
</B></P>

<P>ServletOutputStream is an abstract subclass of OutputStream that is similar to
a PrintStream, but only defines methods to print the most commonly used network
data types (ints, longs, and strings). The implementation of ServletOutputStream
handles conversion from internal Unicode encoding of characters to US-ASCII, which is
generally used by Internet protocols. This class also defines methods to print and terminate the
line with the Internet-standard CR/LF combination. The output methods are as follows:
</P>

<UL>
<LI>     print(int), println(int)
<LI>     print(long), println(long)
<LI>     print(String), println(String)
<LI>     println()
</UL>

<P>You must convert other data types using toString() before printing to
the ServletOutputStream.
</P>

<H4><A NAME="ch16_ 19">
The java.servlet.http Package
</A></H4>

<P>The java.servlet.http package supports servlets that specifically use HTTP. This
package contains two interface classes, two implementation classes, and the implementation of
a servlet class intended to be subclassed. As the API matures, other standard servlets may
be included into the Servlet API definition. The HTTP-specific classes are
HttpServlet, HttpServletRequest, HttpServletResponse, FormServlet, and HttpUtils. All are
described in the following sections.
</P>

<P><B>
HttpServlet Abstract Class
</B></P>

<P>Subclass HttpServlet, an abstract subclass of GenericServlet, to implement your
HTTP-specific servlets. HttpServlet handles the cast conversion between the
generic ServletRequest and the ServletResponse objects and their HTTP-specific subclasses.
You override the service(HttpServletRequest, HttpServletResponse) method in your
servlet class to perform the servlet processing
function. The HttpServlet methods are as follows:
</P>

<UL>
<LI>     service(ServletRequest,
ServletResponse). Performs the cast conversion
between generic and HTTP-specific request and response objects. Normally do not
override this method, but instead override the following HTTP-specific method.
<LI>     service(HttpServletRequest,
HttpServletResponse). Override this abstract method to accept HTTP service requests.
</UL>


<A NAME="PAGENUM-738"><P>Page 738</P></A>


<P><B>
HttpServletRequest Interface Class
</B></P>

<P>HttpServletRequest is a subclass of ServletRequest that handles the extra request
information, other than content identification, contained in an HTTP request header. The
information available from HttpServletRequest, beyond that of the base ServletRequest, falls
into four general categories:
</P>

<UL>
<LI>     General information about the request
<LI>     Information concerning the URL
<LI>     Authentication-related information
<LI>     Access information to the original HTTP header
</UL>

<P>The exact information available using these calls is described in the following sections.
</P>

<P><B>
General Request Information
</B></P>

<P>These methods provide general information about the request, including the name of
the method used to access the data and any query information:
</P>

<UL>
<LI>     getMethod(). Returns a String containing the method used in the request,
for example, &quot;GET,&quot; &quot;HEAD,&quot; or &quot;POST&quot; (the equivalent CGI variable
is REQUEST_METHOD).
<LI>     getQueryString(). Returns the query string part of the URI, or null if none;
the query string follows the ? in the URI (the CGI equivalent is QUERY_STRING).
</UL>

<P><B>
URL Information
</B></P>

<P>These methods provide information about the requested URL, its major components,
and its local translation:
</P>

<UL>
<LI>     getRequestURI(). Returns the request URI.
<LI>     getServletPath(). Returns the part of the request URI that refers to the
servlet being invoked.
<LI>     getPathInfo(). Returns optional, extra path information following the servlet
path, which immediately precedes the query string.
<LI>     getPathTranslated(). Returns extra path information translated to a real
path using the alias.properties rules (CGI's variable is PATH_TRANSLATED).
<LI>     getRequestPath(). Returns the part of the request URI that corresponds to
the servlet path plus the optional, extra path information.
</UL>


<P><CENTER>
<a href="0731-0734.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0739-0742.html">Next</A>
</CENTER></P>






</BODY>
</HTML>



