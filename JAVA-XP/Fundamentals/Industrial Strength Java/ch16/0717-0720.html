<HTML>
<HEAD>


<TITLE>Industrial Strength Java:Jeeves and Java Servlets:EarthWeb Inc.-</TITLE>





<P><CENTER>
<a href="0712-0716.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0721-0723.html">Next</A>
</CENTER></P>

<A NAME="PAGENUM-717"><P>Page 717</P></A>


<P><B>
Checking Access
</B></P>

<P>If the access checking entry (enable.acls) is enabled in the httpd.properties file, the
server determines the resource being accessed and checks access permissions. Resources
are characterized as follows:
</P>

<UL>
<LI>     Files and directories for access via the FileServlet, which serves files
<LI>     Servlets for access via the InvokerServlet, which executes arbitrary servlets
<LI>     The welcome file for directory access
</UL>

<P>If your file service and invocation servlets do not use the standard names &quot;file&quot;
and &quot;invoker,&quot; they will need to implement their own access checking. The mechanics
of access checking is described in more detail in the &quot;Security&quot; section later in the chapter.
</P>

<P><B>
Servlet Loading
</B></P>

<P>If the named servlet is not already loaded, the name must be converted into the
information needed to load the servlet. A servlet is loaded from an URL or codebase and
class name as defined in the servlet.properties file. Only one instance of any servlet is
created, and this instance is reused to handle subsequent requests. Initialization
parameters for each servlet can be specified in the servlet.properties file; these parameters are passed
to the init() method after the servlet is loaded but before the
service() method is called. This process is shown in figure 16.2.
</P>

<P><a href="images\ch16fg02.jpg"><img src="images\tn_ch16fg02.jpg"></a><BR>
Figure 16.2 The servlet loading process.
</P>

<A NAME="PAGENUM-718"><P>Page 718</P></A>



<P><B>
Completing the Request
</B></P>

<P>To complete the HTTP request, a ServletResponse object is created to build the
response header, and then the servlet's service() method is called. Servlets are generally
structured to contain the service() and sendResponse() methods. The service() method verifies
the HTTP request and calls the sendResponse() method to actually perform the
requested operation. The servlet writes its output to an output stream retrieved from
the ServletResponse. After the HTTP requested is handled, the server usually closes
the connection.
</P>

<H4><A NAME="ch16_ 9">
Security
</A></H4>

<P>As web servers expand their roles from simply providing access to publicly
available documents to becoming the center of workgroup and enterprise computing,
security becomes increasingly important. Not all files, directories, or servlets should be
accessible to anyone that knows the URL. For example, Jeeves has a built-in administration
applet/servlet pair that lets an administrator reconfigure the server; obviously access to
this servlet must be controlled. You may want to control access to
web pages in the same manner that file servers provide read-access controls for files. The security model of
web servers in general, and Jeeves specifically, resembles the security measures found
on traditional file servers or shared computers.
</P>

<P>Jeeves' security model is designed to block the most common and serious threats
or attacks to your server:
</P>

<UL>
<LI>     Theft or alteration of
data. By providing the usual identity-based access
controls, Jeeves enables server administrators to control access. Protected information
often includes server's web pages and administrative data.
<LI>     Malicious code
attacks. By restricting untrusted servlet code to a secured
environment, potentially malicious, destructive code can be downloaded and run
without fear.
<LI>     Eavesdropping. Users of your site may be concerned about protecting
their financial or other sensitive data from being intercepted and read from your server.
</UL>

<P>Jeeves offers a variety of security and protection mechanisms for your server. These
are based on HTTP's security features, the Secure Sockets Layer (SSL), and the
security mechanisms inherent in Java's protected Virtual Machine environment. Security
features derived from the Java Virtual Machine, secure administration, and the security sandbox
are inherent in the Jeeves server. Others, such as the various authentication mechanisms,
are specified on an individual file or servlet basis. The security mechansisms presented in
the following sections are supported by Jeeves.
</P>


<A NAME="PAGENUM-719"><P>Page 719</P></A>

<P><B>
Basic Authentication
</B></P>

<P>Basic authentication supported by HTTP permits user access to restricted areas of a
web page by validating an entered user name and password. Based on the user's
identity, access is granted according to an access control list. Place basic password
authentication protection on a given file or servlet by using the
AdminServlet or editing the acl.properties file. However, this standard HTTP mechanism has two well-known problems:
</P>

<UL>
<LI>     Passwords are sent on the Internet in a form (known as cleartext) that any
eavesdropper can read.
<LI>     The server needs to store the passwords in a cleartext form that anyone with
access to the server can read.
</UL>

<P>The security provided by the HTTP basic mode is not sufficient to prevent a
determined attack to your server.
</P>

<P><B>
Digest Authentication
</B></P>

<P>Improper access is more difficult to achieve if digest authentication is used; the
password, as entered by the user, is used to cipher some randomly generated text that is sent by
the server. The resulting cipher is sent back to the server. This system is more secure
than basic authentication because the user's password is never transmitted on the Internet.
The server, knowing the user's password, calculates what the correct cipher should be
and compares it to the coded message sent by the client. Enable digest authentication
protection on a given file or servlet by using the AdminServlet or by editing the
acl.properties file.
</P>

<P><B>
SSL Server Authentication
</B></P>

<P>Users not only need to identify and authenticate themselves to their server; in
addition, users need a way to identify and authenticate the server to which they are sending
information. The process for an eavesdropper to secretly redirect your connection to a
different server is straight-forward. Secure Socket Layer (SSL) server authentication is
usually accomplished with the assistance of a third-party &quot;Certificate Authority,&quot; which provides
a high level of assurance that the server's identity is what it claims to be.
Third-party authentication reduces the amount of authentication information that your browser
is required to maintain. The amount of necessary information is reduced from hundreds
or thousands of sites to just a small number of third-party authentication centers.
</P>


<A NAME="PAGENUM-720"><P>Page 720</P></A>


<P>For example, SSL and third-party authentication provide the mechanisms to allow
a trusted third-party, such as your ISP, to vouch for the identify of a commercial
Internet site. After being assured of its identity, you can safely provide credit card information
to the site.
</P>

<P><B>
SSL Eavesdropping Protection
</B></P>

<P>Another feature of the HTTPS (the secure version of HTTP) protocol permits the
encryption of all data sent to or from the server to enables private communications. This
encryption prevents an eavesdropper from learning potentially sensitive information from
your transactions. However, this protection can only be achieved if encryption is supported
by both the server and by the client's browser. The exchange of credit card information,
for example, is usually protected by using encryption.
</P>

<P><B>
Realms with Users and Groups
</B></P>

<P>As your server grows and the number of supported users increases, additional
mechanisms are needed to make it easy to administer and maintain your server. One such
mechanism forms groups of users with identical access rights. You can create different groups,
each supported by different virtual hosts. Another possibility is to partition a server
according applications, projects, or departments. Users with the same user name in two
different realms are considered as two different users with different sets of access privileges.
Using groups extends access privileges more efficiently than referencing a valid-user listing.
You define groups using the AdminServlet. For example, you can define a group &quot;admin&quot;
in which all members have access to the various administrative pages and servlets; giving
a new user administrative privileges is as simple as making that user a member of the
admin group.
</P>

<P><B>
ACLs Protect Web Pages
</B></P>

<P>Jeeves provides access control lists (ACLs) to let your server's administrator control
a user's access to individual document pages or directories. ACLs are also used to
protect access to servlets. Servlets can use the supplied ACL mechanisms to implement
additional servlet-specific access control policies and schemes. You define ACLs using
the AdminServlet or by editing the acl.properties file.
</P>

<P><B>
Simple and Secure Administration
</B></P>

<P>It is not often recognized that good tools to handle administrative tasks are big
advantages in terms of security. Manual administration (editing text files by hand, for example)
is extremely error prone; errors invariably reduce security. Jeeves provides
administrative 
</P>


<P><CENTER>
<a href="0712-0716.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0721-0723.html">Next</A>
</CENTER></P>






</BODY>
</HTML>



