<HTML>
<HEAD>


<TITLE>Industrial Strength Java:Jeeves and Java Servlets:EarthWeb Inc.-</TITLE>





<P><CENTER>
<a href="0721-0723.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0727-0730.html">Next</A>
</CENTER></P>

<A NAME="PAGENUM-724"><P>Page 724</P></A>


<PRE>
.
.
.
&lt;/servlet&gt;
</PRE>

<P>The server first tries to invoke the servlet with the name provided in the name field. If
this fails or if no name is provided, the server attempts to load the servlet based on the
code and codebase fields. Any remaining attribute fields within the &lt;servlet&gt; tag are passed
as initialization parameters to the servlet. If the server loads the servlet and a name
was specified, the server keeps the servlet loaded so that the next time the servlet is accessed <BR>
it is not reloaded. If no name is specified, the server reloads the servlet each time it
is accessed.
</P>

<P>After the servlet is ready to execute, the server calls the
service() method of the servlet. The name/value pairs specified in the HTML file with the &lt;param&gt; tag are accessible
to the servlet using the standard getParameter() and
getParameters() methods on the ServletRequest object passed to the servlet in the service() method. Everything the
servlet writes to ServletResponse.getOutputStream() gets written to the client as part of
the client's requested document.
</P>

<P><B>
Error Response Servlet
</B></P>

<P>When you call HttpServletResponse's sendError() method with only a status code
to return an error to the requester, the ErrorServlet is actually invoked to create and send
the error reply. The built-in ErrorServlet returns either a simple error reply message
generated by translating the status number into a standard error text string, or it returns the
contents of a file from the pre-configured error page directory (the error.directory servlet
init() parameter). The files in the error directory are named by adding the .html extension to
the status code; for example, the message for &quot;not found&quot; (code 404) is contained in the
file 404.html.
</P>

<P>By implementing the creation and transmission of error response pages as a servlet,
Jeeves provides great flexibility in handling error responses. You can easily replace the
built-in servlet with your own customized error response servlet.
</P>

<P><B>
InvokerServlet
</B></P>

<P>The InvokerServlet processes HTTP requests to explicitly invoke a servlet instead
of implicitly invoking a servlet as a result of path translation. In the default server
configuration, the InvokerServlet is triggered by a /servlet in the requested URL. The rest of
the URL characters occurring after /servlet is presumed to identify the name of the servlet
to be executed.
</P>


<A NAME="PAGENUM-725"><P>Page 725</P></A>

<P><B>
ImagemapServlet
</B></P>

<P>The ImagemapServlet handles the server-side processing of imagemaps that are
specified using an extension of standard NCSA mapfiles. A server-side imagemap is specified in
an HTML file by placing &lt;IMG&gt; inside the &lt;A HREF=...&gt; tag instead of text description
of the link. For example, the following HTML is used to place an image map in a document:
</P>

<PRE>
&lt;A <a href="http://library.cs.tuiasi.ro/programming/java/industrial_strenght_java/ch16/href="http://<server-host-name>/imagemap/<map-file-name>">">
HREF=&quot;http://&lt;server-host-name&gt;/imagemap/&lt;map-file-name&gt;&quot;&gt;</A>
&lt;IMG SRC=&quot;&lt;image-file&gt;&quot; ISMAP&gt;
&lt;/A&gt;
</PRE>

<P>Imagemap files can reside anywhere HTML documents are permitted to reside.
The ImagemapServlet supports imagemap files that are in standard NCSA format, with
the addition of the following Jeeves-specific extensions:
</P>

<UL>
<LI>     Text
menus. Text-only browsers are presented with a menu of links when
an imagemap is selected. An optional double-quoted string may be added to the
end of each line in the imagemap file to add description to menus generated for
text only browsers.
<LI>     Base
command. Defines the base URL for relative URLs in the mapfile. The
three valid values are &quot;map&quot; for map-relative URLs (the default), &quot;referer&quot; for
URLs relative to the HTML page containing the imagemap, or any full URL.
<LI>     Text
command. The double-quoted string following the text command is
inserted into the menu generated for text-only browsers.
</UL>

<P>Each line in the imagemap file starts with a keyword that is a command or the name of
a shape, followed by a URL, followed by the coordinates required to define the
indicated shape, and ends with an optional text string used for creating a menu for
text-only browsers. The URLs can be relative or full; relative
URLs are resolved as specified by the base command. Coordinates for shapes are expressed as x and y values; the coordinates
of the top, left of the image is 0,0. Valid keywords are
</P>

<UL>
<LI>     default. Defines the URL when the user clicks on a location in the map that is
not defined by a region.
<LI>     base. Defines the base URL used to resolve relative URL references made
in defining shapes. Instead of specifying a URL as the argument of the base
command, use &quot;map&quot; to indicate a URL relative to the imagemap file or &quot;referer&quot;
to indicate a URL relative to the document containing the imagemap.
<LI>     text. Specifies a text string to be inserted into the menu generated for
text-only browsers.
</UL>


<A NAME="PAGENUM-726"><P>Page 726</P></A>


<UL>
<LI>     circle. Specifies a circle defined by center and edge-point coordinates.
<LI>     ploy. Specifies a polygon with at most 100 vertices as defined by the coordinates.
<LI>     rect. Specifies a rectangle defined by upper-left and lower-right coordinates.
<LI>     point. Specifies a point defined by a single coordinate.
</UL>

<P><B>
CGIServlet
</B></P>

<P>To enable backward compatibility with existing CGI programs, Jeeves has a
built-in servlet, CGIServlet, that functions as a bridge between the Servlet API and CGI.
The translation of servlet requests to CGI is feasible because all the necessary information
is available through the Servlet API.
</P>

<P><B>
AdminServlet
</B></P>

<P>Online server administration is performed by AdminServlet. Using this servlet,
the administrator can perform all the server's configuration functions without ever having
to manually edit configuration files. Also, the use of an administration servlet ensures
that changes to multiple configuration files are correctly completed.
</P>

<P>The following is a partial list of the functions performed using
the AdminServlet:
</P>

<UL>
<LI>     Restart or shut down the server
<LI>     Change operating parameters, such as the
server port
<LI>     Vary parameters that affect server performance, such
as timeouts and file cache size
<LI>     Control
event logging
<LI>     Specify
file and servlet name aliases
<LI>     Control
virtual host properties
<LI>     Configure
proxy operation
<LI>     Set up user and
group access control information
<LI>     Administer
access control lists
</UL>

<P>These functions and parameters are covered in more detail in the following
section, &quot;Running the Jeeves Server.&quot;
</P>

<BR>
<P>

<CENTER>
<TABLE BGCOLOR="#FFFF99">
<TR><TD><B>
NOTE
</B></TD></TR>
<TR><TD>
<BLOCKQUOTE>
The user interface of the administration servlet, like the rest
of Jeeves, was not frozen when the JDK 1.1 APIs
were finalized. Therefore, this section does not include screen
shots nor provides detailed coverage of using the AdminServlet
to administer Jeeves.
</BLOCKQUOTE></TD></TR>
</TABLE></CENTER>
</P>


<P><CENTER>
<a href="0721-0723.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0727-0730.html">Next</A>
</CENTER></P>






</BODY>
</HTML>



