<HTML>
<HEAD>


<TITLE>Industrial Strength Java:Introducing Networking:EarthWeb Inc.-</TITLE>





<P><CENTER>
<a href="0323-0326.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0331-0335.html">Next</A>
</CENTER></P>

<A NAME="PAGENUM-327"><P>Page 327</P></A>





<P>reliable&#151;not all packets may arrive at the destination, and they might arrive out of
order. A familiar example here is the United States Postal Service.
</P>

<P>If you are curious about the details of the protocols discussed, you can read the
Requests For Comments (RFCs) for each protocol. Internet protocols are governed by RFCs. If
you want, you can find a complete listing of RFCs at the following URL:
</P>

<PRE>
<a href="http://ds.internic.net/ds/rfc-index.html.">
http://ds.internic.net/ds/rfc-index.html.</A>
</PRE>

<P>The RFCs shown in table 10.3 govern the most popular and common protocols.
</P>



<P>Table 10.3<BR>
Protocols and 
Their RFCs
</P>


<TABLE>

<TR><TD>
RFC
</TD><TD>
Protocol
</TD></TR><TR><TD>
768
</TD><TD>
UDP
</TD></TR><TR><TD>
791
</TD><TD>
IP
</TD></TR><TR><TD>
793
</TD><TD>
TCP
</TD></TR><TR><TD>
821
</TD><TD>
SMTP
</TD></TR><TR><TD>
822
</TD><TD>
Text Message Protocol
</TD></TR><TR><TD>
854
</TD><TD>
Telnet
</TD></TR><TR><TD>
1034
</TD><TD>
DNS
</TD></TR><TR><TD>
1157
</TD><TD>
SNMP
</TD></TR><TR><TD>
1171
</TD><TD>
PPP
</TD></TR><TR><TD>
1350
</TD><TD>
TFTP
</TD></TR><TR><TD>
1602
</TD><TD>
The Internet Standards Process
</TD></TR></TABLE>

<H4><A NAME="ch10_ 6">
Client-Server Programming
</A></H4>

<P>The most common model of network programming is referred to as
client-server programming. The concept is simple: A client machine makes a request for information or sends
a command to a server; in return, the server passes back the data or results of the
command. Most often, the server only responds to clients; it does not initiate communication.
</P>

<P>A good client-server architecture distributes the processor load between both
machines. Routines that access data on the server should be executed on the server, whereas
the client should be able to parse the returned data and interpret user commands instead
of simply passing them to the server.
</P>

<A NAME="PAGENUM-328"><P>Page 328</P></A>



<H4><A NAME="ch10_ 7">
Networking Terminology Wrap-Up
</A></H4>

<P>It is important that you are familiar with the terminology discussed so far. If it is still
a little fuzzy, don't worry. The terminology becomes clearer as you read the chapter.
To paraphrase Sun's slogan, the network is the computer; programming for it is no
different than programming for a single machine.
</P>

<P>The best advice to remember throughout the chapter is that the java.net package does
the work for you. Although it is good to be familiar with the details of the network, you do
not have to deal with them. If you don't think what you have laid out will work, try it
before redesigning your code or giving up.
</P>

<P>With Java, the network can be as simple or complex as you need. If you want to pass
a command and response between two machines over TCP/IP, it takes only a few lines
of code; however, you can also extend java.net to transfer objects across any
network protocol.
</P>

<H3><A NAME="ch10_ 8">
The java.net Package
</A></H3>

<P>Unlike most other popular languages, everything you need to begin is included in the
Java Development Kit. The java.net package provides the tools necessary to transmit
and receive information reliably and easily over the Internet or intranets. You can think
of java.net as consisting of four distinct &quot;subpackages&quot;:
</P>

<UL>
<LI>     URLs. An address on the internet
<LI>     Sockets. A connection to another machine
<LI>     Datagrams. A packet to be sent across the network
<LI>     Low-level. The average programmer does not deal with
         these
</UL>

<H4><A NAME="ch10_ 9">
URLs
</A></H4>

<P>The simplest interface to networking is provided by java.net.URL.
It is used to access the entire contents of a given URL. Three
URL classes are covered in this section:
</P>

<UL>
<LI>          java.net.URL
<LI>          java.net.URLConnection
<LI>          java.net.URLEncoder<BR>
</UL>
<BR><BR>
<P>

<CENTER>
<TABLE BGCOLOR="#FFFF99">
<TR><TD><B>
NOTE
</B></TD></TR>
<TR><TD>
<BLOCKQUOTE>
This chapter focuses on the first three divisions. The
last category consists of classes that are the foundations for
the other classes. They provide java.net with a great deal of
flexibility for the advanced network programmer. Normal
applications never need to use or implement these interfaces.
</BLOCKQUOTE></TD></TR>
</TABLE></CENTER>
</P>

<A NAME="PAGENUM-329"><P>Page 329</P></A>




<B>
Uniform Resource Locator
</B>

<P>An URL is an object that is used to refer to or access an object on the Internet. (The <BR>
&Acirc; symbol indicates a line that would normally fit on the previous line.)
</P>

<P>Listing 10.1 The Java API Listing for java.net.URL
</P>
<PRE>
public final class java.net.URL extends Object{
//Constructors
public URL(String protocol, String host, int port,
&Acirc;String File) throws MalformedURLException;
public URL(String protocol, String host, String File)
 throws MalformedURLException;
public URL(String spec) throws MalformedURLException;
public URL(URL context, String spec)
 throws MalformedURLException;
//Methods
public boolean equals(Object obj);
public final Object getContent() throws IOException;
public String getFile();
public String getHost();
public int getPort();
public String getProtocol();
public String getRef();
public int hashCode();
public URLConnection openConnection() throws IOException;
public final InputStream openStream() throws IOException;
public boolean sameFile(URL other);
public String toExternalForm();
public String toString();
protected void set(String protocol, String host, int port,
&Acirc;String file, String ref);
}
</PRE>

<P>An URL can be constructed with a single string or with individual specifications for
the protocol, host, port, and file. URLs can also be specified relative to another URL.
The getFile(), getHost(), getPort(), getProtocol(), and getRef() methods all return a portion
of the URL specified by the URL object.
</P>

<P>The data specified by the URL object can be accessed in three ways:
</P>

<UL>
<LI>          The getContent() method returns the contents.
<LI>          The openConnection() method returns the information through an URLConnection.
<LI>          The openStream() method returns the information through an InputStream.
</UL>

<A NAME="PAGENUM-330"><P>Page 330</P></A>



<P>Listing 10.2 shows the simplest possible use of the URL class. It defines a class that
is passed an address, and returns the contents of the object at that address. It is important
to note that the Java Development Kit only provides content handlers for a few data
types: text, HTML, and simple image types. Although you can write your own content
handlers, you can, in most cases, simply write code to parse the data that is returned.
</P>

<P>Listing 10.2 returnText.java
</P>
<PRE>
package industrial;

import java.net.*;
import java.io.*;

//  This class is designed only to return data
//  encoded as text/plain. Because it is designed as a
//  simple example, exceptions are not caught.

public class returnText
{
  //  call returnText and display results on STDOUT
  public static void main(String[] args)
  throws MalformedURLException, IOException
  {
     System.out.println(returnText(args[0]);
  }

//  gets the contents of an URL and returns it
  public static String returnText(String address)
  throws MalformedURLException, IOException
  {
     URL returnURL = new URL(address);
     return (String) returnURL.getContent();
  }
}
</PRE>

<P>The following example shows the output of listing 10.2. The URL in the example is
a text/plain file that contains the string &quot;test text.&quot;
</P>

<P>Listing 10.3 returnText Sample Run
</P>

<PRE>
%java returnText <a href="http://studsys.mscs.mu.edu/~brumbaug/text">
http://studsys.mscs.mu.edu/~brumbaug/text</A>
test text
%
</PRE>

<P><CENTER>
<a href="0323-0326.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0331-0335.html">Next</A>
</CENTER></P>






</BODY>
</HTML>



