<HTML>
<HEAD>


<TITLE>Industrial Strength Java:AWT Basics:EarthWeb Inc.-</TITLE>






<P><CENTER>
<a href="0158-0161.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0168-0172.html">Next</A>
</CENTER></P>

<A NAME="PAGENUM-162"><P>Page 162</P></A>



<P>Listing 5.17Code to Add Five Buttons to a Screen Using the BorderLayout
Layout Manager
</P>

<PRE>
this.removeAll();
this.setLayout(new BorderLayout());
this.add(&quot;North&quot;, button1);
this.add(&quot;South&quot;, button2);
this.add(&quot;West&quot;, button3);
this.add(&quot;East&quot;, button4);
this.add(&quot;Center&quot;, button5);
</PRE>

<P>Notice the removeAll() method, which removes all previously added components from
the screen.
</P>

<H4><A NAME="ch05_ 24">
Using the GridBagLayout
</A></H4>

<P>Because the GridBagLayout layout manager provides the flexibility to lay out
components however you desire, you can build a lot of flexibility into your demo screen. In
fact, nothing is stopping you from designing a demo GridBagLayout screen that looks
identical to a screen created by any of the other layout managers. As a demonstration of a
capability that GridBagLayout possesses over any other layout managers, you will design a
screen that displays all five buttons in a staircase effect. If you read over the different values
that can be set in GridBagConstraints, you will note the ones that help most are gridx
and gridy; they enable you to move each successive component horizontal an interval, and
also vertical that same interval. Because each button is the same size, you set gridwidth
and gridheight to equal 1; weightx and weighty are best started at 100 and then tweaked. In
the following listing, 100 is a suitable value. Listing 5.18 shows the code for this application.
</P>

<P>Listing 5.18Code to Place All Five Buttons on the Screen Using the
GridBagLayout Layout Manager
</P>

<PRE>
//remove the buttons
this.removeAll();

//create the necessary objects
GridBagLayout myGB = new GridBagLayout();
GridBagConstraints myConst = new GridBagConstraints();
</PRE>


<A NAME="PAGENUM-163"><P>Page 163</P></A>


<PRE>
//set the layout
this.setLayout(myGB);

//add all componets to the screen
myConst.gridx = 0;
myConst.gridy = 0;
myConst.weightx = 100;
myConst.weighty = 100;
myConst.gridwidth = 1;
myConst.gridheight = 1;
myGB.setConstraints(button1, myConst);
this.add(button1);
myConst.gridx = 5;
myConst.gridy = 5;
myGB.setConstraints(button2, myConst);
this.add(button2);
myConst.gridx = 10;
myConst.gridy = 10;
myGB.setConstraints(button3, myConst);
this.add(button3);
myConst.gridx = 15;
myConst.gridy = 15;
myGB.setConstraints(button4, myConst);
this.add(button4);
myConst.gridx = 20;
myConst.gridy = 20;
myGB.setConstraints(button5, myConst);
this.add(button5);
</PRE>

<H4><A NAME="ch05_ 25">
Implementing the Application
</A></H4>

<P>You have pretty much covered everything new that this application has. Most of the
code should be familiar to you because the basic form of the application is similar to the
AWT demo developed in the beginning of this chapter. The Layout Demo application has
three different classes: a Panel to display the buttons, a Panel on which the pop-up menu
will be, and a Frame to house everything.
</P>

<P>The full source for the whole application is in listing 5.19, and a screen shot containing
a sample output is shown in figure 5.10.
</P>

<P>Listing 5.19a contains member data and a constructor for the LayoutDemo class.
This class builds the screen used by the application. Note how the GridBagLayout manager
is used to
</P>


<A NAME="PAGENUM-164"><P>Page 164</P></A>


<P>place the components on-screen.
</P>

<P>Listing 5.19aA Sample Application that Demonstrates All Layout Managers
</P>

<PRE>
package industrial;
import java.awt.*;
import java.awt.image.*;
import java.io.*;

//parent class to all classes developed in our application
//provides common menus, and access to common methods
public class LayoutDemo extends Frame {
       //create menu componets
       private       MenuBar        myMenuBar;
       private       Menu           fileMenu;
       private       MenuItem       fileQuit;

       //create panels
       private       LayoutPanel       theLayout;
       private       ChoicePanel       theOptions;

    //constructor, creates a new Frame with the title &quot;LayoutMangers Demo&quot;
    public LayoutDemo() {
              //create components
              theLayout = new LayoutPanel();
              theOptions = new ChoicePanel(theLayout);

              //draw the screen
              setBackground(Color.white);
              resize(250, 200);
              GridBagLayout myGB = new GridBagLayout();
              GridBagConstraints myConst = new GridBagConstraints();

              this.setLayout(myGB);

              myConst.gridx = 0;
              myConst.gridy = 0;
              myConst.gridwidth = 5;
              myConst.gridheight = 5;
              myGB.setConstraints(theLayout, myConst);
              this.add(theLayout);

              myConst.gridx = 0;
</PRE>


<A NAME="PAGENUM-165"><P>Page 165</P></A>


<PRE>
              myConst.gridy = 5;
              myConst.gridwidth = 1;
              myConst.gridheight = 1;
              myGB.setConstraints(theOptions, myConst);
              this.add(theOptions);

              setTitle(&quot;LayoutManagers Demo&quot;);
              this.initMenus();
              show();
       }
</PRE>

<P>Listing 5.19b contains code to complete the look of your application. The
insets() method creates a border around the screeen, and the
initMenus() method places the various menus on-screen.
</P>

<P>Listing 5.19bPlacing the Final Touches on the Application
</P>

<PRE>
       //set up a border around the Frame ... aesthetic reasons only
       public Insets insets() {
              return new Insets(10, 10, 10, 10);
       }

       //this class will create all menus and add them to the menubar
       private void initMenus() {
              //create the menus
              myMenuBar = new MenuBar();
              fileMenu = new Menu(&quot;File&quot;, true);

              //create choices for the file menu
              fileQuit = new MenuItem(&quot;Quit&quot;);

              //add choices to the file menu
              fileMenu.add(fileQuit);

              //add the file menu
              myMenuBar.add(fileMenu);

              //add the menubar to the frame
              this.setMenuBar(myMenuBar);
       }
</PRE>

<A NAME="PAGENUM-166"><P>Page 166</P></A>


<P>Listing 5.19c contains the action() and handleEvent() methods, which manage all
events that might occur in this frame. Note that events which will occur in one of the
added panels are not managed here.
</P>

<P>Listing 5.19cEvent Management with action() and handleEvent()
</P>

<PRE>
      //catch menu choices
      public boolean action(Event evt, Object arg) {
              if(&quot;Quit&quot;.equals(arg)) {
                     System.exit(0);
               return true;
              }
              return false;
    }


     //handleEvent must be overidden to trap Event.WINDOW_DESTROY
     public boolean handleEvent(Event e) {
              if(e.id == Event.WINDOW_DESTROY) {
                     this.hide();
                     return true;
              }
              return super.handleEvent(e);
       }
}
</PRE>

<P>Listing 5.19d contains the constructor for the class, which is the meat of our
application. This class, which extends Panel, contains five buttons; all of which may be
displayed using any one of the different layout managers.
</P>

<P>Listing 5.19dDisplaying Five Components with LayoutPanel Using Five
Layout Managers
</P>

<PRE>
public class LayoutPanel extends Panel {
       //GUI Components
       private       Button       button1;
       private       Button       button2;
       private       Button       button3;
       private       Button       button4;
       private       Button       button5;

       //Constructor, will draw the screen using the FlowLayout layout
       //manager
</PRE>


<A NAME="PAGENUM-167"><P>Page 167</P></A>


<PRE>
       public LayoutPanel() {
              //set the layout manager
              this.setLayout(new FlowLayout());

              //create the components
              button1 = new Button(&quot;1&quot;);
              button2 = new Button(&quot;2&quot;);
              button3 = new Button(&quot;3&quot;);
              button4 = new Button(&quot;4&quot;);
              button5 = new Button(&quot;5&quot;);
              //add the components to the Frame
              this.add(button1);
              this.add(button2);
              this.add(button3);
              this.add(button4);
              this.add(button5);
       }
</PRE>

<P>Listing 5.19e contains the code to alter the layout manager to be one of the following:
</P>

<UL>
<LI>     FlowLayout
<LI>     GridLayout
<LI>     CardLayout
<LI>     BorderLayout
</UL>

<P>Listing 5.19eMaking FlowLayout the Current Layout Manager
</P>

<PRE>
       public void setFlowLayout() {
              this.setLayout(new FlowLayout());
              layout();
       }


       //make the current layout manager GridLayout
       public void setGridLayout() {
              this.setLayout(new GridLayout(3, 2));
              layout();
       }


       //make the current layout manager CardLayout
       public void setCardLayout() {
</PRE>
<PRE>
                                                           continues
</PRE>

<P><CENTER>
<a href="0158-0161.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0168-0172.html">Next</A>
</CENTER></P>






</BODY>
</HTML>



