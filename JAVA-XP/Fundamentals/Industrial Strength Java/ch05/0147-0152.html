<HTML>
<HEAD>


<TITLE>Industrial Strength Java:AWT Basics:EarthWeb Inc.-</TITLE>






<P><CENTER>
<a href="0141-0146.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0153-0157.html">Next</A>
</CENTER></P>

<A NAME="PAGENUM-147"><P>Page 147</P></A>


<PRE>
              this.setLayout(new GridLayout(2, 1));
              this.add(text);
              this.add(choices);
       }


       //set the background color
       public void setColor(String arg) {
              if(arg.equals(&quot;Red&quot;)) {
                     setBackground(Color.red);
              }
              else if(arg.equals(&quot;Cyan&quot;)) {
                     this.setBackground(Color.cyan);
              }
              else if(arg.equals(&quot;Yellow&quot;)) {
                     this.setBackground(Color.yellow);
              }
              else if(arg.equals(&quot;Pink&quot;)) {
                     this.setBackground(Color.pink);
              }
       }

       public boolean action(Event evt, Object arg) {
              //did the event occur over a button
              if(evt.target instanceof List) {
                     this.setColor(((List)evt.target).getSelectedItem());
                     super.doResponse(&quot;You Chose:
 &quot;+((List)evt.target).getSelectedItem());
                     return true;
              }

              return super.action(evt, arg);
       }
}
</PRE>

<P><a href="images\ch05fg07.jpg"><img src="images\tn_ch05fg07.jpg"></a><BR>
Figure 5.7 The ListDemo class running under MacOS.
</P>


<A NAME="PAGENUM-148"><P>Page 148</P></A>


<H4><A NAME="ch05_ 13">
Creating Text Boxes
</A></H4>

<P>Different types of questions merit different types of answers. Usually, you can get
user input from a pop-up menu or through radio buttons, but you often need to offer
the freedom of keyboard input. It makes sense, for example, to place all fonts in a
pop-up menu because you have only so many options to use; if you only have 10 fonts, it is no
big deal to show them all. If you want the user to be able to answer any question at
all, however, you need to use some sort of text box for her to place her answer. For
example, when you log in to a computer, it wouldn't be very logical for the available passwords
to be placed in a pop-up menu from which users select. A better choice is to use two
text fields and let the user type the login name in one, and the password in another.
</P>

<P>In Java, the TextField class creates a one-line text input box, and the
TextArea class creates a multiline text input box. Both classes actually extend the
TextComponent class and have similar methods and constructors. A TextField object is created by passing
its constructor an integer representing the number of columns wide that it should be;
a TextArea is created by passing along integers representing the number of columns
and rows that the object should occupy on the screen. Both classes support additional
constructors which also accept a String object to be displayed as the initial contents of
either the TextField of TextArea object.
</P>

<P>At any time you can call the getText() method, which returns the component's contents.
</P>

<P>Listing 5.12 contains the code required to add a TextField demo Frame to your
application, and listing 5.13 contains the code required to add a TextArea demo Frame to
your application. Figure 5.8 shows the screens built by both classes.
</P>

<P>Listing 5.12The TextField Component Enables up to One Line of User Input
</P>

<PRE>
package industrial;
import java.awt.*;
//TextField class allows the user to answer the question &quot;What
//is your favorite color&quot; with any string
public class TextFieldDemo extends FileFrame {

       //GUI controls
       private        Label                  text;
       private        TextField              theTextField;
       private        Button                 answer;

       //constructor, accepts a string as a parameter and uses
       //it as the title
</PRE>


<A NAME="PAGENUM-149"><P>Page 149</P></A>


<PRE>
       public TextFieldDemo(String title) {
              super(title);
              //create the componets
              text = new Label(&quot;What Is Your Favorite Color?&quot;);
              theTextField = new TextField(20);
              answer = new Button(&quot;Answer!&quot;);
              //use the GridBagLayout manager to draw the screen
              GridBagLayout myLayout = new GridBagLayout();
              GridBagConstraints constraints = new GridBagConstraints();
              this.setLayout(myLayout);

              constraints.gridx = 0;
              constraints.gridy = 0;
              constraints.gridwidth = 5;
              constraints.gridheight = 1;
              myLayout.setConstraints(text, constraints);
              this.add(text);

              constraints.gridy = 1;
              myLayout.setConstraints(theTextField, constraints);
              this.add(theTextField);
              constraints.gridx = 2;
              constraints.gridy = 3;
              constraints.gridwidth = 1;
              constraints.gridheight = 1;
              myLayout.setConstraints(answer, constraints);
              this.add(answer);
       }

       //trap the action generated when a user clicks on a button
       public boolean action(Event evt, Object arg) {
              //did the event occur over the button
              if(evt.target instanceof Button) {
                     super.doResponse(&quot;You Chose:
                                             &Acirc;&quot;+theTextField.getText());
                     return true;
              }

              return super.action(evt, arg);
       }
}
</PRE>

<P>Listing 5.13 shows the code for the TextArea component, which enables mulitple lines <BR>
of input.
</P>


<A NAME="PAGENUM-150"><P>Page 150</P></A>



<P><a href="images\ch05fg08.jpg"><img src="images\tn_ch05fg08.jpg"></a><BR>
Figure 5.8 Allowing dynamic user input with 
the TextArea and TextField components.
</P>

<P>Listing 5.13The TextArea Component Enables Multiple Lines of User Input
</P>

<PRE>
package industrial;
import java.awt.*;
//TextAreaDemo class allows the user to answer the question &quot;What
//is your favorite color&quot; with any string
public class TextAreaDemo extends FileFrame {

       //GUI controls
       private        Label                 text;
       private        TextArea              theTextArea;
       private        Button                answer;

       //constructor, accepts a string as a parameter and uses
       //it as the title
       public TextAreaDemo(String title) {
              super(title);

              //create the componets
              text = new Label(&quot;What Is Your Favorite Color?&quot;);
              theTextArea = new TextArea(5, 20);
              answer = new Button(&quot;Answer!&quot;);

              //use the GridBagLayout manager to draw the screen
              GridBagLayout myLayout = new GridBagLayout();
              GridBagConstraints constraints = new GridBagConstraints();
              this.setLayout(myLayout);

              constraints.gridx = 0;
              constraints.gridy = 0;
</PRE>


<A NAME="PAGENUM-151"><P>Page 151</P></A>


<PRE>
              constraints.gridwidth = 5;
              constraints.gridheight = 1;
              myLayout.setConstraints(text, constraints);
              this.add(text);

              constraints.gridy = 1;
              constraints.gridheight = 5;
              myLayout.setConstraints(theTextArea, constraints);
              this.add(theTextArea);
              constraints.gridx = 7;
              constraints.gridy = 1;
              constraints.gridwidth = 1;
              constraints.gridheight = 1;
              myLayout.setConstraints(answer, constraints);
              this.add(answer);
       }


       //trap the action generated when a user clicks on a button
       public boolean action(Event evt, Object arg) {
              //did the event occur over the button
              if(evt.target instanceof Button) {
                     super.doResponse(&quot;You Chose: &quot;+theTextArea.getText());
                     return true;
              }

              return super.action(evt, arg);
       }
}
</PRE>

<H4><A NAME="ch05_ 14">
Custom AWT Components
</A></H4>

<P>Up to this point you have created all classes that are referenced by the first
pull-down menu, &quot;AWT Components.&quot; You should now have little trouble adding a front end to
any text-based application that you may have already built. Keep in mind, however,
that although the premanufactured AWT components are functional, they are rarely enough
to build a full GUI. Most applications require you either to piece together a bunch of
AWT components to build your own more complex ones or to work from the ground up
to create your own GUI controls.
</P>

<P>As a final component to the chapter's example application, you will build a frame
that scrolls an image using a few AWT classes&#151;Frame, Canvas, Toolkit, and Scrollbar&#151;to
see how you can piece them all together to produce a class that scrolls an image in a window.
</P>


<A NAME="PAGENUM-152"><P>Page 152</P></A>


<P>Before you dive into code for the component, you need to evaluate what you need it to
do. The following steps detail the process:
</P>

<OL>
<LI>     First, you will pass it an Image object that will be displayed in the frame.
<LI>     Next you will want to place scroll bars along the right and bottom of the Frame
to enable the user to scroll through the image in the Frame.
</OL>

<P>To accomplish the previous points, the Canvas, Toolkit, and Scrollbar classes will be
used with the Frame class.
</P>

<P>The Canvas class is perfect for painting images. It has a method called &quot;paint&quot; that
you can overload and paint any image on the Canvas.
</P>

<P>The Toolkit class is one that you almost never want to play with because it serves as
an abstract superclass to most classes in the AWT. It does, however, contain methods
for obtaining and manipulating images, and you will use them to obtain the image that
you are going to display. Specifically, you will use the method
getImage(), which takes as a parameter a path to an image and returns this image.
</P>

<P>Without too much guesswork, you can figure out that the
Scrollbar class throws a scroll bar up on the screen. The class supports a constructor that accepts an integer indicating
the orientation of the scroll bar, integers indicating the size of the slider, and the minimum
and maximum values that the scroll bar can represent.
</P>

<P>Before you begin coding the component, one last decision needs to be made&#151;how
are you going to scroll the image? Actually, scrolling an image is rather easy when
you examine the drawImage() method used to put the image on screen in the first place.
This method not only accepts an image to draw, but also coordinates for the top-left corner
of the image. Because the top-left corner of a Frame is (0,0), you can simulate
image scrolling by altering the coordinates at which the Image is drawn. To obtain the
alternate coordinates, simply trap all mouse activity in the scroll bar region, set member data
to equal the offset, and then call repaint(). Listings 5.14a through 5.14c contain
the ScrollingFrame class and a class called PictureCanvas. Combined, these classes create
the desired scrolling image effect. An example of the output is shown in figure 5.9.
</P>

<P>Listing 5.14a contains the constructor for the ScrollingFrame class, along with
various member data declarations. Here the actual screen is built.
</P>


<P><CENTER>
<a href="0141-0146.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0153-0157.html">Next</A>
</CENTER></P>






</BODY>
</HTML>



