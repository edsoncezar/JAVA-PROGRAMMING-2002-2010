<HTML>
<HEAD>


<TITLE>Industrial Strength Java:AWT Basics:EarthWeb Inc.-</TITLE>






<P><CENTER>
<a href="0130-0134.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0141-0146.html">Next</A>
</CENTER></P>

<A NAME="PAGENUM-135"><P>Page 135</P></A>


<PRE>
       private              MenuItem       componentRadio;
       private              MenuItem       componentCheckbox;
       private              MenuItem       componentTextField;
       private              MenuItem       componentTextArea;
       private              MenuItem       componentChoice;
       private              MenuItem       componentList;

       private              Menu           customMenu;
       private              MenuItem       customScrolling;

       //constructor, creates a new Frame with the title &quot;Untitled Frame&quot;
       public FileFrame() {
              super.setBackground(Color.white);
              super.resize(300, 200);
              super.setTitle(&quot;Untitled Frame&quot;);
              this.initMenus();
              super.show();
       }

       //constructor, creates a new Frame with the title passed as a
       //parameter
       public FileFrame(String title) {
              super.setBackground(Color.white);
              super.resize(300, 200);
              super.setTitle(title);
              this.initMenus();
              super.show();
       }

       //set up a border around the Frame ... asthetic reasons only
       public Insets insets() {
              return new Insets(10, 10, 10, 10);
       }
</PRE>

<P>Listing 5.7b contains the code necessary for menu creation. New instances of the
Menu, MenuBar, and MenuItem classes are created and added to the Frame.
</P>

<P>Listing 5.7bCreating All Menus and Adding Them to the Menu Bar
</P>

<PRE>
       private void initMenus() {
              //create the menus
              myMenuBar = new MenuBar();
              fileMenu = new Menu(&quot;File&quot;, true);
              componentMenu = new Menu(&quot;AWT Components&quot;, true);

</PRE>
<PRE>
                                                           continues
</PRE>

<A NAME="PAGENUM-136"><P>Page 136</P></A>



<P>Listing 5.7bContinued
</P>

<PRE>
              customMenu = new Menu(&quot;Custom Components&quot;, true);

              //create choices for the file menu
              fileNew = new MenuItem(&quot;New Frame&quot;);
              fileOpen = new MenuItem(&quot;Open...&quot;);
              fileSave = new MenuItem(&quot;Save...&quot;);
              fileQuit = new MenuItem(&quot;Quit&quot;);

              //add choices to the file menu
              fileMenu.add(fileNew);
              fileMenu.add(fileOpen);
              fileMenu.add(fileSave);
              fileMenu.add(fileQuit);

              //add the file menu
              myMenuBar.add(fileMenu);

               //create the choices for the component menu
               componentButton = new MenuItem(&quot;Button Demo...&quot;);
               componentRadio = new MenuItem(&quot;Radio Button Demo...&quot;);
               componentCheckbox = new MenuItem(&quot;Checkbox Demo...&quot;);
               componentTextField = new MenuItem(&quot;Text Field Demo...&quot;);
               componentTextArea = new MenuItem(&quot;Text Area Demo...&quot;);
               componentChoice = new MenuItem(&quot;Choice Demo...&quot;);
               componentList = new MenuItem(&quot;List Demo...&quot;);

               //add choices to the component menu
               componentMenu.add(componentButton);
               componentMenu.add(componentRadio);
               componentMenu.add(componentCheckbox);
               componentMenu.add(componentTextField);
               componentMenu.add(componentTextArea);
               componentMenu.add(componentChoice);
               componentMenu.add(componentList);

               //add the component menu
               myMenuBar.add(componentMenu);

               //create the choices for the custom menu
               customScrolling = new MenuItem(&quot;Scrolling Frame...&quot;);

               //add choices to the custom menu
               customMenu.add(customScrolling);
</PRE>


<A NAME="PAGENUM-137"><P>Page 137</P></A>


<PRE>
               //add the custom menu
               myMenuBar.add(customMenu);

               //add the menubar to the frame
               this.setMenuBar(myMenuBar);
       }
</PRE>

<P>Listing 5.7c contains three useful methods:
</P>

<UL>
<LI>     createNewFrame(), which creates a new instance of the current frame
<LI>     createOpenDialog(), which creates an Open File dialog box
<LI>     createSaveDialog(), which creates a Save dialog box
</UL>

<P>In most situations you will override these methods in child classes.
</P>

<P>Listing 5.7cCreating a New Frame, and an Open and a Save Dialog Box
</P>

<PRE>
       //create a new frame
       public void createNewFrame() {
              FileFrame newFrame = new FileFrame(&quot;AWT Demo&quot;);
              newFrame.resize(300, 200);
              newFrame.show();
       }


       //create open dialog
       public void createOpenDialog() {
              FileDialog myDialog = new FileDialog(this, &quot;Open File&quot;,
                             &Acirc;FileDialog.LOAD);
              myDialog.setDirectory(&quot;.&quot;);
              myDialog.setFile(&quot;openFile.txt&quot;);
              myDialog.show();
         }


         //create save dialog
         public void createSaveDialog() {
              FileDialog myDialog = new FileDialog(this, &quot;Save File As&quot;,
                             &Acirc;FileDialog.SAVE);
              myDialog.setDirectory(&quot;.&quot;);
              myDialog.setFile(&quot;newFile.txt&quot;);
              myDialog.show();
        }
</PRE>

<A NAME="PAGENUM-138"><P>Page 138</P></A>


<P>Listing 5.7d contains the doResponse() method, and the
action() method. The doResponse() method has already been discussed, and from your knowledge of
the action() method, it is easy to figure out that it will be called when an event occurs,
and will then call a proper method.
</P>

<P>Listing 5.7dDisplay the String arg in a Modal Dialog Box
</P>

<PRE>
         public void doResponse(String arg) {
              ModalOK        theResponse = new ModalOK(this, arg);

              theResponse.pack();
              theResponse.show();
         }


         //catch menu choices
         public boolean action(Event evt, Object arg) {
              if(&quot;New Frame&quot;.equals(arg)) {
                     this.createNewFrame();
                      return true;
              }
              else if(&quot;Open...&quot;.equals(arg)) {
                     this.createOpenDialog();
                         return true;
              }
              else if(&quot;Save...&quot;.equals(arg)) {
                     this.createSaveDialog();
                         return true;
              }
              else if(&quot;Button Demo...&quot;.equals(arg)) {
                     Buttons myButtons = new Buttons(&quot;Button Demo&quot;);
                      return true;
              }
              else if(&quot;Radio Button Demo...&quot;.equals(arg)) {
                     RadioDemo myRadioDemo = new RadioDemo(&quot;Radio Button
                                            &Acirc;Demo&quot;);
                      return true;
              }
              else if(&quot;Checkbox Demo...&quot;.equals(arg)) {
                     CheckboxDemo myCheckBoxDemo = new
                                            &Acirc;CheckboxDemo(&quot;Checkbox Demo&quot;);
                      return true;
              }
              else if(&quot;Text Field Demo...&quot;.equals(arg)) {
</PRE>


<A NAME="PAGENUM-139"><P>Page 139</P></A>


<PRE>
                     TextFieldDemo myTextFieldDemo = new
                                             &Acirc;TextFieldDemo(&quot;Textfield Demo&quot;);
                      return true;
              }
              else if(&quot;Text Area Demo...&quot;.equals(arg)) {
                     TextAreaDemo myTextAreaDemo = new TextAreaDemo(&quot;Text
                                            &Acirc;Area Demo&quot;);
                      return true;
              }
              else if(&quot;Choice Demo...&quot;.equals(arg)) {
                     ChoiceDemo myChoiceDemo = new ChoiceDemo(&quot;Choice
                                            &Acirc;Demo&quot;);
                      return true;
              }
              else if(&quot;List Demo...&quot;.equals(arg)) {
                     ListDemo myListDemo = new ListDemo(&quot;List Demo&quot;);
                      return true;
              }
              else if(&quot;Scrolling Frame Demo...&quot;.equals(arg)) {
                     ScrollingFrame myScrollingFrame = new
                                            &Acirc;ScrollingFrame(&quot;Scrolling Frame Demo&quot;);
                      return true;
              }
              else if(&quot;Quit&quot;.equals(arg)) {
                     System.exit(0);
                      return true;
              }
              return false;
        }
</PRE>

<P>Listing 5.7e contains the handleEvent() method which catches a click on a Frame's
close box, and closes the frame.
</P>

<P>Listing 5.7ehandleEvent Must be Overidden to Trap
Event.WINDOW_DESTROY
</P>

<PRE>
        public boolean handleEvent(Event e) {
              if(e.id == Event.WINDOW_DESTROY) {
                     this.hide();
                     return true;
              }
              return super.handleEvent(e);
       }
}
</PRE>


<A NAME="PAGENUM-140"><P>Page 140</P></A>


<P><B>
Merging the Menu Support with the AWT Screens
</B></P>

<P>Now that you have the parent class hammered out, you can begin implementing
the classes that are accessed via the menus. Actually, you have already written two. Look
back to the code that you wrote to demonstrate radio buttons and check boxes. All you need
to do to add menuing support to these classes is change their parent from Frame to
FileFrame and remove any redundant code. The redundant code includes the line
this.show() in the constructor and the doResponse() method. If you want to see an in-progress version
of your application, simply comment out the part of the action method where you
reference classes that have not been written, edit the RadioDemo and CheckboxDemo classes,
create a driver (or use the one in listing 5.8), and you are ready to rock-n-roll. After you get
your own version up and running, take a look at figure 5.4. Note that the menu bar includes
the AWT Components and Custom Components menus.
</P>

<P>Listing 5.8A Driver for the AWT Demo Application
</P>

<PRE>
import industrial.*;
//create a new FileFrame
public class AWTDemo {
       public static void main(String args[]) {
              FileFrame myFileFrame = new FileFrame();
       }
}
</PRE>

<P><a href="images\ch05fg04.jpg"><img src="images\tn_ch05fg04.jpg"></a><BR>
Figure 5.4 An in-progress version of your AWT demo application.
</P>

<H4><A NAME="ch05_ 10">
Creating Buttons
</A></H4>

<P>One of the more common AWT widgets used in application development is some form
of button. Buttons were used previously in the ModalOK class (see listing 5.2) to wait
for user acknowledgment before continuing, and can be used to prompt a user to answer
some question.
</P>


<P><CENTER>
<a href="0130-0134.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0141-0146.html">Next</A>
</CENTER></P>






</BODY>
</HTML>



