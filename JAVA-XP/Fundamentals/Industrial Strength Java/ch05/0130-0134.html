<HTML>
<HEAD>


<TITLE>Industrial Strength Java:AWT Basics:EarthWeb Inc.-</TITLE>






<P><CENTER>
<a href="0126-0129.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0135-0140.html">Next</A>
</CENTER></P>

<A NAME="PAGENUM-130"><P>Page 130</P></A>



<P>Listing 5.4cTrapping the Event Generated After the User Clicks on a Radio
Button
</P>

<PRE>
       public boolean action(Event evt, Object arg) {
              //did the event occur in a checkbox
              if(evt.target instanceof Checkbox) {
                     this.doResponse(&quot;You Chose:
                                            &Acirc;&quot;+((Checkbox)evt.target).getLabel());
                     return true;
              }

              //if not let our parent deal with the event
              return super.action(evt, arg);
       }
}
</PRE>

<P>Figure 5.2 shows the class in action. Note the consequences are not as harsh as the
ones imposed in The Holy Grail. 
</P>

<P><a href="images\ch05fg02.jpg"><img src="images\tn_ch05fg02.jpg"></a><BR>
Figure 5.2 The RadioDemo class presents a user with a list of
colors and asks that he choose one as his favorite.
</P>

<P>Although it might seem logical to use radio buttons when asking someone his
favorite color, the truth of the matter is that most people cannot decide on one color that
they identify as their favorite. To accommodate these users you will rewrite your
RadioDemo class, this time using check boxes. Due to the similarity between the classes, this
transition is possible to perform by simply altering a few lines of code. The code for the
Checkbox-     Demo class is in listing 5.5, and an example of the output is contained in figure 5.3.
</P>

<P>Listing 5.5Communicating with a User via Radio Buttons and Dialog Boxes
</P>

<PRE>
package industrial;
import java.awt.*;
public class CheckboxDemo extends Frame {
       //all GUI components
       private        Label                 text;
</PRE>


<A NAME="PAGENUM-131"><P>Page 131</P></A>


<PRE>
       private        Checkbox              red;
       private        Checkbox              cyan;
       private        Checkbox              yellow;
       private        Checkbox              pink;
       private        Checkbox              dontKnow;
       //Constructor
       public CheckboxDemo(String title) {
              //set the title
              super(title);

              //actually create all components. For good measure we set the
              //color of a checkbox to match its label
              text = new Label(&quot;What Is Your Favorite Color?&quot;);

              red = new Checkbox(&quot;Red&quot;);
              red.setBackground(Color.red);

              cyan = new Checkbox(&quot;Cyan&quot;);
              cyan.setBackground(Color.cyan);

              yellow = new Checkbox(&quot;Yellow&quot;);
              yellow.setBackground(Color.yellow);

              pink = new Checkbox(&quot;Pink&quot;);
              pink.setBackground(Color.pink);

              dontKnow = new Checkbox(&quot;I Don't Know&quot;);
              //add the components
              this.setLayout(new GridLayout(6, 1));
              this.add(text);
              this.add(red);
              this.add(cyan);
              this.add(yellow);
              this.add(pink);
              this.add(dontKnow);
              this.show();
       }

       //tell the user what checkbox he clicked
       public void doResponse(String arg) {
              ModalOK        theResponse = new ModalOK(this, arg);

              theResponse.pack();
              theResponse.show();
       }
</PRE>
<PRE>
                                                           continues
</PRE>

<A NAME="PAGENUM-132"><P>Page 132</P></A>



<P>Listing 5.5Continued
</P>

<PRE>
       //this will trap the event generated when the user actually clicks
       //on a checkbox
       public boolean action(Event evt, Object arg) {
              //did the event occur in a checkbox
              if(evt.target instanceof Checkbox) {
                     this.doResponse(&quot;You Chose:
                                            &Acirc;&quot;+((Checkbox)evt.target).getLabel());
                     return true;
              }

              //if not let our parent deal with the event
              return super.action(evt, arg);
       }
}
</PRE>

<P><a href="images\ch05fg03.jpg"><img src="images\tn_ch05fg03.jpg"></a><BR>
Figure 5.3 The class created in listing 5.4 running on the MacOS.
</P>

<H4><A NAME="ch05_ 9">
Menuing
</A></H4>

<P>Although placing user options on a frame in the form of some sort of button often is
a logical choice, you can place only so many options in a single frame without
&quot;crowding&quot; it. An application usually places some specific options in a Frame but provide access
to that Frame through a menu option. In Java, a menu is attached to a Frame; all instances
of that Frame and all classes that extend that class have access to the menu.
</P>

<P>Creating a menu is a three-step process.
</P>

<OL>
<LI>     First an instance of the MenuBar class is created. This object acts as an
actual menubar; each Frame may have one.
<LI>     To this MenuBar multiple instances of the Menu class are added; one for
each different menu that needs to be added to the menu bar. For example, most
applications have at least two instances of this class; one for the File menu and one for
the Edit menu.
</OL>

<A NAME="PAGENUM-133"><P>Page 133</P></A>


<OL START="3">
<LI>     Finally, to each instance of the Menu class instances of the MenuItem class
are added. These objects are the options each menu displays.
</OL>

<P>If you are at all confused by these steps, run to your computer and look at the way
a standard Edit menu is implemented. Options are provided for undoing the last
action, cutting, copying, and pasting. Some applications may offer additional options, but
these are the basic ones. After you have a good idea of how your Edit menu looks, go
over listing 5.6 showing the Java code required to implement this Edit menu. Note how
the MenuBar, Menu, and MenuItem classes are used to create the Edit menu you just saw
on your computer.
</P>

<P>Listing 5.6A Java Code Snippet Used to Create an Edit Menu
</P>

<PRE>
//create the components
MenuBar myMenuBar = new MenuBar();
Menu editMenu = new Menu(&quot;Edit&quot;, true);
MenuItem undo = new MenuItem(&quot;Undo&quot;);
MenuItem cut = new MenuItem(&quot;Edit&quot;);
MenuItem copy = new MenuItem(&quot;Copy&quot;);
MenuItem paste = new MenuItem(&quot;Paste&quot;);

//add them together
editMenu.add(undo);
editMenu.addSeparator();
editMenu.add(cut);
editMenu.add(copy);
editmenu.add(paste);
myMenuBar.add(editMenu);

//create new frame and assign it the menu bar which we just created.
Frame newFrame = new Frame(&quot;Edit Menu Demo&quot;);
newFrame.setMenuBar(myMenuBar);
</PRE>

<P><B>
Creating Pull-Down Menus
</B></P>

<P>Now that you have the basic form of the menu down, you should learn how to add
pull-down menus to the CheckboxDemo and RadioDemo Frames. You can add them in the
two ways described in the following paragraphs.
</P>

<P>Writing a bunch of menuing code and adding it to both the CheckboxDemo and
Radio-     Demo classes, which works, and is pretty cumbersome. If the application contained
100 different Frames, you would have to reproduce the code 100 times.
</P>


<A NAME="PAGENUM-134"><P>Page 134</P></A>



<P>A better way to deal with this situation is to write a
parent class that contains a menu structure and then modify all current classes to extend the parent class. To this
parent class, add code to set the default background color (white in this case), show the
window after it is drawn, and also deal with the user clicking on the close box. Basically,
you identify all features that the different Frame classes have in common and move them up
to the parent class. In fact, because both classes need access to the doResponse()
method, you can even bring this method up the parent class.
</P>

<P>The code for the parent Frame is in listings 5.7a through 5.7e. Note that it makes
reference to a few classes that have yet to be developed. Don't worry, there's a lot more fun to
come, and everything is fully developed by the time you finish this chapter.
</P>

<P>Listing 5.7a is set up of all member data, and also
both constructors. The constructors are charged with the following:
</P>

<UL>
<LI>     Setting the title
<LI>     Setting the background color
<LI>     Setting the default size
<LI>     Calling initMenus() to build the menu structure
<LI>     Displaying the Frame
</UL>

<P>Listing 5.7aGrouping Common Information in a Parent Class
</P>

<PRE>
package industrial;
import java.awt.*;
import java.awt.image.*;
import java.io.*;

//parent class to all classes developed in our application
//provides common menus, and access to common methods
public class FileFrame extends Frame {
       //create menu componets
       private              MenuBar        myMenuBar;

       private              Menu           fileMenu;
       private              MenuItem       fileNew;
       private              MenuItem       fileOpen;
       private              MenuItem       fileSave;
       private              MenuItem       fileQuit;
       private              Menu           componentMenu;
       private              MenuItem       componentButton;
</PRE>

<P><CENTER>
<a href="0126-0129.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0135-0140.html">Next</A>
</CENTER></P>






</BODY>
</HTML>



