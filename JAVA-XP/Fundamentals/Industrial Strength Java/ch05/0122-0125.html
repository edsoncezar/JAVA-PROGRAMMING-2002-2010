<HTML>
<HEAD>


<TITLE>Industrial Strength Java:AWT Basics:EarthWeb Inc.-</TITLE>






<P><CENTER>
<a href="0119-0121.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0126-0129.html">Next</A>
</CENTER></P>

<A NAME="PAGENUM-122"><P>Page 122</P></A>


<H3><A NAME="ch05_ 5">
Developing Applications <BR>
with AWT
</A></H3>

<P>The sad truth about AWT is that unless you have the time to rewrite it yourself, you're
just going to have to learn to love it. In this chapter you will accomplish two things:
</P>

<OL>
<LI>     Learn about the components that ship with the AWT.
<LI>     Learn to create your own components.
</OL>

<P>In the process of learning about the AWT, you will build an application that
demonstrates using each AWT component. This application will be built as the chapter's coverage of
the AWT develops and will serve as a code reference that you will be able to take
advantage of during application development.
</P>

<H4><A NAME="ch05_ 6">
Frames, Panels, and Canvases
</A></H4>

<P>The AWT components can be divided into two basic categories:
</P>

<UL>
<LI>     Components which are placed on other components
<LI>     Components on which other components are placed
</UL>

<P>Of all the components that have the ability to &quot;house&quot; other components, the
Frame class is one you will probably deal with in every application. A Frame is a top-level
window with a title, border, and (if desired) a menu bar. Most GUI applications contain either
an instance of the Frame class or an instance of a class that extends Frame. Frame
supports two constructors&#151;one that enables you to create a Frame without a title, and one
that enables you to create a Frame with a title. Listing 5.1 is a small class that produces a
new Frame when you create a new instance of it. Pay careful attention to this code because it
is the foundation for most of what will be developed in this chapter.
</P>

<P>Listing 5.1A Simple Class that Creates a New Frame
</P>

<PRE>
package industrial;
import java.awt.*;
public class FileFrame extends Frame {

    //Constructor, accepts a title as a parameter
    public FileFrame(String title) {
</PRE>


<A NAME="PAGENUM-123"><P>Page 123</P></A>


<PRE>
        //set the background to white
        setBackground(Color.white);
        //resize the frame
        resize(300, 200);
        //set the title
        setTitle(title);
        //show the Frame
        show();
    }


    //Constructor creates a title-less Frame
    public FileFrame() {
        setBackground(Color.white);
        resize(300, 200);
        setTitle(&quot;New Frame&quot;);
        show();
    }

    //provide a border around the frame
    public Insets insets() {
        return new Insets(10, 10, 10, 10);
    }

    //handleEvent must be overidden to catch Event.WINDOW_DESTROY
    //this will close this main window if the user clicks on the close
    //button
    public boolean handleEvent(Event e) {
        if(e.id == Event.WINDOW_DESTROY) {
             this.hide();
             return true;
          }
          return super.handleEvent(e);
    }
}
</PRE>

<P>Two other high-level components often used in screen-building are the Canvas and
Panel classes.
</P>

<P>The Canvas class is useful when building any sort of screen that needs to be painted.
This class will be explored in a later section on building a class that scrolls an image.
</P>

<P>The Panel class is useful for grouping different components together. For example,
you create a subclass of Panel called ButtonPanel that contains five different buttons. To
add those five buttons to an application, you would simply have to add a new instance
of ButtonPanel. This class will be discussed in a later section on Layout Managers.
</P>


<A NAME="PAGENUM-124"><P>Page 124</P></A>



<H4><A NAME="ch05_ 7">
The Dialog Class
</A></H4>

<P>The Dialog class provides a manner for creating modal and modeless
dialog boxes.
</P>

<P>In any GUI, it is common to use dialog boxes, and you will want
to have a series of flexible children classes of Dialog that can be
used when needed. One of the more common uses for a dialog box is
to tell the user that he made some sort of error. For example, if
you were to create a front end to an ordering database, you would
want to examine the contents of a form before inserting it into
the products database. If an entry from the U.S.A.was submitted and
the phone number contained only five digits, you would want to tell
the user before even passing the data to the server.
</P>

<BR>
<P>

<CENTER>
<TABLE BGCOLOR="#FFFF99">
<TR><TD><B>
NOTE
</B></TD></TR>
<TR><TD>
<BLOCKQUOTE>
A modal dialog box blocks the user from working with
the current application until he dismisses the
dialog box. A modal dialog box is useful when the current
application cannot continue until a critical
information exchange occurs be-tween the
application and the user.
</BLOCKQUOTE></TD></TR>
</TABLE></CENTER>
</P>
<P>An error dialog box of this type basically needs to support
two features:
</P>

<OL>
<LI>     It must be able to display some sort of message.
<LI>     It must offer some method by which the user can dismiss it
when he acknowledges the error.
</OL>

<P>Listing 5.2 contains a small class called ModalOK. Its constructor accepts a string
to display and also a frame to act as the dialog's owner. The class displays the string in
the dialog and also a button that the user can use to dismiss the dialog box. The dialog is
made modal so the user must acknowledge the comment before he can continue using the
appli-     cation. To ensure consistent placement of both the string and the button, the
GridBag-     Layout layout manager is used. This layout manager enables the greatest flexibility
when building screens. It is examined later in this chapter.
</P>

<P>Listing 5.2A Small Class that Displays an Error Message to a User
</P>

<PRE>
package industrial;
import java.awt.*;
//the error dialog
public class ModalOK extends Dialog {
       private Button okButton; //the button which the user will
                                //click to dismiss the box

        public ModalOK(Frame parent, String theMessage) {
               super(parent, true); //tell Dialog that we are modal
</PRE>


<A NAME="PAGENUM-125"><P>Page 125</P></A>



<PRE>
               //set the layout manager
               GridBagLayout gb = new GridBagLayout();
               GridBagConstraints constraints = new GridBagConstraints();
               &Acirc;setLayout(gb);

               //create the widgets
               okButton = new Button(&quot;OK&quot;);
               Label message = new Label(theMessage);

               //place the widgets on the screen
               constraints.fill = GridBagConstraints.NONE;
               constraints.anchor = GridBagConstraints.CENTER;
               constraints.ipadx = 20;
               constraints.ipady = 20;
               constraints.weightx = 1.0;
               constraints.weighty = 1.0;
               constraints.gridwidth = GridBagConstraints.REMAINDER;
               constraints.gridheight = GridBagConstraints.RELATIVE;

               gb.setConstraints(message, constraints);
               add(message);

               constraints.ipadx = 0;
               constraints.ipady = 0;
               constraints.weightx = 0.0;
               constraints.weighty = 0.0;
               constraints.gridwidth = 1;
               constraints.gridheight = GridBagConstraints.REMAINDER;

               gb.setConstraints(okButton, constraints);
               add(okButton);

               //force our dialog box to take minimum of space
               pack();
        }

        //trap the ok click
        public boolean action(Event e, Object arg) {
               //if the user clicked on the OK button close the dialog box
               if(e.target == okButton) {
                      hide();
               }
               return true;
        }
}
</PRE>


<P><CENTER>
<a href="0119-0121.html">Previous</A> | <a href="..\ewtoc.html">Table of Contents</A> | <a href="0126-0129.html">Next</A>
</CENTER></P>






</BODY>
</HTML>



