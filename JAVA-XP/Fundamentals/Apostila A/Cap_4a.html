<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>

<head>
<meta http-equiv="Content-Type"
content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPage 2.0">
<!-- falta de palavras, caracteres, acentos ou formatação irregular nesta
     página foram causados pelo uso do FrontPage 2.0. Evite usá-lo! -->
<title>Capítulo 4: Estrutura e Sintaxe de Java</title>
</head>

<body bgcolor="#FFF4EE" text="#1F1810" link="#FF4000"
vlink="#6F0000" alink="#FFFF00">
<style type="text/css"><!--
       dd {font-size: 10pt; font-family: Arial, Helvetica, sans-serif}
   a:link {text-decoration: none; font-size: 10pt; font-family: Arial, Helvetica, sans-serif}
  a:vlink {text-decoration: none; font-size: 10pt; font-family: Arial, Helvetica, sans-serif}
       h2 {font-size: 16pt; font-weight: bold; font-family: Arial, Helvetica, sans-serif}
      big {font-size: 100pt; font-weight: bold; font-family: Times, Times New Roman, serif}
        u {background: cccc99; font-size: 10pt; font-family: Arial, Helvetica, sans-serif}
    small {font-size:8pt}
--></style><script>
</script>

<table border="5" width="100%">
    <tr>
        <td align="center" bgcolor="#EECCAA"><a
        href="http://www.dsc.ufpb.br/~helder"><font size="2"
        face="Arial, Helvetica">Helder's Web</font></a> </td>
        <td align="center" bgcolor="#FFDECC"><a
        href="/~helder/java/"><font size="2"
        face="Arial, Helvetica">Recursos Java</font></a> </td>
        <td align="center" bgcolor="#EECCAA"><a
        href="http://www.dsc.ufpb.br/"><font size="2"
        face="Arial, Helvetica">DSC/UFPB</font></a> </td>
    </tr>
</table>

<p>&nbsp; </p>

<table border="0" cellpadding="0" cellspacing="0" width="540">
    <tr>
        <td><div align="right"><table border="0" width="400">
            <tr>
                <td align="right"><h1><font color="#804000"
                size="7"><i>Estrutura e<br>Sintaxe de Java</i></font><i><br>
                </i></h1>
                <hr>
                </td>
            </tr>
        </table>
        </div></td>
    </tr>
    <tr>
        <td height="10"><table border="1" cellpadding="0"
        cellspacing="0" width="190">
            <tr>
                <td align="center"><a
                href="http://www.dsc.ufpb.br/~helder"><font
                size="2" face="arial, helvetica">H<small>ELDER</small></font><font
                size="2"> L. S. <small>DA</small> R<small>OCHA</small></font></a></td>
            </tr>
        </table>
        </td>
    </tr>
</table>

<table border="0" width="540">
    <tr>
        <td>....................</td>
        <td>&nbsp;</td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td>
        <p>Os exemplos vistos no capítulo anterior serviram para
        se ter um contato inicial com a linguagem. Passaremos
        agora para um exemplo maior, que explora melhor a
        estrutura da linguagem Java, mas ainda sem usar muitas
        classes e objetos. O programa é o mais simples
        possível: só tem um método (<code>main</code>) e não
        cria objetos. <p>Este programa que iremos estudar agora
        é um aplicativo <i>standalone</i> (não é uma applet)
        que roda através da linha de comando (MS-DOS Prompt, UNIX
        Shell) e calcula uma lista de fatoriais. É um programa
        interessante para ilustrar a estrutura da linguagem Java
        porque usa uma série de recursos da linguagem, que
        explicaremos neste capítulo e no próximo, tais como:</p>
        <ul>
            <li>os três formatos de comentários usados em Java;</li>
            <li>declaração de uma classe;</li>
            <li>declaração e definição de variáveis e constantes;</li>
            <li>atribuições, sintaxe de expressões;</li>
            <li>captura e tratamento de condições excepcionais;</li>
            <li>expressões condicionais e de controle de fluxo;</li>
            <li>operadores e precedência, separadores, literais;</li>
            <li>tipos de dados, palavras reservadas; </li>
            <li>invocação de métodos;</li>
            <li>impressão na saída padrão;</li>
            <li>argumentos de linha de comando;</li>
            <li>vetores e cadeias de caracteres.</li>
        </ul>
        <p>Digite o programa a seguir no seu editor de texto preferido
        (ou no seu ambiente de desenvolvimento Java) e depois
        salve-o em um arquivo de texto com extensão &quot;<code>.java</code>&quot;
        (use &quot;<code><a href="fatorial.java">fatorial.java</a></code>&quot;). </p>
        <p>&nbsp;</p>
        </td>
    </tr>
</table>

<table border="1" bgcolor="#eeeeee">
    <tr>
        <td><pre><font color="#008000">/**
* Aplicação que imprime uma lista de fatoriais
* @author Helder L. S. da Rocha
* @version 1.0
*/</font>

<font color="#0000FF">class</font> Fatorial {
  <font color="#008000">   /* Maior número a ter seu fatorial calculado */</font>
     <font color="#0000FF">static final int</font> MAX_VAL = 15;

  <font color="#008000">   /* método main */</font>
    <font color="#0000FF"> public static void</font> main(<font
color="#800000">String</font>[] args) {
        <font color="#0000FF">int</font> valor = 0; <font
color="#008000"> // valor inicial igual a zero</font>
        <font color="#0000FF">int</font> maxValor;   <font
color="#008000">// valor máximo é inteiro de 32 bits</font>
        <font color="#0000FF">long</font> fatorial;  <font
color="#008000">// valor fatorial é inteiro de 64 bits</font>


        <font color="#0000FF">try</font> {
            maxValor = <font color="#800000">Integer</font>.parseInt(args[0]);
<font color="#008000">		// 1. Exceção se args=null ou se args != inteiro</font>
            <font color="#0000FF">if </font>(maxValor &gt; MAX_VAL) {
                 <font color="#0000FF">throw new</font> Exception();
<font color="#008000">	        // 2. Exceção se maxValor &gt; MAX_VAL</font>
            }

        } <font color="#0000FF">catch</font> (<font
color="#800000">Exception</font> e) {
            maxValor = MAX_VAL;
            <font color="#008000">// redefine maxValor caso haja exceção</font>
        }

        <font color="#800000">System</font>.out.println(&quot;- Fatoriais de números até &quot; +
			  maxValor + &quot; -\n&quot;);
        <font color="#800000">System</font>.out.println(&quot;Valor&quot; + &quot;\t&quot; +
		          &quot;Fatorial\n-----\t---------\n&quot;);

        <font color="#0000FF">while</font>(valor &lt;= maxValor) {
		if (valor == 0) {
			fatorial = 1;
		} else {
			fatorial = valor;
			for (int parte = valor; parte &gt; 1;) {
                    	fatorial = fatorial * --parte;
                        <font color="#008000">// decrementa antes do uso</font>
                }
            }

            <font color="#800000">System</font>.out.println(valor + &quot;\t&quot; + fatorial);
            valor++; 	<font color="#008000">// valor = valor + 1</font>

        } <font color="#008000">// fim do while</font>

     } <font color="#008000">// fim do main</font>

}
</pre>
        </td>
    </tr>
</table>

<table border="0" width="540">
    <tr>
        <td><font color="#FFF4EE">....................</font></td>
        <td>&nbsp;</td>
    </tr>

<tr><td colspan="2">
<h2><font face="arial, helvetica" color="000060"><i><br>
Como Compilar e Rodar usando o JDK</i></font></h2>
</td></tr>
<tr><td>&nbsp;</td><td>


        <p>Para compilar o
        programa-exemplo, salve-o como <code>fatorial.java</code>,
        e depois execute:</p>

        <blockquote><p><code><b>javac fatorial.java</b></code></p></blockquote>

        <p>O compilador responderá com uma lista de mensagens de
        erro ou nenhuma mensagem, indicando sucesso:</p>

        <p><table border width=80% bgcolor="#000000"><tr><td><code><font color="#ffffff">
        compiling: fatorial.java<br><br>
        C:\&gt;_</font> </code></td></tr></table></p>


        <p>Se houve erros, corrija-os e recompile o
        programa. Após obter sucesso na compilação, liste o
        conteúdo do diretório onde está o arquivo <code>fatorial.java</code>.
        Você deve encontrar também, um outro arquivo chamado<code> Fatorial.class</code>.
        É o seu programa Java, compilado em bytecodes. Para
        executá-lo, rode o interpretador Java:</p>

        <blockquote><p><code><b>java Fatorial</b></code></p></blockquote>

        <p>O programa deve rodar sem problemas, imprimindo a
        seguinte lista na sua tela:</p>

        <p><table border width=80% bgcolor="#000000"><tr><td><code><font color="#ffffff">
        <pre>- Fatoriais de números at 15 -
&nbsp;
Valor   Fatorial
-----   ---------
&nbsp;
0       1
1       1
2       2
3       6
4       24
5       120
6       720
7       5040
8       40320
9       362880
10      3628800
11      39916800
12      479001600
13      6227020800
14      87178291200
15      1307674368000
</pre>
</font> </code></td></tr></table></p>

        <p>Você também pode exibir uma lista menor informando o
        maior termo a ser calculado através de um argumento
        passado na linha de comando:</p>

        <p><table border width=80% bgcolor="#000000"><tr><td><code><font color="#ffffff">
        <pre>E:\&gt; <b>java Fatorial 5</b>
- Fatoriais de números até 5 -

Valor   Fatorial
-----   ---------
0       1
1       1
2       2
3       6
4       24
5       120</pre>
</font> </code></td></tr></table></p>

</td></tr>

<tr><td colspan="2">
<h3><font face="arial, helvetica" color="000060"><i><br>
Exercício</i></font></h3>
</td></tr>
<tr><td>&nbsp;</td><td>

        <ol>
            <li>Veja o que acontece se você usar uma letra (em vez
            de um número) como argumento. Tente também obter a
            lista de fatoriais at 100 usando este programa e veja
            o que acontece.</li>
        </ol>

</td></tr>

<tr><td colspan="2">
<h2><font face="arial, helvetica" color="000060"><i><br>
Sobre a Compilação</i></font></h2>
</td></tr>
<tr><td>&nbsp;</td><td>

        <p>O compilador Java cria um arquivo de classe (<code>.class</code>), formado por
        instruções de bytecodes, para <i>cada classe</i>
        declarada no programa-fonte. O programa-fonte também
        chamado de unidade de compilação. No nosso exemplo,
        apenas um arquivo de classe foi criado: <code>Fatorial.class</code>, pois só havia
        uma declaração de classe na nossa unidade de
        compilação. Se uma única unidade de compilação tiver
        10 classes declaradas, o compilador produzirá 10 arquivos
        bytecode. Cada classe irá dar origem a um arquivo de
        mesmo nome, com a extensão <code>class.</code></p>

        <p>Há uma restrição quanto ao nome que pode ser
        dado ao programa-fonte. A linguagem Java estabelece que só
        poderá haver <i>uma</i> classe
        pública (declarada com o modificador &quot;<code>public</code>&quot;)
        em cada unidade de compilação. Existindo tal classe
        pública, o nome da arquivo-fonte deverá ser o <i>mesmo</i>
        que o nome dessa classe, acrescentado naturalmente da
        extensão <code>.java</code> (veja
        o exemplo da applet <code>HelloWorld</code>). </p>

        <p>Por exemplo, suponha que uma unidade de
        compilação possui várias classes declaradas <code>Cachorro</code>, <code>Gato</code>
        e <code>Rato</code> e uma classe pública chamada <code>Animal</code>. O arquivo-fonte deverá chamar-se necessariamente <code>Animal.java</code>.
        Se for usado outro nome o compilador irá exibir uma
        mensagem de erro e não realizará a compilação.
        Usando-se o nome correto, o resultado será o esperado:
        quatro arquivos de classe: <code>Animal.class</code>,
        <code>Cachorro.class</code>, <code>Gato.class</code>, e
        <code>Rato.class</code>.</p>

</td></tr>

<tr><td colspan="2">
<h3><font face="arial, helvetica" color="000060"><i><br>
Exercício</i></font></h3>
</td></tr>
<tr><td>&nbsp;</td><td>

        <ol start="2" type="1">
            <li start="2">Coloque a palavra &quot;<code>public&quot;</code> antes
            da declaração da classe no programa <code>fatorial.java</code>:</p>
            <pre>public class Fatorial {
	...<br>
}</pre>
            <p>Tente compilar novamente o programa e veja
            os erros que você obtém. Como você poderia
            corrigir esse erro (mantendo o modificador <code>public</code>)?</p>
        </ol>


        <p>Tente entender o funcionamento do programa analisando
        o seu código. O texto entre &quot;/*&quot; e
        &quot;*/&quot; ou após &quot;//&quot; são comentários
        e explicam superficialmente o que cada parte faz. As
        seções seguintes explicarão um pouco mais a estrutura
        do programa. </p>

</td></tr>

<tr><td colspan="2">
<h2><font face="arial, helvetica" color="000060"><i><br>
Sobre a Estrutura do Programa</i></font></h2>
</td></tr>
<tr><td>&nbsp;</td><td>

        <p>A estrutura do programa exemplo, apresentado no início
        deste capítulo pode ser organizada da seguinte forma:</p>

<blockquote><pre>Definição da classe {
    Declaração e/ou definição de variáveis
    Declaração e implementação de Métodos
}</pre></blockquote>

        <p>Tudo está dentro de uma definição de classe.
        No nosso exemplo, temos apenas uma variável definida dentro
        da classe (<code>MAX_VAL</code>)
        e apenas um método especial, que é o <code>main</code>.</p>

</td></tr>

<tr><td colspan="2">
<h3><font face="arial, helvetica" color="000060"><i><br>
O Método Main</i></font></h3>
</td></tr>
<tr><td>&nbsp;</td><td>

        <p>A presença do método <code>main()</code>, indica que esta
        classe pode iniciar a execução do programa. O método <code>main()</code> sempre
        tem a sintaxe:</p>

<pre><img src="f41.gif">
</pre>

        <p>Entre as chaves <code>{</code> e <code>}</code> está toda a implementação
        do método. A declaração (parte que está antes das
        chaves) informa: se o método tem argumentos, o tipo
        desses argumentos e o que o método retorna (caso ele
        retorne algum valor). Ainda pode haver um ou mais <i>modificadores</i>
        opcionais que dizem como o método pode ser usado por
        outras classes.</p>

        <p>No caso do <code>main</code>, os modificadores são <code>public</code> e
<code>static</code>.
        Como <code>main</code> não retorna valor, ele é declarado <code>void</code>.
        Ele também pode receber como argumento um vetor de objetos
        do tipo <code>String</code>,
        que chamamos de <code>args</code>.</p>

        <p>A declaração</p>

<blockquote><pre>String[] args
</pre></blockquote>

        <p>também pode ser escrita da forma</p>

<blockquote><pre>String args[]
</pre></blockquote>

        <p>Os colchetes [ e ] indicam que <code>args</code> é um vetor.
<code>String</code> é uma classe
        que pertence a biblioteca fundamental da linguagem Java e
        caracteriza uma cadeia de caracteres. A variável <code>args</code>, então,
        pode conter um vetor de cadeias de caracteres, que podem
        ser palavras, por exemplo. No caso específico do <code>main</code>,
        args é utilizado para armazenar as palavras digitadas
        após o nome do programa na linha de comando.</p>

</td></tr>

<tr><td colspan="2">
<h3><font face="arial, helvetica" color="000060"><i><br>
Variáveis (campos de dados)</i></font></h3>
</td></tr>
<tr><td>&nbsp;</td><td>

        <p>A única variável declarada e definida no corpo
        da classe do programa <code>fatorial.java</code> é:</p>

<pre><img src="f42.gif">
</pre>

        <p>A declaração também consiste de modificadores
        opcionais (<code>static</code>
        e <code>final</code>), o tipo
        que a variável armazena (<code>int</code>) e o seu nome (<code>MAX_VAL</code>).
        O modificador <code>final</code> transforma a variável em uma
        constante que tem que ter um valor definido. Isto feito
        através de uma atribuição usando o operador &quot;<code>=</code>&quot;. </p>

<p>Na maioria das vezes, pode-se separar a declaração
        da definição (a única exceção é quando se usa um
        modificador<code> final</code>).
        Por exemplo:</p>

<blockquote><pre>int valor = 0;
</pre></blockquote>

        <p>é equivalente a:</p>

<blockquote><pre>int valor;
valor = 0;
</pre></blockquote>

        <p>A primeira linha <i>declara</i> a variável como sendo
        do tipo <code> int</code> e a segunda
        linha <i>define</i> o valor inicial da variável.</p>

        <p align="right"><a name="end"></a><a href="Cap_4b.html"><b>Continua... (fim da parte 1/2)</b></a></p>


</td></tr>

</table>

<hr>

<p align="center"><font size="2">© 1996 </font><a href="http://www.dsc.ufpb.br/~helder"><font
size="2">Helder L. S. da Rocha</font></a><font size="2"> </font></p>

<table border="5" width="100%">
    <tr>
        <td align="center" bgcolor="#EECCAA"><a
        href="http://www.dsc.ufpb.br/~helder"><font size="2"
        face="Arial, Helvetica">Helder's Web</font></a> </td>
        <td align="center" bgcolor="#FFDECC"><a
        href="/~helder/java/"><font size="2"
        face="Arial, Helvetica">Recursos Java</font></a> </td>
        <td align="center" bgcolor="#EECCAA"><a
        href="http://www.dsc.ufpb.br/"><font size="2"
        face="Arial, Helvetica">DSC/UFPB</font></a> </td>
    </tr>
</table>
</body>
</html>
