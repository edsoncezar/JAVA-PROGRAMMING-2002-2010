










<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<title>Introduction to the 1.1 AWT Event Model</title>
</head>
<body BGCOLOR="#ffffff">








<table width="100%">
<tr>
<td align=left>
<a href="eventmodel.html"><img src="http://docs.rinet.ru/OLDui/images/PreviousArrow.gif" width=26 height=26 align=bottom border=0 alt="Previous | "></a><a
href="eventinnerclasses.html"><img src="http://docs.rinet.ru/OLDui/images/NextArrow.gif" width=26 height=26 align=bottom border=0 alt="Next | "></a><a
href="http://docs.rinet.ru:8080/OLDui/trailmap.html"><img src="http://docs.rinet.ru/OLDui/images/WayUpArrow.gif" width=26 height=26 align=bottom border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/OLDui/images/uiHeader.gif" width=26 height=26 align=bottom border=0 alt="Creating a User Interface (AWT Only) | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>Using Components, the GUI Building Blocks</em></strong></a>
</td>
</tr>
</table>
<p>
<center>
<IMG SRC="http://docs.rinet.ru/OLDui/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
<IMG SRC="http://docs.rinet.ru/OLDui/images/shoeline2.GIF" ALIGN="BOTTOM" BORDER="0" WIDTH="202"
    HEIGHT="25" NATURALSIZEFLAG="3">
</center>
<p> 

<h2>
    Introduction to the 1.1 AWT Event Model
</h2>
<p>
<blockquote>

In the 1.1 AWT event model,
events are generated by event <em>sources</em>.
One or more <em>listeners</em>
can register to be notified about events
of a particular kind from a particular source.
Sometimes this model is called <em>delegation</em>,
since it allows the programmer to delegate authority
for event handling
to any object that implements the appropriate listener interface.
The 1.1 AWT event model lets you both
handle and generate AWT events.

<p>

Event handlers can be instances of any class.
As long as a class implements an event listener interface,
its instances can handle events.
In every program 
that has an event handler,
you'll see three bits of code:

<ol>
<li> In the <code>class</code> statement of the event handler,
     code declaring that the class
     implements a listener interface
     (or extends a class that implements a listener interface).
     For example:
     <blockquote>
     <pre>
public class MyClass implements ActionListener {
     </pre>
     </blockquote>
<p>
<li> Code that registers an instance of the event handling class
     as a listener upon one or more components.
     For example:
     <blockquote>
     <pre>
someComponent.addActionListener(instanceOfMyClass);
     </pre>
     </blockquote>
<p>
<li> The implementation of the methods in the listener interface.
     For example:
     <blockquote>
     <pre>
public void actionPerformed(ActionEvent e) {
    <em>...//code that reacts to the action...</em>
}
     </pre>
     </blockquote>
</ol>


<h4>
<a name="example1">
A Simple Example
</a>
</h4>

Here is a bare-bones 1.1 applet that illustrates event handling.
It contains a single button 
that beeps when you click it.

<p>
<applet codebase="http://docs.rinet.ru:8080/OLDui/OLDui/components/example-1dot1/" 
	code="Beeper.class"
	width=250 height=100
	alt="Your browser understands the applet tag but isn't displaying any applet.">
</applet>
<p>

<blockquote><hr><strong>Note:</strong> The above applet requires JDK 1.1. If you are using an older browser that does not support 1.1, you won't be able to run the applet. Instead, you need to view this page in a 1.1-compliant browser, such as HotJava or the JDK Applet Viewer (<code>appletviewer</code>).<hr></blockquote>
You can find the entire program in
<a href="http://docs.rinet.ru/OLDui/OLDui/components/example-1dot1/Beeper.java"><code>Beeper.java</code></a>.
Here's just the code that implements the event handling
for the button:

<blockquote>
<pre>
public class Beeper ... implements ActionListener {
    ...
    <em>//where initialization occurs:</em>
        button.addActionListener(this);
    ...
    public void actionPerformed(ActionEvent e) {
        <em>...//Make a beep sound...</em>
    }
}
</pre>
</blockquote>

Isn't that simple?
The <code>Beeper</code> class implements the 
<a href="actionlistener.html"><code>ActionListener</code></a> interface,
which contains one method:
<code>actionPerformed</code>.
Since <code>Beeper</code> implements <code>ActionListener</code>,
a <code>Beeper</code> object can register as a listener
for the action events that buttons generate.
Once the <code>Beeper</code> 
has been registered
using the <code>Button</code> <code>addActionListener</code> method,
the <code>Beeper</code>'s
<code>actionPerformed</code> method
is called every time
the button is clicked.

<h4>
<a name="example2">
A More Complex Example
</a>
</h4>

The 1.1 event model,
which you saw at its simplest in the above example,
is quite powerful and flexible.
Any number of event listener objects
can listen for all kinds of events
from any number of event source objects.
For example, a program
might create one listener per event source.
Or a program might have a single listener
for all events from all sources.
A program can even have more than one listener
for a single kind of event from a single event source.

<p>

The following applet gives an example
of using multiple listeners per object.
The applet contains two event sources 
(<code>Button</code> instances)
and two event listeners.
One of the event listeners
(an instance of a class called <code>MultiListener</code>)
listens for events from both buttons.
When it receives an event, 
it adds the event's "action command"
(the text on the button's label)
to the top text area.
The second event listener
(an instance of a class called <code>Eavesdropper</code>)
listens for events on only one of the buttons.
When it receives an event,
it adds the action command 
to the bottom text area.

<p>
<applet codebase="http://docs.rinet.ru:8080/OLDui/OLDui/components/example-1dot1/" 
	code="MultiListener.class"
	width=300 height=300
	alt="Your browser understands the applet tag but isn't displaying any applet.">
</applet>
<p>

<blockquote><hr><strong>Note:</strong> The above applet requires JDK 1.1. If you are using an older browser that does not support 1.1, you won't be able to run the applet. Instead, you need to view this page in a 1.1-compliant browser, such as HotJava or the JDK Applet Viewer (<code>appletviewer</code>).<hr></blockquote>You can find the entire program in
<a href="http://docs.rinet.ru/OLDui/OLDui/components/example-1dot1/MultiListener.java"><code>MultiListener.java</code></a>.
Here's just the code that implements the event handling
for the button:

<blockquote>
<pre>
public class MultiListener ... implements ActionListener {
    ...
    <em>//where initialization occurs:</em>
        button1.addActionListener(this);
        button2.addActionListener(this);

        button2.addActionListener(new Eavesdropper(bottomTextArea));
    }

    public void actionPerformed(ActionEvent e) {
        topTextArea.append(e.getActionCommand() + "\n");
    }
}

class Eavesdropper implements ActionListener {
    ...
    public void actionPerformed(ActionEvent e) {
        myTextArea.append(e.getActionCommand() + "\n");
    }
}
</pre>
</blockquote>

In the above code, 
both <code>MultiListener</code> and <code>Eavesdropper</code>
implement the <code>ActionListener</code> interface
and register as action listeners 
using the <code>Button</code> <code>addActionListener</code> method.
Both classes' implementations of the <code>actionPerformed</code> method
are similar:
they simply add the event's action command 
to a text area. 

<h4>
<a name="example3">
An Example of Handling Another Event Type
</a>
</h4>

So far, the only kind of event you've seen 
has been action events.
Let's take a look at a program that handles
another kind of event:
mouse events.

<p>

The following applet
displays a rectangle-edged area
and a text area.
Whenever a mouse event --
a click, press, release, enter, or exit --
occurs on either the rectangle-edged area
(<code>BlankArea</code)
or its container
(<code>MouseEventDemo</code>),
the text area displays a string describing the event.

<p>

<p>
<applet codebase="http://docs.rinet.ru:8080/OLDui/OLDui/components/example-1dot1/" 
	code="MouseEventDemo.class"
	width=450 height=200
	alt="Your browser understands the applet tag but isn't displaying any applet.">
</applet>
<p>

<blockquote><hr><strong>Note:</strong> The above applet requires JDK 1.1. If you are using an older browser that does not support 1.1, you won't be able to run the applet. Instead, you need to view this page in a 1.1-compliant browser, such as HotJava or the JDK Applet Viewer (<code>appletviewer</code>).<hr></blockquote>
You can find the entire program in
<a href="http://docs.rinet.ru/OLDui/OLDui/components/example-1dot1/MouseEventDemo.java"><code>MouseEventDemo.java</code></a>
and 
<a href="http://docs.rinet.ru/OLDui/OLDui/components/example-1dot1/BlankArea.java"><code>BlankArea.java</code></a>.
Here's just the code that implements the event handling:

<blockquote>
<pre>
public class MouseEventDemo ...  implements MouseListener {
    ...
    <em>//where initialization occurs:</em>
        //Register for mouse events on blankArea and applet (panel).
        blankArea.addMouseListener(this);
        addMouseListener(this);
    }

    public void mousePressed(MouseEvent e) {
       saySomething("Mouse button press", e);
    }

    public void mouseReleased(MouseEvent e) {
       saySomething("Mouse button release", e);
    }

    public void mouseEntered(MouseEvent e) {
       saySomething("Cursor enter", e);
    }

    public void mouseExited(MouseEvent e) {
       saySomething("Cursor exit", e);
    }

    public void mouseClicked(MouseEvent e) {
       saySomething("Mouse button click", e);
    }

    void saySomething(String eventDescription, MouseEvent e) {
        textArea.append(eventDescription + " detected on "
                        + e.getComponent().getClass().getName()
                        + ".\n");
        textArea.setCaretPosition(maxInt); //hack to scroll to bottom
    }
}
</pre>
</blockquote>

You'll see the code explained in
<a href="mouselistener.html">Implementing a Mouse Listener,</a>
later in this section.

</blockquote>
<p>
<hr size=4>
<p> 
<table width="100%">
<tr>
<td align=left>
<a href="eventmodel.html"><img src="http://docs.rinet.ru/OLDui/images/PreviousArrow.gif" width=26 height=26 align=top border=0 alt="Previous | "></a><a
href="eventinnerclasses.html"><img src="http://docs.rinet.ru/OLDui/images/NextArrow.gif" width=26 height=26 align=top border=0 alt="Next | "></a><a
href="http://docs.rinet.ru:8080/OLDui/trailmap.html"><img src="http://docs.rinet.ru/OLDui/images/WayUpArrow.gif" width=26 height=26 align=top border=0 alt="Trail Map | "></a><a
href="..\index.html"><img src="http://docs.rinet.ru/OLDui/images/uiHeader.gif" width=26 height=26 align=top border=0 alt="Creating a User Interface (AWT Only) | "></a>
</td>
<td align=right>
<a href="index.html"><strong><em>Using Components, the GUI Building Blocks</em></strong></a>
</td>
</tr>
</table>
</body>
</html>
