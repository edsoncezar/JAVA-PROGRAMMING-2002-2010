<HTML>
<HEAD>
<TITLE>find and join Methods</TITLE>
</HEAD>
<BODY bgcolor="#FFFFFF">
 <img src="..\icons\cover75.gif" alt="Cover" align=right>
<b>Data Structures and Algorithms 
with Object-Oriented Design Patterns in Java</b><br>
<A NAME="tex2html6928" HREF="page408.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="..\icons\next_motif.gif"></A> <A NAME="tex2html6926" HREF="page404.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="..\icons\up_motif.gif"></A> <A NAME="tex2html6922" HREF="page406.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="..\icons\previous_motif.gif"></A> <A NAME="tex2html6930" HREF="page9.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="..\icons\contents_motif.gif"></A> <A NAME="tex2html6931" HREF="page618.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="..\icons\index_motif.gif"></A> <BR><HR>
<H3><A NAME="SECTION0013413000000000000000"><tt>find</tt> and <tt>join</tt> Methods</A></H3>
<P>
Two elements of the universe are in the same part of the partition
if and only if they share the same root node.
Since every tree has a unique root,
it makes sense to use the root node as the ``handle'' for that tree.
Therefore, the <em>find</em> operation takes an element of the universal set
and returns the root node of the tree that contains that element.
And because of way in which the trees are represented,
we can follow the chain of parent pointers to find the root node.
<P>
Program&nbsp;<A HREF="page407.html#progPartitionAsForestc"><IMG  ALIGN=BOTTOM ALT="gif" SRC="..\icons\cross_ref_motif.gif"></A> gives the code for the <tt>find</tt>
method of the <tt>PartitionAsForest</tt> class.
The <tt>find</tt> method takes as its argument
an <tt>int</tt> and returns a <tt>Set</tt>.
The argument specifies the item of the universe
that is the object of the search.
<P>
<P><A NAME="28522">&#160;</A><A NAME="progPartitionAsForestc">&#160;</A> <IMG WIDTH=575 HEIGHT=294 ALIGN=BOTTOM ALT="program28460" SRC="img1643.gif"  ><BR>
<STRONG>Program:</STRONG> <tt>PartitionAsForest</tt> class <tt>find</tt> method.<BR>
<P>
<P>
The <tt>find</tt> operation begins at the node <tt>array[item]</tt>
and follows the chain of parent fields to find the root node of the tree
that contains the specified item.
The result of the method is the root node.
<P>
The running time of the <tt>find</tt> operation
is <I>O</I>(<I>d</I>) where <I>d</I> is the depth
in the tree of the node from which the search begins.
If we don't do anything special to prevent it,
the worst case running time is <I>O</I>(<I>N</I>),
where <I>N</I> is the size of the universe.
The best performance is achieved when every non-root node
points to the root node.
In this case, the running time is <I>O</I>(1).
<P>
Another advantage of having the parent field in each node
is that the <em>join</em> operation can be implemented easily and efficiently.
For example, suppose we wish to <em>join</em>
the two sets  <IMG WIDTH=15 HEIGHT=23 ALIGN=MIDDLE ALT="tex2html_wrap_inline59252" SRC="img446.gif"  > and  <IMG WIDTH=15 HEIGHT=23 ALIGN=MIDDLE ALT="tex2html_wrap_inline59256" SRC="img448.gif"  > shown in Figure&nbsp;<A HREF="page404.html#figsets1"><IMG  ALIGN=BOTTOM ALT="gif" SRC="..\icons\cross_ref_motif.gif"></A>.
While there are many possible representations for  <IMG WIDTH=49 HEIGHT=23 ALIGN=MIDDLE ALT="tex2html_wrap_inline66596" SRC="img1644.gif"  >,
it turns out that there are two simple alternatives which can be
obtained in constant time.
These are shown in Figure&nbsp;<A HREF="page404.html#figsets2"><IMG  ALIGN=BOTTOM ALT="gif" SRC="..\icons\cross_ref_motif.gif"></A>.
In the first alternative,
the root of  <IMG WIDTH=15 HEIGHT=23 ALIGN=MIDDLE ALT="tex2html_wrap_inline59256" SRC="img448.gif"  > is made a child of the root of  <IMG WIDTH=15 HEIGHT=23 ALIGN=MIDDLE ALT="tex2html_wrap_inline59252" SRC="img446.gif"  >.
This can be done in constant time simply by making the parent field
of the root of  <IMG WIDTH=15 HEIGHT=23 ALIGN=MIDDLE ALT="tex2html_wrap_inline59256" SRC="img448.gif"  > refer to the root of  <IMG WIDTH=15 HEIGHT=23 ALIGN=MIDDLE ALT="tex2html_wrap_inline59252" SRC="img446.gif"  >.
The second alternative is essentially the same as the first
except that the roles of  <IMG WIDTH=15 HEIGHT=23 ALIGN=MIDDLE ALT="tex2html_wrap_inline59252" SRC="img446.gif"  > and  <IMG WIDTH=15 HEIGHT=23 ALIGN=MIDDLE ALT="tex2html_wrap_inline59256" SRC="img448.gif"  > are exchanged.
<P>
<P><A NAME="28787">&#160;</A><A NAME="figsets3">&#160;</A> <IMG WIDTH=575 HEIGHT=415 ALIGN=BOTTOM ALT="figure28476" SRC="img1645.gif"  ><BR>
<STRONG>Figure:</STRONG> Alternatives for joining elements of a partition.<BR>
<P>
<P>
Program&nbsp;<A HREF="page407.html#progPartitionAsForestd"><IMG  ALIGN=BOTTOM ALT="gif" SRC="..\icons\cross_ref_motif.gif"></A> gives the simplest possible implementation
for the <tt>join</tt> operation.
The <tt>join</tt> method of the <tt>PartitionAsForest</tt> class
takes two arguments--both of the references to <tt>Set</tt>s.
Both arguments are required to be references to distinct
<tt>PartitionTree</tt> instances which are contained in the given partition.
Furthermore, both of them are required to be root nodes.
Therefore, the sets that the arguments represent are <em>disjoint</em>.
The method <tt>checkArguments</tt> makes sure that the arguments
satisfy these conditions.
<P>
The <tt>join</tt> operation is trivial and executes in constant time:
It simply makes one node the parent of the other.
In this case, we have arbitrarily chosen that
the node specified by the first argument shall always become the parent.
<P>
<P><A NAME="28858">&#160;</A><A NAME="progPartitionAsForestd">&#160;</A> <IMG WIDTH=575 HEIGHT=485 ALIGN=BOTTOM ALT="program28799" SRC="img1646.gif"  ><BR>
<STRONG>Program:</STRONG> <tt>PartitionAsForest</tt> class simple <tt>join</tt> method.<BR>
<P><HR><A NAME="tex2html6928" HREF="page408.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="..\icons\next_motif.gif"></A> <A NAME="tex2html6926" HREF="page404.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="..\icons\up_motif.gif"></A> <A NAME="tex2html6922" HREF="page406.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="..\icons\previous_motif.gif"></A> <A NAME="tex2html6930" HREF="page9.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="..\icons\contents_motif.gif"></A> <A NAME="tex2html6931" HREF="page618.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="..\icons\index_motif.gif"></A> <P><ADDRESS>
<img src="..\icons\bruno.gif" alt="Bruno" align=right>
<a href="..\copyright.html">Copyright &#169; 1998</a> by <a href="..\signature.html">Bruno R. Preiss, P.Eng.</a>  All rights reserved.

</ADDRESS>
</BODY>
</HTML>
