<HTML>
<HEAD>
<TITLE>Average Case Analysis</TITLE>
</HEAD>
<BODY bgcolor="#FFFFFF">
 <img src="..\icons\cover75.gif" alt="Cover" align=right>
<b>Data Structures and Algorithms 
with Object-Oriented Design Patterns in Java</b><br>
<A NAME="tex2html4732" HREF="page231.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="..\icons\next_motif.gif"></A> <A NAME="tex2html4730" HREF="page223.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="..\icons\up_motif.gif"></A> <A NAME="tex2html4726" HREF="page229.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="..\icons\previous_motif.gif"></A> <A NAME="tex2html4734" HREF="page9.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="..\icons\contents_motif.gif"></A> <A NAME="tex2html4735" HREF="page618.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="..\icons\index_motif.gif"></A> <BR><HR>
<H2><A NAME="SECTION009420000000000000000">Average Case Analysis</A></H2>
<A NAME="sechashingloadfactor">&#160;</A>
<P>
The previous section has shown that in the worst case,
the running time to insert an object into a separately chained hash table
is <I>O</I>(1),
and the time to find or delete an object is <I>O</I>(<I>n</I>).
But these bounds are no better than the same operations on plain lists!
Why have we gone to all the trouble inventing hash tables?
<P>
The answer lies not in the worst-case performance,
but in the average expected performance.
Suppose we have a hash table of size <I>M</I>.
Let there be exactly <I>n</I> items in the hash table.
We call the quantity  <IMG WIDTH=63 HEIGHT=24 ALIGN=MIDDLE ALT="tex2html_wrap_inline61748" SRC="img940.gif"  >
the <em>load factor</em><A NAME=11254>&#160;</A><A NAME=11346>&#160;</A><A NAME=11347>&#160;</A>.
The load factor is simply the ratio
of the number of items in the hash table to the array length.
<P>
Program&nbsp;<A HREF="page230.html#progAbstractHashTableb"><IMG  ALIGN=BOTTOM ALT="gif" SRC="..\icons\cross_ref_motif.gif"></A> gives the implementation for
the <tt>getLoadFactor</tt> method of the <tt>AbstractHashTable</tt> class.
This method computes  <IMG WIDTH=63 HEIGHT=24 ALIGN=MIDDLE ALT="tex2html_wrap_inline61748" SRC="img940.gif"  > by calling the <tt>getCount</tt> method
to determine <I>n</I> and the <tt>getLength</tt> method to determine <I>M</I>.
<P>
<P><A NAME="11348">&#160;</A><A NAME="progAbstractHashTableb">&#160;</A> <IMG WIDTH=575 HEIGHT=199 ALIGN=BOTTOM ALT="program11262" SRC="img942.gif"  ><BR>
<STRONG>Program:</STRONG> <tt>AbstractHashTable</tt> class <tt>getLoadFactor</tt> method.<BR>
<P>
<P>
Consider a chained hash table.
Let  <IMG WIDTH=13 HEIGHT=15 ALIGN=MIDDLE ALT="tex2html_wrap_inline61758" SRC="img943.gif"  > be the number of items in the  <IMG WIDTH=17 HEIGHT=13 ALIGN=BOTTOM ALT="tex2html_wrap_inline57340" SRC="img77.gif"  > linked list,
for  <IMG WIDTH=131 HEIGHT=22 ALIGN=MIDDLE ALT="tex2html_wrap_inline61762" SRC="img944.gif"  >.
The average length of a linked list is
<P> <IMG WIDTH=500 HEIGHT=66 ALIGN=BOTTOM ALT="eqnarray11272" SRC="img945.gif"  ><P>
The average length of a linked list is exactly the load factor!
<P>
If we are given the load factor  <IMG WIDTH=8 HEIGHT=11 ALIGN=BOTTOM ALT="tex2html_wrap_inline61750" SRC="img941.gif"  >,
we can determine the <em>average</em> running times for the various operations.
The average running time of <tt>insert</tt>
is the same as its worst case time, <I>O</I>(1)--this result does not depend on  <IMG WIDTH=8 HEIGHT=11 ALIGN=BOTTOM ALT="tex2html_wrap_inline61750" SRC="img941.gif"  >.
On the other hand,
the average running time for <tt>withdraw</tt> does depend on  <IMG WIDTH=8 HEIGHT=11 ALIGN=BOTTOM ALT="tex2html_wrap_inline61750" SRC="img941.gif"  >.
It is  <IMG WIDTH=177 HEIGHT=26 ALIGN=MIDDLE ALT="tex2html_wrap_inline61772" SRC="img946.gif"  > since the time required to delete an item
from a linked list of length  <IMG WIDTH=8 HEIGHT=11 ALIGN=BOTTOM ALT="tex2html_wrap_inline61750" SRC="img941.gif"  > is  <IMG WIDTH=32 HEIGHT=24 ALIGN=MIDDLE ALT="tex2html_wrap_inline61776" SRC="img947.gif"  >.
<P>
To determine the average running time for the <tt>find</tt> operation,
we need to make an assumption about whether the item that is being sought
is in the table.
If the item is not found in the table,
the search is said to be <em>unsuccessful</em>.
The average running time for an unsuccessful search is
<P> <IMG WIDTH=379 HEIGHT=17 ALIGN=BOTTOM ALT="displaymath61734" SRC="img948.gif"  ><P>
On the other hand, if the search target is in the table,
the search is said to be <em>successful</em>.
The average number of comparisons needed to find an arbitrary item
in a linked list of length  <IMG WIDTH=8 HEIGHT=11 ALIGN=BOTTOM ALT="tex2html_wrap_inline61750" SRC="img941.gif"  > is
<P> <IMG WIDTH=304 HEIGHT=47 ALIGN=BOTTOM ALT="displaymath61735" SRC="img949.gif"  ><P>
Thus, the average running time for a successful search is
<P> <IMG WIDTH=413 HEIGHT=17 ALIGN=BOTTOM ALT="displaymath61736" SRC="img950.gif"  ><P>
<P>
So, while any one search operation can be as bad as <I>O</I>(<I>n</I>),
if we do a large number of random searches,
we expect that the average running time will be  <IMG WIDTH=32 HEIGHT=24 ALIGN=MIDDLE ALT="tex2html_wrap_inline61776" SRC="img947.gif"  >.
In fact, if we have a sufficiently good hash function
and a reasonable set of objects in the container,
we can expect that those objects are distributed throughout the table.
Therefore, any one search operation
will not be very much worse than the worst case.
<P>
Finally, if we know how many objects will be inserted into the
hash table <em>a priori</em>,
then we can choose a table size <I>M</I> which is larger than
the maximum number of items expected.
By doing this, we can ensure that  <IMG WIDTH=92 HEIGHT=24 ALIGN=MIDDLE ALT="tex2html_wrap_inline61786" SRC="img951.gif"  >.
That is, a linked list contains no more than one item on average.
In this case, the average time for <tt>withdraw</tt> is  <IMG WIDTH=124 HEIGHT=26 ALIGN=MIDDLE ALT="tex2html_wrap_inline61718" SRC="img935.gif"  >
and for <tt>find</tt> it is  <IMG WIDTH=192 HEIGHT=26 ALIGN=MIDDLE ALT="tex2html_wrap_inline61790" SRC="img952.gif"  >.
<P>
<HR><A NAME="tex2html4732" HREF="page231.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="..\icons\next_motif.gif"></A> <A NAME="tex2html4730" HREF="page223.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="..\icons\up_motif.gif"></A> <A NAME="tex2html4726" HREF="page229.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="..\icons\previous_motif.gif"></A> <A NAME="tex2html4734" HREF="page9.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="..\icons\contents_motif.gif"></A> <A NAME="tex2html4735" HREF="page618.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="..\icons\index_motif.gif"></A> <P><ADDRESS>
<img src="..\icons\bruno.gif" alt="Bruno" align=right>
<a href="..\copyright.html">Copyright &#169; 1998</a> by <a href="..\signature.html">Bruno R. Preiss, P.Eng.</a>  All rights reserved.

</ADDRESS>
</BODY>
</HTML>
