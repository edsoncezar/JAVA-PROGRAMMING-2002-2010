<HTML>
<HEAD>
<TITLE>Inserting an Item at an Arbitrary Position</TITLE>
</HEAD>
<BODY bgcolor="#FFFFFF">
 <img src="..\icons\cover75.gif" alt="Cover" align=right>
<b>Data Structures and Algorithms 
with Object-Oriented Design Patterns in Java</b><br>
<A NAME="tex2html4078" HREF="page178.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="..\icons\next_motif.gif"></A> <A NAME="tex2html4076" HREF="page170.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="..\icons\up_motif.gif"></A> <A NAME="tex2html4070" HREF="page176.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="..\icons\previous_motif.gif"></A> <A NAME="tex2html4080" HREF="page9.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="..\icons\contents_motif.gif"></A> <A NAME="tex2html4081" HREF="page618.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="..\icons\index_motif.gif"></A> <BR><HR>
<H3><A NAME="SECTION008117000000000000000">Inserting an Item at an Arbitrary Position</A></H3>
<P>
Two methods for inserting an item at an arbitrary
position in an ordered list are declared in Program&nbsp;<A HREF="page169.html#progCursora"><IMG  ALIGN=BOTTOM ALT="gif" SRC="..\icons\cross_ref_motif.gif"></A>--<tt>insertBefore</tt> and <tt>insertAfter</tt>.
Both of these take one arguments--a <tt>Comparable</tt> object.
The effects of these two methods are illustrated in Figure&nbsp;<A HREF="page177.html#figlists1"><IMG  ALIGN=BOTTOM ALT="gif" SRC="..\icons\cross_ref_motif.gif"></A>.
<P>
<P><A NAME="9070">&#160;</A><A NAME="figlists1">&#160;</A> <IMG WIDTH=575 HEIGHT=262 ALIGN=BOTTOM ALT="figure8873" SRC="img759.gif"  ><BR>
<STRONG>Figure:</STRONG> Inserting an item in an ordered list implemented as an array.<BR>
<P>
<P>
Figure&nbsp;<A HREF="page177.html#figlists1"><IMG  ALIGN=BOTTOM ALT="gif" SRC="..\icons\cross_ref_motif.gif"></A> shows that in both cases
a number of items to the right of the insertion point
need to be moved over
to make room for the item that is being inserted into the ordered list.
In the case of <tt>insertBefore</tt>,
items to the right <em>including the item at the point of insertion</em>
are moved;
for <tt>insertAfter</tt>,
only items to the right of the point of insertion are moved,
and the new item is inserted in the array location
following the insertion point.
<P>
Program&nbsp;<A HREF="page177.html#progOrderedListAsArrayf"><IMG  ALIGN=BOTTOM ALT="gif" SRC="..\icons\cross_ref_motif.gif"></A> gives the implementation of the
<tt>insertAfter</tt> method for the <tt>OrderedListAsArray.MyCursor</tt> class.
The code for the <tt>insertBefore</tt> method is identical
except for one line as explained below.
<P>
<P><A NAME="9141">&#160;</A><A NAME="progOrderedListAsArrayf">&#160;</A> <IMG WIDTH=575 HEIGHT=561 ALIGN=BOTTOM ALT="program9081" SRC="img760.gif"  ><BR>
<STRONG>Program:</STRONG> <tt>OrderedListAsArray.MyCursor</tt> class <tt>insertAfter</tt> method.<BR>
<P>
<P>
The <tt>insertAfter</tt> method takes one arguments--a <tt>Comparable</tt> object.
The method begins by performing some simple tests
to ensure that the position is valid
and that there is room left in the array to do the insertion.
<P>
On line&nbsp;19 the array index where the new item will
ultimately be stored is computed.
For <tt>insertAfter</tt> the index is  <IMG WIDTH=76 HEIGHT=24 ALIGN=MIDDLE ALT="tex2html_wrap_inline60562" SRC="img761.gif"  >
as shown in Program&nbsp;<A HREF="page177.html#progOrderedListAsArrayf"><IMG  ALIGN=BOTTOM ALT="gif" SRC="..\icons\cross_ref_motif.gif"></A>.
In the case of <tt>insertBefore</tt>,
the value required is simply <tt>offset</tt>.
The loop on lines&nbsp;21-22 moves items over
and then object being inserted is put in the array on line&nbsp;23.
<P>
If we assume that no exceptions are thrown,
the running time of <tt>insertAfter</tt>
is dominated by the loop which moves list items.
In the worst case, all the items in the array need to be moved.
Thus, the running time of both the <tt>insertAfter</tt>
and <tt>insertBefore</tt> method is <I>O</I>(<I>n</I>),
where  <IMG WIDTH=72 HEIGHT=9 ALIGN=BOTTOM ALT="tex2html_wrap_inline60196" SRC="img675.gif"  >.
<P>
<HR><A NAME="tex2html4078" HREF="page178.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="..\icons\next_motif.gif"></A> <A NAME="tex2html4076" HREF="page170.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="..\icons\up_motif.gif"></A> <A NAME="tex2html4070" HREF="page176.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="..\icons\previous_motif.gif"></A> <A NAME="tex2html4080" HREF="page9.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="..\icons\contents_motif.gif"></A> <A NAME="tex2html4081" HREF="page618.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="..\icons\index_motif.gif"></A> <P><ADDRESS>
<img src="..\icons\bruno.gif" alt="Bruno" align=right>
<a href="..\copyright.html">Copyright &#169; 1998</a> by <a href="..\signature.html">Bruno R. Preiss, P.Eng.</a>  All rights reserved.

</ADDRESS>
</BODY>
</HTML>
