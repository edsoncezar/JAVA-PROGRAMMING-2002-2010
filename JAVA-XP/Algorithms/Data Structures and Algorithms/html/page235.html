<HTML>
<HEAD>
<TITLE>Inserting and Finding an Item</TITLE>
</HEAD>
<BODY bgcolor="#FFFFFF">
 <img src="..\icons\cover75.gif" alt="Cover" align=right>
<b>Data Structures and Algorithms 
with Object-Oriented Design Patterns in Java</b><br>
<A NAME="tex2html4799" HREF="page236.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="..\icons\next_motif.gif"></A> <A NAME="tex2html4797" HREF="page232.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="..\icons\up_motif.gif"></A> <A NAME="tex2html4791" HREF="page234.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="..\icons\previous_motif.gif"></A> <A NAME="tex2html4801" HREF="page9.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="..\icons\contents_motif.gif"></A> <A NAME="tex2html4802" HREF="page618.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="..\icons\index_motif.gif"></A> <BR><HR>
<H3><A NAME="SECTION009513000000000000000">Inserting and Finding an Item</A></H3>
<P>
Program&nbsp;<A HREF="page235.html#progChainedScatterTablec"><IMG  ALIGN=BOTTOM ALT="gif" SRC="..\icons\cross_ref_motif.gif"></A> gives the code
for the <tt>insert</tt> and <tt>find</tt>
methods of the <tt>ChainedScatterTable</tt> class.
To insert an item into a chained scatter table
we need to find an unused array location in which to put the item.
We first hash the item to determine the ``natural'' location for that item.
If the natural location is unused,
we store the item there and we are done.
<P>
<P><A NAME="11856">&#160;</A><A NAME="progChainedScatterTablec">&#160;</A> <IMG WIDTH=575 HEIGHT=714 ALIGN=BOTTOM ALT="program11768" SRC="img963.gif"  ><BR>
<STRONG>Program:</STRONG> <tt>ChainedScatterTable</tt> class <tt>insert</tt> and <tt>find</tt> methods.<BR>
<P>
<P>
However, if the natural position for an item is occupied,
then a collision has occurred and an alternate location in which to
store that item must be found.
When a collision occurs it must be the case that there is a chain
emanating from the natural position for the item.
The insertion algorithm given always adds items at the end of the chain.
Therefore, after a collision has been detected,
the end of the chain is found (lines&nbsp;13-15).
<P>
After the end of the chain is found,
an unused array position in which to store the item must be found.
This is done by a simple, linear search starting from the array position
immediately following the end of the chain (lines&nbsp;16-18).
Once an unused position is found,
it is linked to the end of the chain (line&nbsp;19),
and the item is stored in the unused position (lines&nbsp;21-22).
<P>
The worst case running time for insertion occurs when the scatter table
has only one unused entry. 
That is, when the number of items in the table is <I>n</I>=<I>M</I>-1,
where <I>M</I> is the table size.
In the worst case,
all of the used array elements are linked into a single chain
of length <I>M</I>-1 and the item to be inserted hashes to the head of the chain.
In this case, it takes <I>O</I>(<I>M</I>) to find the end of the chain.
In the worst case, the end of the chain immediately follows the unused
array position.
Consequently, the linear search for the unused position is also <I>O</I>(<I>M</I>).
Once an unused position has been found,
the actual insertion can be done in constant time.
Therefore, the running time of the insertion operation is
 <IMG WIDTH=133 HEIGHT=26 ALIGN=MIDDLE ALT="tex2html_wrap_inline61830" SRC="img964.gif"  > in the worst case.
<P>
Program&nbsp;<A HREF="page235.html#progChainedScatterTablec"><IMG  ALIGN=BOTTOM ALT="gif" SRC="..\icons\cross_ref_motif.gif"></A> also gives the code for the <tt>find</tt>
method which is used to locate a given object in the scatter table.
The algorithm is straightforward.
The item is hashed to find its natural location in the table.
If the item is not found in the natural location but a chain emanates
from that location,
the chain is followed to determine
if that item appears anywhere in the chain.
<P>
The worst-case running time occurs when
the item for which we are looking is not in the table,
the table is completely full,
and all of the entries are linked together into a single linked list.
In this case, the running time of the <tt>find</tt> algorithm is
 <IMG WIDTH=219 HEIGHT=26 ALIGN=MIDDLE ALT="tex2html_wrap_inline61832" SRC="img965.gif"  >.
<P>
<HR><A NAME="tex2html4799" HREF="page236.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="..\icons\next_motif.gif"></A> <A NAME="tex2html4797" HREF="page232.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="..\icons\up_motif.gif"></A> <A NAME="tex2html4791" HREF="page234.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="..\icons\previous_motif.gif"></A> <A NAME="tex2html4801" HREF="page9.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="..\icons\contents_motif.gif"></A> <A NAME="tex2html4802" HREF="page618.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="..\icons\index_motif.gif"></A> <P><ADDRESS>
<img src="..\icons\bruno.gif" alt="Bruno" align=right>
<a href="..\copyright.html">Copyright &#169; 1998</a> by <a href="..\signature.html">Bruno R. Preiss, P.Eng.</a>  All rights reserved.

</ADDRESS>
</BODY>
</HTML>
