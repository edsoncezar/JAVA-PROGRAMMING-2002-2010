<HTML>
<HEAD>
<TITLE>Stop-and-Copy Garbage Collection</TITLE>
</HEAD>
<BODY bgcolor="#FFFFFF">
 <img src="..\icons\cover75.gif" alt="Cover" align=right>
<b>Data Structures and Algorithms 
with Object-Oriented Design Patterns in Java</b><br>
<A NAME="tex2html7159" HREF="page427.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="..\icons\next_motif.gif"></A> <A NAME="tex2html7157" HREF="page414.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="..\icons\up_motif.gif"></A> <A NAME="tex2html7151" HREF="page425.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="..\icons\previous_motif.gif"></A> <A NAME="tex2html7161" HREF="page9.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="..\icons\contents_motif.gif"></A> <A NAME="tex2html7162" HREF="page618.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="..\icons\index_motif.gif"></A> <BR><HR>
<H1><A NAME="SECTION0014400000000000000000">Stop-and-Copy Garbage Collection</A></H1>
<P>
<A NAME="secgarbagestopcopy">&#160;</A>
<P>
The section describes a garbage collection approach
that collects garbage <em>and</em> defragments the heap
called <em>stop-and-copy</em><A NAME=30690>&#160;</A><A NAME=30691>&#160;</A>.
When using the stop-and-copy garbage collection algorithm,
the heap is divided into two separate regions.
At any point in time, all dynamically allocated object instances
reside in only one of the two regions--the active region.
The other, inactive region is unoccupied.
<P>
When the memory in the active region is exhausted,
the program is suspended and the garbage-collection algorithm is invoked.
The stop-and-copy algorithm copies all of the live objects from
the active region to the inactive region.
As each object is copied, all references contained in that object
are updated to reflect the new locations of the referenced objects.
<P>
After the copying is completed,
the active and inactive regions exchange their roles.
Since the stop-and-copy algorithm copies only the live objects,
the garbage objects are left behind.
In effect, the storage occupied by the garbage is reclaimed
all at once when the active region becomes inactive.
<P>
As the stop-and-copy algorithm copies the live objects from
the active region to the inactive region,
it stores the objects in contiguous memory locations.
Thus, the stop-and-copy algorithm automatically defragments the heap.
This is the main advantage of the stop-and-copy approach
over the mark-and-sweep algorithm described in the preceding section.
<P>
The costs of the stop-and-copy algorithm are twofold:
First, the algorithm requires that <em>all</em> live objects
be copied every time garbage collection is invoked.
If an application program has a large memory footprint,
the time required to copy all objects can be quite significant.
A second cost associated with stop-and-copy is the fact
that it requires twice as much memory as the program actually uses.
When garbage collection is finished,
at least half of the memory space is unused.
<P>
<BR> <HR>
<UL> 
<LI> <A NAME="tex2html7163" HREF="page427.html#SECTION0014410000000000000000">The Copy Algorithm</A>
</UL>
<HR><A NAME="tex2html7159" HREF="page427.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="..\icons\next_motif.gif"></A> <A NAME="tex2html7157" HREF="page414.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="..\icons\up_motif.gif"></A> <A NAME="tex2html7151" HREF="page425.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="..\icons\previous_motif.gif"></A> <A NAME="tex2html7161" HREF="page9.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="..\icons\contents_motif.gif"></A> <A NAME="tex2html7162" HREF="page618.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="..\icons\index_motif.gif"></A> <P><ADDRESS>
<img src="..\icons\bruno.gif" alt="Bruno" align=right>
<a href="..\copyright.html">Copyright &#169; 1998</a> by <a href="..\signature.html">Bruno R. Preiss, P.Eng.</a>  All rights reserved.

</ADDRESS>
</BODY>
</HTML>
