<HTML>
<HEAD>
<TITLE>Applications</TITLE>
</HEAD>
<BODY bgcolor="#FFFFFF">
 <img src="..\icons\cover75.gif" alt="Cover" align=right>
<b>Data Structures and Algorithms 
with Object-Oriented Design Patterns in Java</b><br>
<A NAME="tex2html6974" HREF="page412.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="..\icons\next_motif.gif"></A> <A NAME="tex2html6972" HREF="page385.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="..\icons\up_motif.gif"></A> <A NAME="tex2html6966" HREF="page410.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="..\icons\previous_motif.gif"></A> <A NAME="tex2html6976" HREF="page9.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="..\icons\contents_motif.gif"></A> <A NAME="tex2html6977" HREF="page618.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="..\icons\index_motif.gif"></A> <BR><HR>
<H1><A NAME="SECTION0013500000000000000000">Applications</A></H1>
<P>
One of the most important applications of partitions
involves the processing of equivalence relations.
Equivalence relations arise in many interesting contexts.
For example, two nodes in an electric circuit are electrically equivalent
if there is a conducting path (a wire) connecting the two nodes.
In effect, the wires establish an electrical equivalence relation over
the nodes of a circuit.
<P>
A similar relation arises among the classes in a Java program.
Consider the following Java code fragment:
<PRE>interface I {}
class A implements I {}
class B implements I {}
class C extends A {}
class D extends B {}</PRE>
The three classes <tt>A</tt>, <tt>B</tt>, <tt>C</tt> and <tt>D</tt>
are equivalent in the sense that they all implement the same interface <tt>I</tt>.
In effect, the class declarations establish an
equivalence relation over the classes in a Java program.
<P>
<BLOCKQUOTE> <b>Definition (Equivalence Relation)</b><A NAME="defnsetsequivalence">&#160;</A>
An <em>equivalence relation</em><A NAME=29243>&#160;</A><A NAME=29244>&#160;</A>
over a universal set <I>U</I> is a relation  <IMG WIDTH=10 HEIGHT=9 ALIGN=BOTTOM ALT="tex2html_wrap_inline66740" SRC="img1667.gif"  >
with the following properties:
<OL><LI> The relation  <IMG WIDTH=10 HEIGHT=9 ALIGN=BOTTOM ALT="tex2html_wrap_inline66740" SRC="img1667.gif"  > is <em>reflexive</em><A NAME=29247>&#160;</A>.
	That is, for every  <IMG WIDTH=39 HEIGHT=23 ALIGN=MIDDLE ALT="tex2html_wrap_inline66744" SRC="img1668.gif"  >,  <IMG WIDTH=38 HEIGHT=9 ALIGN=BOTTOM ALT="tex2html_wrap_inline66746" SRC="img1669.gif"  >.<LI> The relation  <IMG WIDTH=10 HEIGHT=9 ALIGN=BOTTOM ALT="tex2html_wrap_inline66740" SRC="img1667.gif"  > is <em>symmetric</em><A NAME=29249>&#160;</A>.
	That is, for every pair  <IMG WIDTH=39 HEIGHT=23 ALIGN=MIDDLE ALT="tex2html_wrap_inline66744" SRC="img1668.gif"  > and  <IMG WIDTH=40 HEIGHT=22 ALIGN=MIDDLE ALT="tex2html_wrap_inline66752" SRC="img1670.gif"  >,
	    if  <IMG WIDTH=38 HEIGHT=16 ALIGN=MIDDLE ALT="tex2html_wrap_inline66754" SRC="img1671.gif"  > then  <IMG WIDTH=38 HEIGHT=16 ALIGN=MIDDLE ALT="tex2html_wrap_inline66756" SRC="img1672.gif"  >.<LI> The relation  <IMG WIDTH=10 HEIGHT=9 ALIGN=BOTTOM ALT="tex2html_wrap_inline66740" SRC="img1667.gif"  > is <em>transitive</em><A NAME=29251>&#160;</A>.
	That is, for every triple  <IMG WIDTH=39 HEIGHT=23 ALIGN=MIDDLE ALT="tex2html_wrap_inline66744" SRC="img1668.gif"  >,  <IMG WIDTH=40 HEIGHT=22 ALIGN=MIDDLE ALT="tex2html_wrap_inline66752" SRC="img1670.gif"  > and  <IMG WIDTH=40 HEIGHT=23 ALIGN=MIDDLE ALT="tex2html_wrap_inline66764" SRC="img1673.gif"  >,
	    if  <IMG WIDTH=38 HEIGHT=16 ALIGN=MIDDLE ALT="tex2html_wrap_inline66754" SRC="img1671.gif"  > and  <IMG WIDTH=37 HEIGHT=16 ALIGN=MIDDLE ALT="tex2html_wrap_inline66768" SRC="img1674.gif"  > then  <IMG WIDTH=37 HEIGHT=9 ALIGN=BOTTOM ALT="tex2html_wrap_inline66770" SRC="img1675.gif"  >.
</OL></BLOCKQUOTE>
<P>
An important characteristic of an equivalence relation is that it
partitions the elements of the universal set <I>U</I> into
a set of <em>equivalence classes</em><A NAME=29255>&#160;</A>.
That is, <I>U</I> is partitioned into  <IMG WIDTH=143 HEIGHT=27 ALIGN=MIDDLE ALT="tex2html_wrap_inline66456" SRC="img1613.gif"  >,
such that for every pair  <IMG WIDTH=39 HEIGHT=23 ALIGN=MIDDLE ALT="tex2html_wrap_inline66744" SRC="img1668.gif"  > and  <IMG WIDTH=40 HEIGHT=22 ALIGN=MIDDLE ALT="tex2html_wrap_inline66752" SRC="img1670.gif"  >,
 <IMG WIDTH=38 HEIGHT=16 ALIGN=MIDDLE ALT="tex2html_wrap_inline66754" SRC="img1671.gif"  > if and only if
<I>x</I> and <I>y</I> are in the same element of the partition.
That is,  <IMG WIDTH=38 HEIGHT=16 ALIGN=MIDDLE ALT="tex2html_wrap_inline66754" SRC="img1671.gif"  > if there exists a value of <I>i</I>
such that  <IMG WIDTH=101 HEIGHT=22 ALIGN=MIDDLE ALT="tex2html_wrap_inline66792" SRC="img1676.gif"  >.
<P>
For example, consider the universe  <IMG WIDTH=117 HEIGHT=24 ALIGN=MIDDLE ALT="tex2html_wrap_inline66794" SRC="img1677.gif"  >.
and the equivalence relation  <IMG WIDTH=10 HEIGHT=9 ALIGN=BOTTOM ALT="tex2html_wrap_inline66740" SRC="img1667.gif"  > defined over <I>U</I> defines as follows:
<P><A NAME="eqnsetsequiv">&#160;</A> <IMG WIDTH=557 HEIGHT=39 ALIGN=BOTTOM ALT="multline29256" SRC="img1678.gif"  ><P>
This relation results in the following partition of <I>U</I>:
<P> <IMG WIDTH=363 HEIGHT=19 ALIGN=BOTTOM ALT="displaymath66734" SRC="img1679.gif"  ><P>
<P>
The list of equivalences in Equation&nbsp;<A HREF="page411.html#eqnsetsequiv"><IMG  ALIGN=BOTTOM ALT="gif" SRC="..\icons\cross_ref_motif.gif"></A> contains many redundancies.
Since we know that the relation  <IMG WIDTH=10 HEIGHT=9 ALIGN=BOTTOM ALT="tex2html_wrap_inline66740" SRC="img1667.gif"  >
is reflexive, symmetric and transitive,
it is possible to infer the complete relation from the following list
<P> <IMG WIDTH=380 HEIGHT=14 ALIGN=BOTTOM ALT="displaymath66735" SRC="img1680.gif"  ><P>
The problem of finding the set of equivalence classes
from a list of equivalence pairs is easily solved using a partition.
Program&nbsp;<A HREF="page411.html#progAlgorithmsb"><IMG  ALIGN=BOTTOM ALT="gif" SRC="..\icons\cross_ref_motif.gif"></A> shows how it can be done
using the <tt>PartitionAsForest</tt> class defined in Section&nbsp;<A HREF="page404.html#secsetspforest"><IMG  ALIGN=BOTTOM ALT="gif" SRC="..\icons\cross_ref_motif.gif"></A>.
<P>
<P><A NAME="29266">&#160;</A><A NAME="progAlgorithmsb">&#160;</A> <IMG WIDTH=575 HEIGHT=638 ALIGN=BOTTOM ALT="program29263" SRC="img1681.gif"  ><BR>
<STRONG>Program:</STRONG> Application of disjoint sets--finding equivalence classes.<BR>
<P>
<P>
The algorithm first gets a positive integer <tt>n</tt> from the input
and creates a partition, <tt>p</tt>,
of the universe  <IMG WIDTH=139 HEIGHT=24 ALIGN=MIDDLE ALT="tex2html_wrap_inline66804" SRC="img1682.gif"  > (lines&nbsp;7-12).
As explained in Section&nbsp;<A HREF="page404.html#secsetspforest"><IMG  ALIGN=BOTTOM ALT="gif" SRC="..\icons\cross_ref_motif.gif"></A>,
the initial partition comprises <tt>n</tt> disjoint sets of size one.
That is, each element of the universal set
is in a separate element of the partition.
<P>
Each iteration of the main loop processes one equivalence pair (lines&nbsp;18-23).
An equivalence pair consists of two numbers, <tt>i</tt> and <tt>j</tt>,
such that  <IMG WIDTH=39 HEIGHT=23 ALIGN=MIDDLE ALT="tex2html_wrap_inline66806" SRC="img1683.gif"  > and  <IMG WIDTH=39 HEIGHT=23 ALIGN=MIDDLE ALT="tex2html_wrap_inline66808" SRC="img1684.gif"  >.
The <em>find</em> operation is used to determine the sets <tt>s</tt> and <tt>t</tt>
in partition <tt>p</tt> that contain elements <tt>i</tt> and <tt>j</tt>,
respectively (lines&nbsp;24-25).
<P>
If <tt>s</tt> and <tt>t</tt> are not the same set,
then the disjoint sets are united
using the <em>join</em> operation (lines&nbsp;26-27).
Otherwise, <tt>i</tt> and <tt>j</tt> are already in the same set
and the equivalence pair is redundant (line&nbsp;29).
After all the pairs have been processed,
the final partition is printed (line&nbsp;31).
<P>
<HR><A NAME="tex2html6974" HREF="page412.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="..\icons\next_motif.gif"></A> <A NAME="tex2html6972" HREF="page385.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="..\icons\up_motif.gif"></A> <A NAME="tex2html6966" HREF="page410.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="..\icons\previous_motif.gif"></A> <A NAME="tex2html6976" HREF="page9.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="..\icons\contents_motif.gif"></A> <A NAME="tex2html6977" HREF="page618.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="..\icons\index_motif.gif"></A> <P><ADDRESS>
<img src="..\icons\bruno.gif" alt="Bruno" align=right>
<a href="..\copyright.html">Copyright &#169; 1998</a> by <a href="..\signature.html">Bruno R. Preiss, P.Eng.</a>  All rights reserved.

</ADDRESS>
</BODY>
</HTML>
